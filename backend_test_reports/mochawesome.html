<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:52,&quot;tests&quot;:201,&quot;passes&quot;:201,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2021-01-09T19:00:37.978Z&quot;,&quot;end&quot;:&quot;2021-01-09T19:00:46.306Z&quot;,&quot;duration&quot;:8328,&quot;testsRegistered&quot;:201,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;42130e99-4720-4863-9157-d67a7ad93d62&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;66c2e32b-3674-4ee4-a739-d0ab1c23676d&quot;,&quot;title&quot;:&quot;Tests on dao_category.ts&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Tests on dao_category.ts\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts \&quot;before all\&quot; hook in \&quot;Tests on dao_category.ts\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:207,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97cc6a88-ce14-4569-ab90-d4822d0566ab&quot;,&quot;parentUUID&quot;:&quot;66c2e32b-3674-4ee4-a739-d0ab1c23676d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1509abe8-8b43-4421-837b-ade01c481472&quot;,&quot;title&quot;:&quot;Tests on getAll() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array of category&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getAll() method The result type must be an array of category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllCategories();\n    expect(Array.isArray(result)).to.equal(true);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d448e3a-78c9-41f1-a404-c306023ee6c1&quot;,&quot;parentUUID&quot;:&quot;1509abe8-8b43-4421-837b-ade01c481472&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The result must not be empty, there have to be at least one category in the program&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getAll() method The result must not be empty, there have to be at least one category in the program&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllCategories();\n    assert.isAbove(result.length, 0, \&quot;There must be at least one category\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1529a593-d7bd-486d-8542-d8f63b094ff5&quot;,&quot;parentUUID&quot;:&quot;1509abe8-8b43-4421-837b-ade01c481472&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The names of the categories must not exceed 255 characters&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getAll() method The names of the categories must not exceed 255 characters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllCategories();\n    result.forEach(function (category) {\n        assert.isBelow(category.getName().length, 255);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2df20d7e-1a78-47b5-b665-3a6100e499d2&quot;,&quot;parentUUID&quot;:&quot;1509abe8-8b43-4421-837b-ade01c481472&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;ID of Categories must be strictly postives&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getAll() method ID of Categories must be strictly postives&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllCategories();\n    result.forEach(function (category) {\n        assert.isAbove(category.getID(), 0);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85f548fd-d311-44c2-b1ec-8d5813cce06e&quot;,&quot;parentUUID&quot;:&quot;1509abe8-8b43-4421-837b-ade01c481472&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d448e3a-78c9-41f1-a404-c306023ee6c1&quot;,&quot;1529a593-d7bd-486d-8542-d8f63b094ff5&quot;,&quot;2df20d7e-1a78-47b5-b665-3a6100e499d2&quot;,&quot;85f548fd-d311-44c2-b1ec-8d5813cce06e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;65a3ecac-51ed-4283-81dd-995a1cfcb88a&quot;,&quot;title&quot;:&quot;Tests on getByName() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be a category&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getByName() method The result type must be a category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetCategory(\&quot;Téléphones\&quot;);\n    assert.isTrue(result instanceof category_1.default);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79c5a5a7-4c2c-42a9-8445-81233303664d&quot;,&quot;parentUUID&quot;:&quot;65a3ecac-51ed-4283-81dd-995a1cfcb88a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The database must have the smartphone category&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getByName() method The database must have the smartphone category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetCategory(\&quot;Téléphones\&quot;);\n    assert.isNotNull(result);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1af01221-0217-4b8d-8f42-53b89e59a9e7&quot;,&quot;parentUUID&quot;:&quot;65a3ecac-51ed-4283-81dd-995a1cfcb88a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The names of the category must not have any number&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getByName() method The names of the category must not have any number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetCategory(\&quot;Téléphones\&quot;);\n    expect(result.getName()).not.to.match(/^([0-9_])$/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05e40960-1d4d-4952-b574-cf8737dbba45&quot;,&quot;parentUUID&quot;:&quot;65a3ecac-51ed-4283-81dd-995a1cfcb88a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The names of the category must contain only letters or &#x27;-&#x27;&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getByName() method The names of the category must contain only letters or &#x27;-&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetCategory(\&quot;Téléphones\&quot;);\n    expect(result.getName()).to.match(/^[a-zA-Z\\-éèà]{0,255}$/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9211d94-a499-4e61-8757-38712fe724ed&quot;,&quot;parentUUID&quot;:&quot;65a3ecac-51ed-4283-81dd-995a1cfcb88a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;79c5a5a7-4c2c-42a9-8445-81233303664d&quot;,&quot;1af01221-0217-4b8d-8f42-53b89e59a9e7&quot;,&quot;05e40960-1d4d-4952-b574-cf8737dbba45&quot;,&quot;c9211d94-a499-4e61-8757-38712fe724ed&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;985752bf-5b8e-4dcd-81ef-62cb099635cc&quot;,&quot;title&quot;:&quot;Tests on getLastId() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;There must be at least one id, or there would be no categories&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getLastId() method There must be at least one id, or there would be no categories&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetLastId();\n    assert.isNotNull(result);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f819a6c-24fd-4273-a00f-ac72b98d116d&quot;,&quot;parentUUID&quot;:&quot;985752bf-5b8e-4dcd-81ef-62cb099635cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Last Id created must be positive&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getLastId() method Last Id created must be positive&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetLastId();\n    assert.isAbove(result, 0);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a0ef693-05e5-4607-9294-193448f1260e&quot;,&quot;parentUUID&quot;:&quot;985752bf-5b8e-4dcd-81ef-62cb099635cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0f819a6c-24fd-4273-a00f-ac72b98d116d&quot;,&quot;9a0ef693-05e5-4607-9294-193448f1260e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;92bb25e5-8367-4278-a378-e84146c2e6f4&quot;,&quot;title&quot;:&quot;Tests on addCategory() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;A new category added should be seen in a SELECT request later&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on addCategory() method A new category added should be seen in a SELECT request later&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:39,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    DAOCategTested.addCategory(new category_1.default(9999, \&quot;TestCategory\&quot;));\n    const result = yield resultGetCategory(\&quot;TestCategory\&quot;);\n    assert.isNotNull(result);\n    expect(result.getID()).to.equal(9999);\n    expect(result.getName()).to.equal(\&quot;TestCategory\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3847c06f-570b-45aa-a704-5efa1b87318f&quot;,&quot;parentUUID&quot;:&quot;92bb25e5-8367-4278-a378-e84146c2e6f4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3847c06f-570b-45aa-a704-5efa1b87318f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:39,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;154d0254-b519-4dda-8dbd-53eb389a1748&quot;,&quot;title&quot;:&quot;Tests on deleteCategory() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;A deleted category should not be in a query later&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on deleteCategory() method A deleted category should not be in a query later&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(yield DAOCategTested.deleteCategory.bind(DAOCategTested, 9999)).not.to.throw(Error);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;578513b0-5776-49f8-981b-adfc243c5e6e&quot;,&quot;parentUUID&quot;:&quot;154d0254-b519-4dda-8dbd-53eb389a1748&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The category we tried to added, should throw an error at its deletion, or it is deleted from the database&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on deleteCategory() method The category we tried to added, should throw an error at its deletion, or it is deleted from the database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOCategTested.deleteCategory(-1)).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29ddacc6-821d-420a-bd6e-00f2cafbf25a&quot;,&quot;parentUUID&quot;:&quot;154d0254-b519-4dda-8dbd-53eb389a1748&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;578513b0-5776-49f8-981b-adfc243c5e6e&quot;,&quot;29ddacc6-821d-420a-bd6e-00f2cafbf25a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;73b33550-35d2-4e9b-aecc-e1c10c1b7683&quot;,&quot;title&quot;:&quot;Tests onf dao_device.ts&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Tests onf dao_device.ts\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts \&quot;before all\&quot; hook in \&quot;Tests onf dao_device.ts\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:61,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b2a3bd6-0b42-46e7-91cf-18a4e3343f59&quot;,&quot;parentUUID&quot;:&quot;73b33550-35d2-4e9b-aecc-e1c10c1b7683&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;dd40071f-476c-4d21-843c-e714adb0f4b9&quot;,&quot;title&quot;:&quot;Tests on getAll() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array of devices&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The result type must be an array of devices&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    expect(Array.isArray(result)).to.equal(true);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0903ccb7-7b88-4ed0-8e03-9eff0d1c0073&quot;,&quot;parentUUID&quot;:&quot;dd40071f-476c-4d21-843c-e714adb0f4b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must match an existing category&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must match an existing category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const existingCategories = yield DAOcat.getAll();\n    const result = yield resultAllDevices();\n    let check = false;\n    //Testing for every device that its category is member of the categories of the database\n    result.map((device) =&gt; {\n        existingCategories.map((category) =&gt; {\n            if (device.getCategoryID() == category.getID())\n                check = true;\n        });\n    });\n    assert.isTrue(check);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64ea0cdc-b5a4-4ed6-b287-8676a804db87&quot;,&quot;parentUUID&quot;:&quot;dd40071f-476c-4d21-843c-e714adb0f4b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must have a five character reference&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must have a five character reference&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        assert.equal(device.getRef().length, 5);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f34aad7-fe48-486f-a767-8298d580d31b&quot;,&quot;parentUUID&quot;:&quot;dd40071f-476c-4d21-843c-e714adb0f4b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must not have an empty name or a null name&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must not have an empty name or a null name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        assert.isNotNull(device.getName());\n        assert.isAbove(device.getName().length, 0);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;011199e6-cafe-4175-9875-40618b39f5b6&quot;,&quot;parentUUID&quot;:&quot;dd40071f-476c-4d21-843c-e714adb0f4b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must have a version number between 3 and 15 characters&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must have a version number between 3 and 15 characters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        assert.isAbove(device.getVersion().length, 2);\n        assert.isBelow(device.getVersion().length, 16);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;593078e3-d667-48c4-ba63-27eb5a37be2a&quot;,&quot;parentUUID&quot;:&quot;dd40071f-476c-4d21-843c-e714adb0f4b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must have a correct version number&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must have a correct version number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        expect(device.getVersion()).to.match(/^[0-9]*\\.[0-9]*$/);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d72365d0-455c-4b86-804a-03e34dd64cef&quot;,&quot;parentUUID&quot;:&quot;dd40071f-476c-4d21-843c-e714adb0f4b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must have a grater version than 0.0&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must have a grater version than 0.0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        const numbers = device.getVersion().split(&#x27;.&#x27;);\n        assert.isAbove(parseInt(numbers[0]), 0);\n        assert.isAbove(parseInt(numbers[1]), -1);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ecaff47-f3b8-4b57-97bd-20fa13b247f5&quot;,&quot;parentUUID&quot;:&quot;dd40071f-476c-4d21-843c-e714adb0f4b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices with a phone number must have a correct phone number&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices with a phone number must have a correct phone number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        if (device.getPhone()) {\n            expect(device.getPhone()).to.match(/^\\+?[0-9]{0,15}$/);\n        }\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9bdae6c-6412-4c6d-b9e2-634241b6d45c&quot;,&quot;parentUUID&quot;:&quot;dd40071f-476c-4d21-843c-e714adb0f4b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0903ccb7-7b88-4ed0-8e03-9eff0d1c0073&quot;,&quot;64ea0cdc-b5a4-4ed6-b287-8676a804db87&quot;,&quot;9f34aad7-fe48-486f-a767-8298d580d31b&quot;,&quot;011199e6-cafe-4175-9875-40618b39f5b6&quot;,&quot;593078e3-d667-48c4-ba63-27eb5a37be2a&quot;,&quot;d72365d0-455c-4b86-804a-03e34dd64cef&quot;,&quot;6ecaff47-f3b8-4b57-97bd-20fa13b247f5&quot;,&quot;c9bdae6c-6412-4c6d-b9e2-634241b6d45c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:55,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;84170902-4a90-46e0-aaf2-da4a18ca1411&quot;,&quot;title&quot;:&quot;Tests on get() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Tests on get() method\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on get() method \&quot;before each\&quot; hook in \&quot;Tests on get() method\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            device = yield DAOTested.get(\&quot;AN001\&quot;);\n            existingCategories = yield DAOcat.getAll();\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f43350b-5b01-421a-a7e6-185a2322824d&quot;,&quot;parentUUID&quot;:&quot;84170902-4a90-46e0-aaf2-da4a18ca1411&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The device must match an existing category&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on get() method The device must match an existing category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let check = false;\n//Testing that its category is member of the categories of the database\nexistingCategories.forEach(function (category) {\n    if (device.getCategoryID() == category.getID())\n        check = true;\n});\nassert.isTrue(check);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ad5b03b-2963-4898-80e6-4b2d5ae70e38&quot;,&quot;parentUUID&quot;:&quot;84170902-4a90-46e0-aaf2-da4a18ca1411&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The device must have a five character reference&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on get() method The device must have a five character reference&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.equal(device.getRef().length, 5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d41e0cf-fcd3-40fc-8794-b8b40bc5f0cc&quot;,&quot;parentUUID&quot;:&quot;84170902-4a90-46e0-aaf2-da4a18ca1411&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The device must not have an empty name or a null name&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on get() method The device must not have an empty name or a null name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.isNotNull(device.getName());\nassert.isAbove(device.getName().length, 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0de2a0cd-2880-4fe1-9c62-5b653e388c20&quot;,&quot;parentUUID&quot;:&quot;84170902-4a90-46e0-aaf2-da4a18ca1411&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The device must have a version number between 3 and 15 characters&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on get() method The device must have a version number between 3 and 15 characters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.isAbove(device.getVersion().length, 2);\nassert.isBelow(device.getVersion().length, 16);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60b82466-a8b2-4f24-b564-38548520d978&quot;,&quot;parentUUID&quot;:&quot;84170902-4a90-46e0-aaf2-da4a18ca1411&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The device must have a correct version number&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on get() method The device must have a correct version number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(device.getVersion()).to.match(/^[0-9]*\\.[0-9]*$/);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b41f1458-11fe-4fba-a9b7-a80351ab8ef8&quot;,&quot;parentUUID&quot;:&quot;84170902-4a90-46e0-aaf2-da4a18ca1411&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The device must have a grater version than 0.0&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on get() method The device must have a grater version than 0.0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const numbers = device.getVersion().split(&#x27;.&#x27;);\nassert.isAbove(parseInt(numbers[0]), 0);\nassert.isAbove(parseInt(numbers[1]), -1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8344fe57-763c-4a2c-8baf-d21006c57f90&quot;,&quot;parentUUID&quot;:&quot;84170902-4a90-46e0-aaf2-da4a18ca1411&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The device with a phone number must have a correct phone number&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on get() method The device with a phone number must have a correct phone number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (device.getPhone()) {\n    expect(device.getPhone()).to.match(/^\\+?[0-9]{0,15}$/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88393e84-578b-44fc-889a-9587024b0c60&quot;,&quot;parentUUID&quot;:&quot;84170902-4a90-46e0-aaf2-da4a18ca1411&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4ad5b03b-2963-4898-80e6-4b2d5ae70e38&quot;,&quot;4d41e0cf-fcd3-40fc-8794-b8b40bc5f0cc&quot;,&quot;0de2a0cd-2880-4fe1-9c62-5b653e388c20&quot;,&quot;60b82466-a8b2-4f24-b564-38548520d978&quot;,&quot;b41f1458-11fe-4fba-a9b7-a80351ab8ef8&quot;,&quot;8344fe57-763c-4a2c-8baf-d21006c57f90&quot;,&quot;88393e84-578b-44fc-889a-9587024b0c60&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6e2e4be6-d44e-4147-ac94-92c82d3ba44a&quot;,&quot;title&quot;:&quot;Tests on addDevice() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Adding a compliant device should not throw exception, and the added device must be seen in queries&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on addDevice() method Adding a compliant device should not throw exception, and the added device must be seen in queries&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    //This device is compliant to the specifications\n    expect(DAOTested.addDevice(new device_1.default(\&quot;test1\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;First test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;0778787878\&quot;))).not.to.be.rejected;\n    const result = yield DAOTested.get(\&quot;test1\&quot;);\n    assert.isNotNull(result);\n    expect(result.getRef()).to.equal(\&quot;test1\&quot;);\n    expect(result.getCategoryID()).to.equal(1);\n    expect(result.getName()).to.equal(\&quot;First test\&quot;);\n    expect(result.getVersion()).to.equal(\&quot;1.0\&quot;);\n    expect(result.getPhoto()).to.equal(\&quot;\&quot;);\n    expect(result.getPhone()).to.equal(\&quot;0778787878\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a75d5291-9672-4ba8-8201-4390952a9438&quot;,&quot;parentUUID&quot;:&quot;6e2e4be6-d44e-4147-ac94-92c82d3ba44a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a75d5291-9672-4ba8-8201-4390952a9438&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f08523e0-f384-49fd-9ad3-d7f8cfad9614&quot;,&quot;title&quot;:&quot;Tests on deleteDevice() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deleting the compliant device should not throw an error, and the devices should not be queryable&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on deleteDevice() method Deleting the compliant device should not throw an error, and the devices should not be queryable&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.deleteDevice(\&quot;test1\&quot;)).not.to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3604333-54ae-4003-b778-0e2a338299c6&quot;,&quot;parentUUID&quot;:&quot;f08523e0-f384-49fd-9ad3-d7f8cfad9614&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deleting all the invalid devices should throw an error, or they were created earlier&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on deleteDevice() method Deleting all the invalid devices should throw an error, or they were created earlier&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.deleteDevice(\&quot;test\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test33\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test4\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test5\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test6\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test7\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test8\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test9\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test10\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test11\&quot;)).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da098b9d-1316-4697-b38d-a8b0eb20afb6&quot;,&quot;parentUUID&quot;:&quot;f08523e0-f384-49fd-9ad3-d7f8cfad9614&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e3604333-54ae-4003-b778-0e2a338299c6&quot;,&quot;da098b9d-1316-4697-b38d-a8b0eb20afb6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e291bbfa-cb44-41fd-948e-54c735e2e609&quot;,&quot;title&quot;:&quot;Tests on borrowDevice() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Adding a reservation with existing ID throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on borrowDevice() method Adding a reservation with existing ID throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const reservationID = yield DAObooking.getLastId();\n    expect(DAOTested.borrowDevice([new reservation_1.default(reservationID, \&quot;TESTB\&quot;, \&quot;ABCDEFG\&quot;, startDate, endDate)])).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3623890e-7be0-46d2-b379-dc92d2353230&quot;,&quot;parentUUID&quot;:&quot;e291bbfa-cb44-41fd-948e-54c735e2e609&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Booking a device should throw error&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on borrowDevice() method Booking a device should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const reservationID = yield DAObooking.getLastId();\n    expect(DAOTested.borrowDevice([new reservation_1.default(reservationID + 1, \&quot;TESTB\&quot;, \&quot;ABCDEFG\&quot;, startDate, endDate)])).to.not.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;beb67087-d3ad-408a-aaa2-27fb7e0c0173&quot;,&quot;parentUUID&quot;:&quot;e291bbfa-cb44-41fd-948e-54c735e2e609&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3623890e-7be0-46d2-b379-dc92d2353230&quot;,&quot;beb67087-d3ad-408a-aaa2-27fb7e0c0173&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;49a76c25-03d6-4644-b9b7-99ebd12ecf06&quot;,&quot;title&quot;:&quot;Tests on getDevicesByFilter() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Research with empty filters should throw error&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getDevicesByFilter() method Research with empty filters should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.getDevicesByFilter(\&quot;\&quot;, \&quot;\&quot;, -1)).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;410c9502-752c-41ad-ba01-641f4b1f2b20&quot;,&quot;parentUUID&quot;:&quot;49a76c25-03d6-4644-b9b7-99ebd12ecf06&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Checking if all the filters works well&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getDevicesByFilter() method Checking if all the filters works well&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield DAOTested.addDevice.bind(DAOTested, new device_1.default(\&quot;test1\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Test filters\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;0778787878\&quot;));\n    let result = yield DAOTested.getDevicesByFilter(\&quot;Test filters\&quot;, \&quot;\&quot;, -1);\n    result.forEach(function (device) {\n        assert.equal(device.getName(), \&quot;Test filters\&quot;);\n    });\n    result = yield DAOTested.getDevicesByFilter(\&quot;\&quot;, \&quot;test1\&quot;, -1);\n    result.forEach(function (device) {\n        assert.equal(device.getRef(), \&quot;test1\&quot;);\n    });\n    result = yield DAOTested.getDevicesByFilter(\&quot;\&quot;, \&quot;\&quot;, 1);\n    expect(result.map((device) =&gt; { return device.getName(); })).to.have.members([\&quot;Huawei P80\&quot;, \&quot;Samsung Galaxy S1000\&quot;]);\n    yield DAOTested.deleteDevice.bind(DAOTested, \&quot;test1\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae4b3289-209d-4f17-aac6-e44a0b47a5a2&quot;,&quot;parentUUID&quot;:&quot;49a76c25-03d6-4644-b9b7-99ebd12ecf06&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;410c9502-752c-41ad-ba01-641f4b1f2b20&quot;,&quot;ae4b3289-209d-4f17-aac6-e44a0b47a5a2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c652ce8f-78d5-4fed-a7ac-dab098f0fc11&quot;,&quot;title&quot;:&quot;Tests on dao_reservation.ts&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Tests on dao_reservation.ts\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts \&quot;before all\&quot; hook in \&quot;Tests on dao_reservation.ts\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f58261e-2f56-4baf-b5b4-f1b5a5be58e7&quot;,&quot;parentUUID&quot;:&quot;c652ce8f-78d5-4fed-a7ac-dab098f0fc11&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;17b298b7-7533-4b08-aa56-6e3e213a4715&quot;,&quot;title&quot;:&quot;Tests on getLastid() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The Id must be positive&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getLastid() method The Id must be positive&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getLastId();\n    assert.isAbove(result, 0);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;321c72d3-359b-4f71-b4ae-274fa6c442ce&quot;,&quot;parentUUID&quot;:&quot;17b298b7-7533-4b08-aa56-6e3e213a4715&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;321c72d3-359b-4f71-b4ae-274fa6c442ce&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6a745833-789f-42d4-9254-d14de0fe2e78&quot;,&quot;title&quot;:&quot;Tests on historyDevice() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The users of a reservation must be registered&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on historyDevice() method The users of a reservation must be registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const users = yield DAOuser.getAll();\n    const result = yield DAOTested.historyDevice(\&quot;AN001\&quot;);\n    let check = false;\n    result.forEach(function (booking) {\n        users.forEach(function (user) {\n            if (booking.getUserID() == user.getId())\n                check = true;\n        });\n    });\n    assert.isTrue(check);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5ce7dab-9e99-4ec4-916c-1fbade78a92a&quot;,&quot;parentUUID&quot;:&quot;6a745833-789f-42d4-9254-d14de0fe2e78&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices of a reservation must be registered&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on historyDevice() method The devices of a reservation must be registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const devices = yield DAOdevice.getAll();\n    const result = yield DAOTested.historyDevice(\&quot;AN001\&quot;);\n    let check = false;\n    result.forEach(function (booking) {\n        devices.forEach(function (device) {\n            if (booking.getDevice().match(device.getRef()))\n                check = true;\n        });\n    });\n    assert.isTrue(check);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f48532f-64cf-4518-9248-8a9d3032d399&quot;,&quot;parentUUID&quot;:&quot;6a745833-789f-42d4-9254-d14de0fe2e78&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The start date must be earlier than the two others&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on historyDevice() method The start date must be earlier than the two others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.historyDevice(\&quot;AN002\&quot;);\n    result.forEach(function (booking) {\n        assert.notDeepEqual(booking.getStartDate(), booking.getReturnDate());\n        assert.notDeepEqual(booking.getStartDate(), booking.getEndDate());\n        assert.isAbove(booking.getReturnDate().getTime(), booking.getStartDate().getTime());\n        assert.isAbove(booking.getEndDate().getTime(), booking.getStartDate().getTime());\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;abefa282-a4e3-432b-aad7-6b4f2170597e&quot;,&quot;parentUUID&quot;:&quot;6a745833-789f-42d4-9254-d14de0fe2e78&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e5ce7dab-9e99-4ec4-916c-1fbade78a92a&quot;,&quot;0f48532f-64cf-4518-9248-8a9d3032d399&quot;,&quot;abefa282-a4e3-432b-aad7-6b4f2170597e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c62afe99-e9a8-421c-bef2-935a7a277b06&quot;,&quot;title&quot;:&quot;Tests on getUserHistory() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getUserHistory() method The result type must be an array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUserHistory(\&quot;HIJKLMN\&quot;);\n    assert.isTrue(Array.isArray(result));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;176c1a6b-a77e-4c79-806c-9e7d08b505ab&quot;,&quot;parentUUID&quot;:&quot;c62afe99-e9a8-421c-bef2-935a7a277b06&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The id reservation must be positive&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getUserHistory() method The id reservation must be positive&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUserHistory(\&quot;HIJKLMN\&quot;);\n    result.forEach((reservation) =&gt; {\n        assert.isAbove(reservation.getID(), 0);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08250034-8513-4872-9ba2-99c3d4265fc6&quot;,&quot;parentUUID&quot;:&quot;c62afe99-e9a8-421c-bef2-935a7a277b06&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The start date must be earlier than the two others&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getUserHistory() method The start date must be earlier than the two others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUserHistory(\&quot;ABCDEFG\&quot;);\n    result.forEach(function (booking) {\n        assert.notDeepEqual(booking.getStartDate(), booking.getReturnDate());\n        assert.notDeepEqual(booking.getStartDate(), booking.getEndDate());\n        if (!booking.getReturnDate()) {\n            assert.isAbove(booking.getReturnDate().getTime(), booking.getStartDate().getTime());\n        }\n        assert.isAbove(booking.getEndDate().getTime(), booking.getStartDate().getTime());\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d41db937-9c8a-4d82-b1d3-38e77821b806&quot;,&quot;parentUUID&quot;:&quot;c62afe99-e9a8-421c-bef2-935a7a277b06&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;176c1a6b-a77e-4c79-806c-9e7d08b505ab&quot;,&quot;08250034-8513-4872-9ba2-99c3d4265fc6&quot;,&quot;d41db937-9c8a-4d82-b1d3-38e77821b806&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f9ad51b2-5ec0-4ea3-af46-2ca636da9955&quot;,&quot;title&quot;:&quot;Tests on getAllReservationsDevice() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getAllReservationsDevice() method The result type must be an array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAllReservationsDevice(\&quot;AN002\&quot;);\n    assert.isTrue(Array.isArray(result));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fbba8e8-29fd-4ec0-b0b2-2782d30d5146&quot;,&quot;parentUUID&quot;:&quot;f9ad51b2-5ec0-4ea3-af46-2ca636da9955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The id reservation must be positive&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getAllReservationsDevice() method The id reservation must be positive&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAllReservationsDevice(\&quot;AN002\&quot;);\n    result.forEach((reservation) =&gt; {\n        assert.isAbove(reservation.getID(), 0);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c414dfdd-bddc-494e-8e56-5a634e04d640&quot;,&quot;parentUUID&quot;:&quot;f9ad51b2-5ec0-4ea3-af46-2ca636da9955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The start date must be earlier than the two others&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getAllReservationsDevice() method The start date must be earlier than the two others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAllReservationsDevice(\&quot;AN002\&quot;);\n    result.forEach(function (booking) {\n        assert.notDeepEqual(booking.getStartDate(), booking.getReturnDate());\n        assert.notDeepEqual(booking.getStartDate(), booking.getEndDate());\n        assert.isAbove(booking.getReturnDate().getTime(), booking.getStartDate().getTime());\n        assert.isAbove(booking.getEndDate().getTime(), booking.getStartDate().getTime());\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b154bf3b-ecaf-4355-9137-b83d37c38fbd&quot;,&quot;parentUUID&quot;:&quot;f9ad51b2-5ec0-4ea3-af46-2ca636da9955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1fbba8e8-29fd-4ec0-b0b2-2782d30d5146&quot;,&quot;c414dfdd-bddc-494e-8e56-5a634e04d640&quot;,&quot;b154bf3b-ecaf-4355-9137-b83d37c38fbd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e3dd5c55-0e74-495c-9238-fc4bccdb0356&quot;,&quot;title&quot;:&quot;Tests on hasReservationWithInfos() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;An existing reservation must be seen in the database&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on hasReservationWithInfos() method An existing reservation must be seen in the database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.hasReservationWithInfos(\&quot;AN001\&quot;, new Date(2021, 0, 5), new Date(2021, 0, 8));\n    expect(result).to.be.true;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7574f53f-2287-4622-a197-aaae7516a469&quot;,&quot;parentUUID&quot;:&quot;e3dd5c55-0e74-495c-9238-fc4bccdb0356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;An inexisting reservation must not appear in the database&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on hasReservationWithInfos() method An inexisting reservation must not appear in the database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN003\&quot;, new Date(2021, 0, 5), new Date(2021, 0, 8))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN001\&quot;, new Date(2021, 0, 1), new Date(2021, 0, 4))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN001\&quot;, new Date(2021, 1, 9), new Date(2021, 1, 20))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN003\&quot;, new Date(2021, 0, 6), new Date(2021, 0, 8))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN003\&quot;, new Date(2021, 0, 5), new Date(2021, 1, 12))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN003\&quot;, new Date(2021, 2, 27), new Date(2021, 0, 8))).to.be.false;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78394917-e280-4490-b9f8-efb01da5dd16&quot;,&quot;parentUUID&quot;:&quot;e3dd5c55-0e74-495c-9238-fc4bccdb0356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7574f53f-2287-4622-a197-aaae7516a469&quot;,&quot;78394917-e280-4490-b9f8-efb01da5dd16&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1d749ac9-80fc-4518-a9e6-7bb697902ee9&quot;,&quot;title&quot;:&quot;Tests on dao_user.ts&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Tests on dao_user.ts\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts \&quot;before all\&quot; hook in \&quot;Tests on dao_user.ts\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13fa9fed-f7f5-4195-a3af-aec71bd3a7c1&quot;,&quot;parentUUID&quot;:&quot;1d749ac9-80fc-4518-a9e6-7bb697902ee9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;67cc27d1-bf77-4bf9-bce8-278c1d69c9bc&quot;,&quot;title&quot;:&quot;Tests on getAll() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array of user&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getAll() method The result type must be an array of user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAll();\n    expect(Array.isArray(result)).to.equal(true);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ece2b476-df97-4703-8a1f-bddae9020fa3&quot;,&quot;parentUUID&quot;:&quot;67cc27d1-bf77-4bf9-bce8-278c1d69c9bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The users must have a 7 characters ID&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getAll() method The users must have a 7 characters ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAll();\n    result.map((user) =&gt; {\n        assert.equal(user.getId().length, 7);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b476fe38-f639-4c2e-a36d-49f0c4460f6a&quot;,&quot;parentUUID&quot;:&quot;67cc27d1-bf77-4bf9-bce8-278c1d69c9bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The users must not have empty names or surname&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getAll() method The users must not have empty names or surname&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAll();\n    result.map((user) =&gt; {\n        assert.isNotEmpty(user.getFirstName());\n        assert.isNotEmpty(user.getLastName());\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54338498-7a03-49fa-a3a6-ac5973f82a66&quot;,&quot;parentUUID&quot;:&quot;67cc27d1-bf77-4bf9-bce8-278c1d69c9bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The users must have a valid email&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getAll() method The users must have a valid email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAll();\n    result.map((user) =&gt; {\n        assert.match(user.getEmail(), /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4017d976-082f-4c3a-8834-1fff3ffbdf57&quot;,&quot;parentUUID&quot;:&quot;67cc27d1-bf77-4bf9-bce8-278c1d69c9bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ece2b476-df97-4703-8a1f-bddae9020fa3&quot;,&quot;b476fe38-f639-4c2e-a36d-49f0c4460f6a&quot;,&quot;54338498-7a03-49fa-a3a6-ac5973f82a66&quot;,&quot;4017d976-082f-4c3a-8834-1fff3ffbdf57&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e837caea-7e67-45c7-8fed-1dc4730d4805&quot;,&quot;title&quot;:&quot;Tests on getUser() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The user get must not have empty name or surname&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getUser() method The user get must not have empty name or surname&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUser(\&quot;ABCDEFG\&quot;);\n    assert.isNotEmpty(result.getFirstName());\n    assert.isNotEmpty(result.getLastName());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f78149c0-974f-423a-818e-c7660cfe0e73&quot;,&quot;parentUUID&quot;:&quot;e837caea-7e67-45c7-8fed-1dc4730d4805&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The user must have a valid email&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getUser() method The user must have a valid email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUser(\&quot;ABCDEFG\&quot;);\n    assert.match(result.getEmail(), /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15f50f52-95ca-4b1e-b885-2613ed1749ea&quot;,&quot;parentUUID&quot;:&quot;e837caea-7e67-45c7-8fed-1dc4730d4805&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f78149c0-974f-423a-818e-c7660cfe0e73&quot;,&quot;15f50f52-95ca-4b1e-b885-2613ed1749ea&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5080d5fc-5b17-47f8-8126-8a9e02adbff7&quot;,&quot;title&quot;:&quot;Tests on getLastId() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The last id must not be empty&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getLastId() method The last id must not be empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getLastId();\n    assert.isNotEmpty(result.getId());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5bc94f5-3da6-44ec-8c8b-1837e909273b&quot;,&quot;parentUUID&quot;:&quot;5080d5fc-5b17-47f8-8126-8a9e02adbff7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e5bc94f5-3da6-44ec-8c8b-1837e909273b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ace49a83-a77f-4441-9c42-8a2dcd40f674&quot;,&quot;title&quot;:&quot;Tests on addUser() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;An added user must be seen in a query&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on addUser() method An added user must be seen in a query&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:592,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.addUser(usertest, \&quot;test\&quot;)).not.to.be.rejected;\n    const result = yield DAOTested.getUser(\&quot;EEEEEEE\&quot;);\n    assert.equal(result.getFirstName(), \&quot;Tester\&quot;);\n    assert.equal(result.getLastName(), \&quot;Testing\&quot;);\n    assert.equal(result.getEmail(), \&quot;Testtest@gmail.com\&quot;);\n    assert.isFalse(result.isAdmin());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a936efc6-e905-455e-85a9-353788b6c8b0&quot;,&quot;parentUUID&quot;:&quot;ace49a83-a77f-4441-9c42-8a2dcd40f674&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a936efc6-e905-455e-85a9-353788b6c8b0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:592,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ed5fdefd-a56c-4108-b5fa-22ad9dac543a&quot;,&quot;title&quot;:&quot;Tests on updateUser() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The modifications made on a user must be seen in queries later&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on updateUser() method The modifications made on a user must be seen in queries later&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    usertest.setAdmin(true);\n    usertest.setEmail(\&quot;secondtest@gmail.com\&quot;);\n    usertest.setFirstName(\&quot;Yohan\&quot;);\n    usertest.setLastName(\&quot;Rousseau\&quot;);\n    usertest.setTemporaryPassword(true);\n    expect(DAOTested.updateUser(usertest)).not.to.be.rejected;\n    const result = yield DAOTested.getUser(usertest.getId());\n    assert.equal(result.getFirstName(), \&quot;Yohan\&quot;);\n    assert.equal(result.getLastName(), \&quot;Rousseau\&quot;);\n    assert.equal(result.getEmail(), \&quot;secondtest@gmail.com\&quot;);\n    assert.isTrue(result.isAdmin());\n    assert.isTrue(result.hasTemporaryPassword());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b79c6e5-34aa-45e4-b933-cd7bfc4d720c&quot;,&quot;parentUUID&quot;:&quot;ed5fdefd-a56c-4108-b5fa-22ad9dac543a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1b79c6e5-34aa-45e4-b933-cd7bfc4d720c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b034adf3-369a-471d-b46f-9e4291bd1733&quot;,&quot;title&quot;:&quot;Tests on authenticate&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Checking the actual password should not throw error&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on authenticate Checking the actual password should not throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.checkUser(usertest.getEmail(), \&quot;test\&quot;)).not.to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5fe0089-027c-49c6-a918-50320e61ef7f&quot;,&quot;parentUUID&quot;:&quot;b034adf3-369a-471d-b46f-9e4291bd1733&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Changing the password and checking it should not throw error&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on authenticate Changing the password and checking it should not throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:156,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.changePassword(usertest.getEmail(), \&quot;newtest\&quot;)).not.to.be.rejected;\n    expect(DAOTested.checkUser(usertest.getEmail(), \&quot;newtest\&quot;)).not.to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4dcd471d-236e-46aa-991f-40a206669e6b&quot;,&quot;parentUUID&quot;:&quot;b034adf3-369a-471d-b46f-9e4291bd1733&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d5fe0089-027c-49c6-a918-50320e61ef7f&quot;,&quot;4dcd471d-236e-46aa-991f-40a206669e6b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:158,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9e29bef9-d712-4c7a-925b-95f037ab4211&quot;,&quot;title&quot;:&quot;Tests on deleteUser() method&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;A deleted user cannot be seen in a query&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on deleteUser() method A deleted user cannot be seen in a query&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.deleteUser(usertest.getId())).not.to.be.rejected;\n    expect(DAOTested.getUser(usertest.getId())).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9439d895-a8d6-48af-a85c-2c335e4f277d&quot;,&quot;parentUUID&quot;:&quot;9e29bef9-d712-4c7a-925b-95f037ab4211&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9439d895-a8d6-48af-a85c-2c335e4f277d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;983ef23d-59d7-4a3a-baaa-63dd517415f2&quot;,&quot;title&quot;:&quot;Tests on category.ts&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/modeltests/categorytest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/categorytest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Category Creation&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Category Creation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.assert.equal(catTested.getID(), 1);\nchai_1.assert.equal(catTested.getName(), \&quot;Test\&quot;);\nchai_1.assert.isArray(catTested.getDevices());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db47c6ae-cf5b-4bec-8530-4d861854a833&quot;,&quot;parentUUID&quot;:&quot;983ef23d-59d7-4a3a-baaa-63dd517415f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Id Modification&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Id Modification&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;catTested.setID(2);\nchai_1.assert.equal(catTested.getID(), 2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d790f1ba-eeb2-4ecb-95c1-fc12f47685d9&quot;,&quot;parentUUID&quot;:&quot;983ef23d-59d7-4a3a-baaa-63dd517415f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Name Modification&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Name Modification&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;catTested.setName(\&quot;Lafont\&quot;);\nchai_1.assert.equal(catTested.getName(), \&quot;Lafont\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac557153-2853-4b13-84d0-5bc723cc4407&quot;,&quot;parentUUID&quot;:&quot;983ef23d-59d7-4a3a-baaa-63dd517415f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;eb9ff3fa-7c59-44a1-8079-535d4749e355&quot;,&quot;title&quot;:&quot;Testing the exceptions&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/modeltests/categorytest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/categorytest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Setting too long names should throw exception&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Testing the exceptions Setting too long names should throw exception&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const stringTest = \&quot;testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttestvtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttestvtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttest\&quot;;\nchai_1.expect(catTested.setName.bind(catTested, stringTest)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6f2ef7f-0072-41df-b37d-1958d6747a1c&quot;,&quot;parentUUID&quot;:&quot;eb9ff3fa-7c59-44a1-8079-535d4749e355&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting empty names should throw exception&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Testing the exceptions Setting empty names should throw exception&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const stringTest = \&quot;\&quot;;\nchai_1.expect(catTested.setName.bind(catTested, stringTest)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7882a4c7-cce5-4918-872f-82465876e0f3&quot;,&quot;parentUUID&quot;:&quot;eb9ff3fa-7c59-44a1-8079-535d4749e355&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e6f2ef7f-0072-41df-b37d-1958d6747a1c&quot;,&quot;7882a4c7-cce5-4918-872f-82465876e0f3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;db47c6ae-cf5b-4bec-8530-4d861854a833&quot;,&quot;d790f1ba-eeb2-4ecb-95c1-fc12f47685d9&quot;,&quot;ac557153-2853-4b13-84d0-5bc723cc4407&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;dd87a332-debd-4a4f-b095-99545868e08a&quot;,&quot;title&quot;:&quot;Test on device.ts&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/modeltests/devicetests.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/devicetests.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Device Creation test&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Device Creation test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.assert.equal(devTested.getRef(), \&quot;test1\&quot;);\nchai_1.assert.equal(devTested.getCategoryID(), 2);\nchai_1.assert.equal(devTested.getCategoryName(), \&quot;Ordinateur\&quot;);\nchai_1.assert.equal(devTested.getName(), \&quot;PremierTest\&quot;);\nchai_1.assert.equal(devTested.getVersion(), \&quot;1.0\&quot;);\nchai_1.assert.equal(devTested.getPhoto(), \&quot;url\&quot;);\nchai_1.assert.equal(devTested.getPhone(), \&quot;0707070707\&quot;);\nchai_1.assert.isTrue(Array.isArray(devTested.getLockDays()));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0811fd31-7665-4186-8854-dec53a006699&quot;,&quot;parentUUID&quot;:&quot;dd87a332-debd-4a4f-b095-99545868e08a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Device Modification test&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Device Modification test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;devTested.setRef(\&quot;modif\&quot;);\n//devTested.setCategory(\&quot;Phone\&quot;);\ndevTested.setName(\&quot;ModifTest\&quot;);\ndevTested.setVersion(\&quot;1.1\&quot;);\ndevTested.setPhoto(\&quot;url2\&quot;);\ndevTested.setPhone(\&quot;0707070708\&quot;);\nchai_1.assert.equal(devTested.getRef(), \&quot;modif\&quot;);\n//assert.equal(devTested.getCategory(),\&quot;Phone\&quot;);\nchai_1.assert.equal(devTested.getName(), \&quot;ModifTest\&quot;);\nchai_1.assert.equal(devTested.getVersion(), \&quot;1.1\&quot;);\nchai_1.assert.equal(devTested.getPhoto(), \&quot;url2\&quot;);\nchai_1.assert.equal(devTested.getPhone(), \&quot;0707070708\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f95ed90-9ccb-4eb8-9cfc-292e56ad3737&quot;,&quot;parentUUID&quot;:&quot;dd87a332-debd-4a4f-b095-99545868e08a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5de026b5-898b-457b-a285-c5f36b95ee1d&quot;,&quot;title&quot;:&quot;Constructor tests&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/modeltests/devicetests.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/devicetests.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Create a device with invalid references should throw error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Constructor tests Create a device with invalid references should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; new device_1.default(\&quot;test\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Second test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;0778787878\&quot;)).to.throw(Error);\nchai_1.expect(() =&gt; new device_1.default(\&quot;test33\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Third test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;0778787878\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a62c7a55-e7f8-45a9-95cc-0003d9c9a80d&quot;,&quot;parentUUID&quot;:&quot;5de026b5-898b-457b-a285-c5f36b95ee1d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Create a device with an invalid phone number should throw an error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Constructor tests Create a device with an invalid phone number should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    chai_1.expect(() =&gt; new device_1.default(\&quot;test8\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Phone Number test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;+337787878787878787878787878\&quot;)).to.throw(Error);\n    chai_1.expect(() =&gt; new device_1.default(\&quot;test9\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Phone Number test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;++3377878787878\&quot;)).to.throw(Error);\n    chai_1.expect(() =&gt; new device_1.default(\&quot;test10\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Phone Number test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;842+54161654196\&quot;)).to.throw(Error);\n    chai_1.expect(() =&gt; new device_1.default(\&quot;test11\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Phone Number test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;te\&quot;)).to.throw(Error);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;932fa69c-1231-4261-bfdd-907671d2cf8a&quot;,&quot;parentUUID&quot;:&quot;5de026b5-898b-457b-a285-c5f36b95ee1d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a62c7a55-e7f8-45a9-95cc-0003d9c9a80d&quot;,&quot;932fa69c-1231-4261-bfdd-907671d2cf8a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;20ac8b9f-7858-4030-8db5-022dfc167b32&quot;,&quot;title&quot;:&quot;Testing the exceptions&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/modeltests/devicetests.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/devicetests.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Setting a reference with higher or lower lenght than 5 should throw error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Testing the exceptions Setting a reference with higher or lower lenght than 5 should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const stringRef = \&quot;reftest\&quot;;\nchai_1.expect(devTested.setRef.bind(devTested, stringRef)).to.throw(\&quot;Invalid reference\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e325de41-17b7-4b95-8ee8-963ec8731302&quot;,&quot;parentUUID&quot;:&quot;20ac8b9f-7858-4030-8db5-022dfc167b32&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting a wrong size Name should throw error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Testing the exceptions Setting a wrong size Name should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let stringName = \&quot;\&quot;;\nchai_1.expect(devTested.setName.bind(devTested, stringName)).to.throw(\&quot;Invalid name\&quot;);\nstringName = \&quot;trentre et plus de noms pour le test\&quot;;\nchai_1.expect(devTested.setName.bind(devTested, stringName)).to.throw(\&quot;Invalid name\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1a01ef8-079b-4886-9487-5cb7ba834009&quot;,&quot;parentUUID&quot;:&quot;20ac8b9f-7858-4030-8db5-022dfc167b32&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting a wrong version number size should throw an error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Testing the exceptions Setting a wrong version number size should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let stringVersion = \&quot;1\&quot;;\nchai_1.expect(devTested.setVersion.bind(devTested, stringVersion)).to.throw(\&quot;Invalid version\&quot;);\nstringVersion = \&quot;11\&quot;;\nchai_1.expect(devTested.setVersion.bind(devTested, stringVersion)).to.throw(\&quot;Invalid version\&quot;);\nstringVersion = \&quot;8888888888.88888888888888888888\&quot;;\nchai_1.expect(devTested.setVersion.bind(devTested, stringVersion)).to.throw(\&quot;Invalid version\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c0bbb9b2-dc3e-4b78-a5bf-ede29003e17e&quot;,&quot;parentUUID&quot;:&quot;20ac8b9f-7858-4030-8db5-022dfc167b32&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting a too long phone number size should throw an error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Testing the exceptions Setting a too long phone number size should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const stringVersion = \&quot;123456789102487\&quot;; //15 caracters maximum, to respect the +999787878787 form\nchai_1.expect(devTested.setPhone.bind(devTested, stringVersion)).to.throw(\&quot;Invalid phone\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9105fe81-be87-416c-ae9a-6066f3311ae2&quot;,&quot;parentUUID&quot;:&quot;20ac8b9f-7858-4030-8db5-022dfc167b32&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e325de41-17b7-4b95-8ee8-963ec8731302&quot;,&quot;a1a01ef8-079b-4886-9487-5cb7ba834009&quot;,&quot;c0bbb9b2-dc3e-4b78-a5bf-ede29003e17e&quot;,&quot;9105fe81-be87-416c-ae9a-6066f3311ae2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;0811fd31-7665-4186-8854-dec53a006699&quot;,&quot;8f95ed90-9ccb-4eb8-9cfc-292e56ad3737&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2b15e3be-c1a5-467f-b05c-97a35ed096bb&quot;,&quot;title&quot;:&quot;Tests on reservation.ts&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/modeltests/reservationtest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/reservationtest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Reservation creation&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Reservation creation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reservation = new reservation_1.default(1, deviceRef, userId, startDate, endDate, returnDate);\nchai_1.assert.equal(reservation.getID(), 1);\nchai_1.assert.equal(reservation.getDevice(), deviceRef);\nchai_1.assert.equal(reservation.getUserID(), userId);\nchai_1.assert.equal(reservation.getStartDate().toISOString(), startDateISO);\nchai_1.assert.equal(reservation.getEndDate().toISOString(), endDateISO);\nchai_1.assert.isTrue(reservation.hasReturnDate());\nchai_1.assert.equal(reservation.getReturnDate().toISOString(), returnDateISO);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc5fb1fb-65a6-41b4-b063-61a5d40d9865&quot;,&quot;parentUUID&quot;:&quot;2b15e3be-c1a5-467f-b05c-97a35ed096bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reservation creation without return date&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Reservation creation without return date&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reservation = new reservation_1.default(1, deviceRef, userId, startDate, endDate);\nchai_1.assert.equal(reservation.getID(), 1);\nchai_1.assert.equal(reservation.getDevice(), deviceRef);\nchai_1.assert.equal(reservation.getUserID(), userId);\nchai_1.assert.equal(reservation.getStartDate().toISOString(), startDateISO);\nchai_1.assert.equal(reservation.getEndDate().toISOString(), endDateISO);\nchai_1.assert.isFalse(reservation.hasReturnDate());\nchai_1.expect(reservation.getReturnDate).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b101327-1a88-465c-a45c-0297e76757c7&quot;,&quot;parentUUID&quot;:&quot;2b15e3be-c1a5-467f-b05c-97a35ed096bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid ID throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid ID throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; new reservation_1.default(-1, deviceRef, userId, startDate, endDate)).to.throw(\&quot;Invalid ID\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;180bb134-4661-415b-b076-238f8cc24620&quot;,&quot;parentUUID&quot;:&quot;2b15e3be-c1a5-467f-b05c-97a35ed096bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid device reference throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid device reference throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; new reservation_1.default(1, \&quot;PASVALIDE\&quot;, userId, startDate, endDate)).to.throw(\&quot;Invalid device reference\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80af358c-b297-4740-ac3b-6161f9050064&quot;,&quot;parentUUID&quot;:&quot;2b15e3be-c1a5-467f-b05c-97a35ed096bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid user id throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid user id throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, \&quot;INVAL\&quot;, startDate, endDate)).to.throw(\&quot;Invalid user id\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8b209af-79bb-433f-bb48-8f95658b05ca&quot;,&quot;parentUUID&quot;:&quot;2b15e3be-c1a5-467f-b05c-97a35ed096bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid start date throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid start date throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const errMsg = \&quot;Invalid start date\&quot;;\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, \&quot;jenefaispas10caracteresdelong\&quot;, endDate)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, \&quot;0123456789\&quot;, endDate)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, \&quot;0-20-0\&quot;, endDate)).to.throw(errMsg);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21be7d30-5497-47f8-b418-08b18c0e9898&quot;,&quot;parentUUID&quot;:&quot;2b15e3be-c1a5-467f-b05c-97a35ed096bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid end date throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid end date throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const errMsg = \&quot;Invalid end date\&quot;;\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, \&quot;jenefaispas10caracteresdelong\&quot;)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, \&quot;0123456789\&quot;)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, \&quot;0-20-0\&quot;)).to.throw(errMsg);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f493fa8-152a-4a13-a6dd-554fc9453596&quot;,&quot;parentUUID&quot;:&quot;2b15e3be-c1a5-467f-b05c-97a35ed096bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid return date throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid return date throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const errMsg = \&quot;Invalid return date\&quot;;\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, endDate, \&quot;jenefaispas10caracteresdelong\&quot;)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, endDate, \&quot;0123456789\&quot;)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, endDate, \&quot;0-20-0\&quot;)).to.throw(errMsg);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7b50ed8-d79d-46c2-b18c-40c64bc8fcfd&quot;,&quot;parentUUID&quot;:&quot;2b15e3be-c1a5-467f-b05c-97a35ed096bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Return date can be empty&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Return date can be empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reservation = new reservation_1.default(1, deviceRef, userId, startDate, endDate, \&quot;\&quot;);\nchai_1.assert.isFalse(reservation.hasReturnDate());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a76c33f6-61ab-4f61-b9d8-51c82770b198&quot;,&quot;parentUUID&quot;:&quot;2b15e3be-c1a5-467f-b05c-97a35ed096bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Method convertDate works&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Method convertDate works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.assert.equal(reservation_1.default.convertDate(new Date(startDateISO)), startDate);\nchai_1.assert.equal(reservation_1.default.convertDate(new Date(endDateISO)), endDate);\nchai_1.assert.equal(reservation_1.default.convertDate(new Date(returnDateISO)), returnDate);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82efcc2f-8972-43ab-8371-ea4f85065bad&quot;,&quot;parentUUID&quot;:&quot;2b15e3be-c1a5-467f-b05c-97a35ed096bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Generate correct lockDays&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Generate correct lockDays&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reservation1 = new reservation_1.default(1, deviceRef, userId, startDate, endDate);\nchai_1.expect(reservation1.getLockDays()).to.deep.equal([startDate, endDate]);\nconst reservation2 = new reservation_1.default(1, deviceRef, userId, startDate, returnDate);\nchai_1.expect(reservation2.getLockDays()).to.deep.equal([startDate, returnDate]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27184a22-3fca-46c0-8ab5-a3422b6a34f1&quot;,&quot;parentUUID&quot;:&quot;2b15e3be-c1a5-467f-b05c-97a35ed096bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bc5fb1fb-65a6-41b4-b063-61a5d40d9865&quot;,&quot;0b101327-1a88-465c-a45c-0297e76757c7&quot;,&quot;180bb134-4661-415b-b076-238f8cc24620&quot;,&quot;80af358c-b297-4740-ac3b-6161f9050064&quot;,&quot;f8b209af-79bb-433f-bb48-8f95658b05ca&quot;,&quot;21be7d30-5497-47f8-b418-08b18c0e9898&quot;,&quot;2f493fa8-152a-4a13-a6dd-554fc9453596&quot;,&quot;a7b50ed8-d79d-46c2-b18c-40c64bc8fcfd&quot;,&quot;a76c33f6-61ab-4f61-b9d8-51c82770b198&quot;,&quot;82efcc2f-8972-43ab-8371-ea4f85065bad&quot;,&quot;27184a22-3fca-46c0-8ab5-a3422b6a34f1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;456b0219-d25f-4e54-bb53-548a72d3ced9&quot;,&quot;title&quot;:&quot;Tests on user.ts&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/modeltests/usertest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/usertest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;User Creation test&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts User Creation test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.assert.equal(userTested.getId(), \&quot;0000001\&quot;);\nchai_1.assert.equal(userTested.getFirstName(), \&quot;Test\&quot;);\nchai_1.assert.equal(userTested.getLastName(), \&quot;UserTest\&quot;);\nchai_1.assert.equal(userTested.getEmail(), \&quot;test@gmail.com\&quot;);\nchai_1.assert.equal(userTested.isAdmin(), false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c92acc2b-b077-4faf-a046-b48d36ff811e&quot;,&quot;parentUUID&quot;:&quot;456b0219-d25f-4e54-bb53-548a72d3ced9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Device Modification test&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Device Modification test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userTested.setId(\&quot;0000002\&quot;);\nuserTested.setFirstName(\&quot;Milan\&quot;);\nuserTested.setLastName(\&quot;Bourbe\&quot;);\nuserTested.setEmail(\&quot;MilanBourbe@guez.com\&quot;);\nuserTested.setAdmin(true);\nchai_1.assert.equal(userTested.getId(), \&quot;0000002\&quot;);\nchai_1.assert.equal(userTested.getFirstName(), \&quot;Milan\&quot;);\nchai_1.assert.equal(userTested.getLastName(), \&quot;Bourbe\&quot;);\nchai_1.assert.equal(userTested.getEmail(), \&quot;MilanBourbe@guez.com\&quot;);\nchai_1.assert.equal(userTested.isAdmin(), true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0fc1dc18-0db9-4325-bc78-c68ac5c554ea&quot;,&quot;parentUUID&quot;:&quot;456b0219-d25f-4e54-bb53-548a72d3ced9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;61add25d-0e5f-43b1-a809-4e5dc1099f77&quot;,&quot;title&quot;:&quot;Testing exceptions&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/modeltests/usertest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/usertest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Setting an ID lower than 0 should throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Testing exceptions Setting an ID lower than 0 should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(userTested.setId.bind(userTested, \&quot;-1\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9be40d56-7780-4a04-ad19-c4e13aea4867&quot;,&quot;parentUUID&quot;:&quot;61add25d-0e5f-43b1-a809-4e5dc1099f77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting an empty firstname should throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Testing exceptions Setting an empty firstname should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(userTested.setFirstName.bind(userTested, \&quot;\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34f0d52b-ed7e-4ef7-a561-46ff80741856&quot;,&quot;parentUUID&quot;:&quot;61add25d-0e5f-43b1-a809-4e5dc1099f77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting an empty Lastname should throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Testing exceptions Setting an empty Lastname should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(userTested.setLastName.bind(userTested, \&quot;\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ec701aa-9722-4191-884b-0536fbf46455&quot;,&quot;parentUUID&quot;:&quot;61add25d-0e5f-43b1-a809-4e5dc1099f77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting an invalid email form should throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Testing exceptions Setting an invalid email form should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(userTested.setEmail.bind(userTested, \&quot;test@test@test.fr\&quot;)).to.throw(Error);\nchai_1.expect(userTested.setEmail.bind(userTested, \&quot;testtesttest.fr\&quot;)).to.throw(Error);\nchai_1.expect(userTested.setEmail.bind(userTested, \&quot;test@.test@test.fr\&quot;)).to.throw(Error);\nchai_1.expect(userTested.setEmail.bind(userTested, \&quot;test.test@testfr\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f375fcde-e3dd-47c6-9a66-43a69b204c54&quot;,&quot;parentUUID&quot;:&quot;61add25d-0e5f-43b1-a809-4e5dc1099f77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9be40d56-7780-4a04-ad19-c4e13aea4867&quot;,&quot;34f0d52b-ed7e-4ef7-a561-46ff80741856&quot;,&quot;1ec701aa-9722-4191-884b-0536fbf46455&quot;,&quot;f375fcde-e3dd-47c6-9a66-43a69b204c54&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;c92acc2b-b077-4faf-a046-b48d36ff811e&quot;,&quot;0fc1dc18-0db9-4325-bc78-c68ac5c554ea&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;29080907-714d-4b9d-8e4a-63805f0048ed&quot;,&quot;title&quot;:&quot;POST /auth/login&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/auth_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/auth_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;POST /auth/login\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login \&quot;before all\&quot; hook in \&quot;POST /auth/login\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fab87b9-6bcb-417d-93c4-f1549b2a7e36&quot;,&quot;parentUUID&quot;:&quot;29080907-714d-4b9d-8e4a-63805f0048ed&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;authentification works&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login authentification works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:231,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/login&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    password: \&quot;fromage\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    var _a;\n    if (!res.body.auth)\n        throw new Error(\&quot;No field &#x27;auth&#x27; specified\&quot;);\n    if (!res.body.token || res.body.token.length == 0)\n        throw new Error(\&quot;Empty token returned\&quot;);\n    if (!res.body.user || res.body.user.id !== \&quot;ABCDEFG\&quot;)\n        throw new Error(\&quot;Invalid user returned\&quot;);\n    const token = ((_a = res.body.token) === null || _a === void 0 ? void 0 : _a.toString()) || \&quot;\&quot;;\n    const decoded = jwt.verify(token, config.jwtSecret);\n    const id = decoded[&#x27;id&#x27;] || \&quot;\&quot;;\n    if (!decoded || id != \&quot;ABCDEFG\&quot;)\n        throw new Error(\&quot;Invalid token\&quot;);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31576947-9975-4693-92f4-1806d122e5bc&quot;,&quot;parentUUID&quot;:&quot;29080907-714d-4b9d-8e4a-63805f0048ed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when already have a token&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login responds error when already have a token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/login&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    password: \&quot;fromage\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;You already have a token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80778ecc-7ff3-48d9-9142-c270d41684be&quot;,&quot;parentUUID&quot;:&quot;29080907-714d-4b9d-8e4a-63805f0048ed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when email is invalid&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login responds error when email is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/login&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;paslabonneadresse@mail.fr\&quot;,\n    password: \&quot;fromage\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name or password\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;039137e6-379d-4a24-823c-26016d971fbe&quot;,&quot;parentUUID&quot;:&quot;29080907-714d-4b9d-8e4a-63805f0048ed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when password is invalid&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login responds error when password is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/login&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    password: \&quot;paslebonmdp\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name or password\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32e49d3c-7309-426f-a380-c20512328933&quot;,&quot;parentUUID&quot;:&quot;29080907-714d-4b9d-8e4a-63805f0048ed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;31576947-9975-4693-92f4-1806d122e5bc&quot;,&quot;80778ecc-7ff3-48d9-9142-c270d41684be&quot;,&quot;039137e6-379d-4a24-823c-26016d971fbe&quot;,&quot;32e49d3c-7309-426f-a380-c20512328933&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:376,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;921c1920-163d-4cd7-92fc-3a71678383e1&quot;,&quot;title&quot;:&quot;POST /auth/password/change&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/auth_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/auth_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /auth/password/change\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change \&quot;before each\&quot; hook in \&quot;POST /auth/password/change\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:78,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb3d1e19-935b-4e97-9cf3-37486ff23f8a&quot;,&quot;parentUUID&quot;:&quot;921c1920-163d-4cd7-92fc-3a71678383e1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error if new password is empty&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error if new password is empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/password/change&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    oldPassword: \&quot;fromage\&quot;,\n    newPassword: \&quot;\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;New password can&#x27;t be empty\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de451d7a-6492-4993-b34e-65e6e8eb1195&quot;,&quot;parentUUID&quot;:&quot;921c1920-163d-4cd7-92fc-3a71678383e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error if old password is incorrect&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error if old password is incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/password/change&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    oldPassword: \&quot;paslebon\&quot;,\n    newPassword: \&quot;salade\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name or old password\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;572353dc-f5fd-48c5-8e7e-c9d3d7f785ed&quot;,&quot;parentUUID&quot;:&quot;921c1920-163d-4cd7-92fc-3a71678383e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error if email is incorrect&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error if email is incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/password/change&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;paslebon@mail.fr\&quot;,\n    oldPassword: \&quot;fromage\&quot;,\n    newPassword: \&quot;salade\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name or old password\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cbf95360-5db0-4721-b2a2-2913d80c420b&quot;,&quot;parentUUID&quot;:&quot;921c1920-163d-4cd7-92fc-3a71678383e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:153,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f306478-5e90-41bd-baf3-b4660700754a&quot;,&quot;parentUUID&quot;:&quot;921c1920-163d-4cd7-92fc-3a71678383e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6982ff8e-4810-43f9-b164-36942a256a36&quot;,&quot;parentUUID&quot;:&quot;921c1920-163d-4cd7-92fc-3a71678383e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid user ID token&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error with invalid user ID token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, token)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid user\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02ad6515-0d4b-4d03-9045-70413802491f&quot;,&quot;parentUUID&quot;:&quot;921c1920-163d-4cd7-92fc-3a71678383e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;password change works&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change password change works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:298,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/password/change&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    oldPassword: \&quot;fromage\&quot;,\n    newPassword: \&quot;salade\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, {\n    success: true,\n    user: {\n        id: \&quot;ABCDEFG\&quot;,\n        firstName: \&quot;Lilian\&quot;,\n        lastName: \&quot;Bethus\&quot;,\n        email: \&quot;lilianb@mail.fr\&quot;,\n        admin: true,\n        temporaryPassword: false\n    }\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;592c1f89-9aef-429e-b498-d9ee0df26135&quot;,&quot;parentUUID&quot;:&quot;921c1920-163d-4cd7-92fc-3a71678383e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;de451d7a-6492-4993-b34e-65e6e8eb1195&quot;,&quot;572353dc-f5fd-48c5-8e7e-c9d3d7f785ed&quot;,&quot;cbf95360-5db0-4721-b2a2-2913d80c420b&quot;,&quot;7f306478-5e90-41bd-baf3-b4660700754a&quot;,&quot;6982ff8e-4810-43f9-b164-36942a256a36&quot;,&quot;02ad6515-0d4b-4d03-9045-70413802491f&quot;,&quot;592c1f89-9aef-429e-b498-d9ee0df26135&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:838,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;754ed2bc-b3cf-4267-9fee-f07f12661d4b&quot;,&quot;title&quot;:&quot;PUT /category/add/:category_name&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/category_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/category_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;PUT /category/add/:category_name\&quot;&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name \&quot;before each\&quot; hook in \&quot;PUT /category/add/:category_name\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:73,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5aad6323-ba85-4377-b55a-5dc85772ec43&quot;,&quot;parentUUID&quot;:&quot;754ed2bc-b3cf-4267-9fee-f07f12661d4b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when too long name is given&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error when too long name is given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:68,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/category/add/&#x27; + new Array(257).join(\&quot;A\&quot;))\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09549256-b490-47ba-b6af-433445db1b95&quot;,&quot;parentUUID&quot;:&quot;754ed2bc-b3cf-4267-9fee-f07f12661d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when category name already exists&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error when category name already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/category/add/Ordinateurs&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Category name already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c8995ba-9960-4bbe-986b-9383e1cdf166&quot;,&quot;parentUUID&quot;:&quot;754ed2bc-b3cf-4267-9fee-f07f12661d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a498b747-ea9f-439a-892e-9cf636c94bc4&quot;,&quot;parentUUID&quot;:&quot;754ed2bc-b3cf-4267-9fee-f07f12661d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f98dfbaf-4792-44e3-be60-ad44177af7d0&quot;,&quot;parentUUID&quot;:&quot;754ed2bc-b3cf-4267-9fee-f07f12661d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1fd5e1e-b691-4f6c-9105-b81dfbded676&quot;,&quot;parentUUID&quot;:&quot;754ed2bc-b3cf-4267-9fee-f07f12661d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;adding category works&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name adding category works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/category/add/Test&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96f1e827-e50b-4da3-b146-26c1fcb51b2e&quot;,&quot;parentUUID&quot;:&quot;754ed2bc-b3cf-4267-9fee-f07f12661d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;09549256-b490-47ba-b6af-433445db1b95&quot;,&quot;6c8995ba-9960-4bbe-986b-9383e1cdf166&quot;,&quot;a498b747-ea9f-439a-892e-9cf636c94bc4&quot;,&quot;f98dfbaf-4792-44e3-be60-ad44177af7d0&quot;,&quot;c1fd5e1e-b691-4f6c-9105-b81dfbded676&quot;,&quot;96f1e827-e50b-4da3-b146-26c1fcb51b2e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:99,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4ae7bcd6-be34-4266-b7d8-00e9b8e905e2&quot;,&quot;title&quot;:&quot;POST /category/modify&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/category_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/category_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /category/modify\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify \&quot;before each\&quot; hook in \&quot;POST /category/modify\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9dbcf65-ad5d-48c7-b997-27bddd8515bb&quot;,&quot;parentUUID&quot;:&quot;4ae7bcd6-be34-4266-b7d8-00e9b8e905e2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when not existing category name is given&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error when not existing category name is given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/category/modify&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    oldName: \&quot;Existepas\&quot;,\n    newName: \&quot;Existepasnonplus\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid category name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e1fc032-b6b3-45c6-a974-072393494118&quot;,&quot;parentUUID&quot;:&quot;4ae7bcd6-be34-4266-b7d8-00e9b8e905e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when old name is equals to new name&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error when old name is equals to new name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/category/modify&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    oldName: \&quot;Ordinateurs\&quot;,\n    newName: \&quot;Ordinateurs\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Old name can&#x27;t be the equal to new name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39673843-2d33-4344-8cb1-31c44652e120&quot;,&quot;parentUUID&quot;:&quot;4ae7bcd6-be34-4266-b7d8-00e9b8e905e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when new name already exists&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error when new name already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/category/modify&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    oldName: \&quot;Ordinateurs\&quot;,\n    newName: \&quot;Téléphones\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;New name is already set for a category\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a93829d0-fecf-4e2d-9f15-395b953a14ef&quot;,&quot;parentUUID&quot;:&quot;4ae7bcd6-be34-4266-b7d8-00e9b8e905e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a7631a4-72b5-41d9-a02a-c135c5dfb935&quot;,&quot;parentUUID&quot;:&quot;4ae7bcd6-be34-4266-b7d8-00e9b8e905e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3b09f9e-55b4-4b2c-a1b8-3b8f94d1e40d&quot;,&quot;parentUUID&quot;:&quot;4ae7bcd6-be34-4266-b7d8-00e9b8e905e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e84a8192-22c2-4a7a-82d6-b2a8550f7b22&quot;,&quot;parentUUID&quot;:&quot;4ae7bcd6-be34-4266-b7d8-00e9b8e905e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;modifying category works&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify modifying category works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:39,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/category/modify&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    oldName: \&quot;Ordinateurs\&quot;,\n    newName: \&quot;Courgette\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21683ff9-7db8-4fb4-b364-fca13f374ed3&quot;,&quot;parentUUID&quot;:&quot;4ae7bcd6-be34-4266-b7d8-00e9b8e905e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1e1fc032-b6b3-45c6-a974-072393494118&quot;,&quot;39673843-2d33-4344-8cb1-31c44652e120&quot;,&quot;a93829d0-fecf-4e2d-9f15-395b953a14ef&quot;,&quot;7a7631a4-72b5-41d9-a02a-c135c5dfb935&quot;,&quot;d3b09f9e-55b4-4b2c-a1b8-3b8f94d1e40d&quot;,&quot;e84a8192-22c2-4a7a-82d6-b2a8550f7b22&quot;,&quot;21683ff9-7db8-4fb4-b364-fca13f374ed3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:82,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;841cd182-ac4f-4d1a-a8bc-79b85affb7a2&quot;,&quot;title&quot;:&quot;POST /category/delete/:id_category&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/category_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/category_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /category/delete/:id_category\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category \&quot;before each\&quot; hook in \&quot;POST /category/delete/:id_category\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:131,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bde77dbd-39f4-4f1b-9b34-846e9084b44a&quot;,&quot;parentUUID&quot;:&quot;841cd182-ac4f-4d1a-a8bc-79b85affb7a2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when category ID is not a number&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error when category ID is not a number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/category/delete/PASUNNOMBRE&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Category ID is not a number\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28698a6e-7f34-44a1-8aff-3baeb186dfd3&quot;,&quot;parentUUID&quot;:&quot;841cd182-ac4f-4d1a-a8bc-79b85affb7a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when category ID doesnt exists&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error when category ID doesnt exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/category/delete/99&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid category ID\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;debbbcf4-bd9d-4f97-9e3f-80f601710849&quot;,&quot;parentUUID&quot;:&quot;841cd182-ac4f-4d1a-a8bc-79b85affb7a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ceeffce-016e-463c-9a0d-076b0a3a400e&quot;,&quot;parentUUID&quot;:&quot;841cd182-ac4f-4d1a-a8bc-79b85affb7a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30d03e91-08b2-49f9-bb59-2e0d64e1d9be&quot;,&quot;parentUUID&quot;:&quot;841cd182-ac4f-4d1a-a8bc-79b85affb7a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74395a69-b8f6-404c-a9e6-c9dc86be71c6&quot;,&quot;parentUUID&quot;:&quot;841cd182-ac4f-4d1a-a8bc-79b85affb7a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;deleting category works&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category deleting category works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:36,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/category/delete/1&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08656620-64c3-42f9-884d-0abbd18f9f6d&quot;,&quot;parentUUID&quot;:&quot;841cd182-ac4f-4d1a-a8bc-79b85affb7a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;28698a6e-7f34-44a1-8aff-3baeb186dfd3&quot;,&quot;debbbcf4-bd9d-4f97-9e3f-80f601710849&quot;,&quot;0ceeffce-016e-463c-9a0d-076b0a3a400e&quot;,&quot;30d03e91-08b2-49f9-bb59-2e0d64e1d9be&quot;,&quot;74395a69-b8f6-404c-a9e6-c9dc86be71c6&quot;,&quot;08656620-64c3-42f9-884d-0abbd18f9f6d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:73,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;25e7af48-172d-41b2-9593-d9ee1c4abe36&quot;,&quot;title&quot;:&quot;GET /devices/all&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /devices/all\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all \&quot;before all\&quot; hook in \&quot;GET /devices/all\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:44,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a063dab6-bdaa-4680-ab82-90254b4c4a98&quot;,&quot;parentUUID&quot;:&quot;25e7af48-172d-41b2-9593-d9ee1c4abe36&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds with json&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all responds with json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c8888b0-28c5-4943-ad47-ff290139a036&quot;,&quot;parentUUID&quot;:&quot;25e7af48-172d-41b2-9593-d9ee1c4abe36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;360e9e95-e14e-4065-93af-81b331e81bab&quot;,&quot;parentUUID&quot;:&quot;25e7af48-172d-41b2-9593-d9ee1c4abe36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2adaab19-89c1-49f4-9f8d-b9fa5695739a&quot;,&quot;parentUUID&quot;:&quot;25e7af48-172d-41b2-9593-d9ee1c4abe36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all responds with correct devices informations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:49,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: [{\n                    ref: \&quot;AN001\&quot;,\n                    categoryID: 1,\n                    categoryName: \&quot;Téléphones\&quot;,\n                    name: \&quot;Samsung Galaxy S1000\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/30/35/LD0005303584_2.jpg\&quot;,\n                    phone: \&quot;0123456789\&quot;,\n                    lockDays: [\n                        [\&quot;2021-01-05\&quot;, \&quot;2021-01-08\&quot;],\n                        [\&quot;2021-01-09\&quot;, \&quot;2021-02-08\&quot;]\n                    ]\n                }, {\n                    ref: \&quot;AN002\&quot;,\n                    categoryID: 1,\n                    categoryName: \&quot;Téléphones\&quot;,\n                    name: \&quot;Huawei P80\&quot;,\n                    version: \&quot;1.1\&quot;,\n                    photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/39/99/LD0005399909_2.jpg\&quot;,\n                    phone: \&quot;1234567890\&quot;,\n                    lockDays: []\n                }]\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: [{\n                    ref: \&quot;PC001\&quot;,\n                    categoryID: 2,\n                    categoryName: \&quot;Ordinateurs\&quot;,\n                    name: \&quot;Acer Pro Max\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://static.acer.com/up/Resource/Acer/Laptops/Spin_5/Image/20180824/acer-Spin_5_SP513-53N-main.png\&quot;,\n                    phone: \&quot;\&quot;,\n                    lockDays: [\n                        [\&quot;2021-01-04\&quot;, \&quot;2021-02-04\&quot;]\n                    ]\n                }]\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;543281af-8112-4c9f-90dc-2908ea44df49&quot;,&quot;parentUUID&quot;:&quot;25e7af48-172d-41b2-9593-d9ee1c4abe36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0c8888b0-28c5-4943-ad47-ff290139a036&quot;,&quot;360e9e95-e14e-4065-93af-81b331e81bab&quot;,&quot;2adaab19-89c1-49f4-9f8d-b9fa5695739a&quot;,&quot;543281af-8112-4c9f-90dc-2908ea44df49&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:94,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0852fc2c-4fa2-480f-a710-af36a6c42485&quot;,&quot;title&quot;:&quot;GET /devices/:device_ref&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /devices/:device_ref\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref \&quot;before all\&quot; hook in \&quot;GET /devices/:device_ref\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:121,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc2fb41e-0901-41ac-a391-30393bf7d232&quot;,&quot;parentUUID&quot;:&quot;0852fc2c-4fa2-480f-a710-af36a6c42485&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds with json&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds with json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/AN001&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6abc7113-6910-4cb0-b4f9-e49daf69d3e0&quot;,&quot;parentUUID&quot;:&quot;0852fc2c-4fa2-480f-a710-af36a6c42485&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when device reference is invalid&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds error when device reference is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/PASBON&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid device reference\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7054c897-52af-4d0d-9456-c7a9cbd0163f&quot;,&quot;parentUUID&quot;:&quot;0852fc2c-4fa2-480f-a710-af36a6c42485&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1951892-095e-4b04-a11d-b73f405af0a8&quot;,&quot;parentUUID&quot;:&quot;0852fc2c-4fa2-480f-a710-af36a6c42485&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f046cfcc-81ed-478d-9ff9-8f3892347f43&quot;,&quot;parentUUID&quot;:&quot;0852fc2c-4fa2-480f-a710-af36a6c42485&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds with correct devices informations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/AN001&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal({\n        ref: \&quot;AN001\&quot;,\n        categoryID: 1,\n        categoryName: \&quot;Téléphones\&quot;,\n        name: \&quot;Samsung Galaxy S1000\&quot;,\n        version: \&quot;1.0\&quot;,\n        photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/30/35/LD0005303584_2.jpg\&quot;,\n        phone: \&quot;0123456789\&quot;,\n        lockDays: [\n            [\&quot;2021-01-05\&quot;, \&quot;2021-01-08\&quot;],\n            [\&quot;2021-01-09\&quot;, \&quot;2021-02-08\&quot;]\n        ]\n    });\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42403a63-8008-42b5-b100-ffb90b82497e&quot;,&quot;parentUUID&quot;:&quot;0852fc2c-4fa2-480f-a710-af36a6c42485&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6abc7113-6910-4cb0-b4f9-e49daf69d3e0&quot;,&quot;7054c897-52af-4d0d-9456-c7a9cbd0163f&quot;,&quot;b1951892-095e-4b04-a11d-b73f405af0a8&quot;,&quot;f046cfcc-81ed-478d-9ff9-8f3892347f43&quot;,&quot;42403a63-8008-42b5-b100-ffb90b82497e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:66,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;dc4392a9-9b37-45a1-98f4-854dc2730da0&quot;,&quot;title&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;...&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /devices/all?filter_name=filter_value&amp;...\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... \&quot;before all\&quot; hook in \&quot;GET /devices/all?filter_name=filter_value&amp;...\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:127,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d317d4f5-9084-4ab3-9474-25f415d3173c&quot;,&quot;parentUUID&quot;:&quot;dc4392a9-9b37-45a1-98f4-854dc2730da0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds nothing when device reference is invalid&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds nothing when device reference is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?ref=PABON&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: []\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: []\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8fecd9d2-a58a-4552-9066-66a966ba1164&quot;,&quot;parentUUID&quot;:&quot;dc4392a9-9b37-45a1-98f4-854dc2730da0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds nothing when device name is invalid&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds nothing when device name is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?name=PABON&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: []\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: []\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7fa7f408-8e9a-4fc5-8533-cfcb3e294079&quot;,&quot;parentUUID&quot;:&quot;dc4392a9-9b37-45a1-98f4-854dc2730da0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when device category is invalid&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds error when device category is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?category=PABON&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid category name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47be59ea-1e0e-4c09-bc24-6b4204a30a9c&quot;,&quot;parentUUID&quot;:&quot;dc4392a9-9b37-45a1-98f4-854dc2730da0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30284398-5edd-457c-9236-6b9914e7809a&quot;,&quot;parentUUID&quot;:&quot;dc4392a9-9b37-45a1-98f4-854dc2730da0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77fa7fa8-f673-44d4-a71e-d28081695dfc&quot;,&quot;parentUUID&quot;:&quot;dc4392a9-9b37-45a1-98f4-854dc2730da0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations with ref only&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds with correct devices informations with ref only&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?ref=AN001&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: [{\n                    ref: \&quot;AN001\&quot;,\n                    categoryID: 1,\n                    categoryName: \&quot;Téléphones\&quot;,\n                    name: \&quot;Samsung Galaxy S1000\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/30/35/LD0005303584_2.jpg\&quot;,\n                    phone: \&quot;0123456789\&quot;,\n                    lockDays: [\n                        [\&quot;2021-01-05\&quot;, \&quot;2021-01-08\&quot;],\n                        [\&quot;2021-01-09\&quot;, \&quot;2021-02-08\&quot;]\n                    ]\n                }]\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: []\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d08f1153-50f0-428a-a316-8cb65f901fda&quot;,&quot;parentUUID&quot;:&quot;dc4392a9-9b37-45a1-98f4-854dc2730da0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations with name only&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds with correct devices informations with name only&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?name=Samsung Galaxy S1000&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: [{\n                    ref: \&quot;AN001\&quot;,\n                    categoryID: 1,\n                    categoryName: \&quot;Téléphones\&quot;,\n                    name: \&quot;Samsung Galaxy S1000\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/30/35/LD0005303584_2.jpg\&quot;,\n                    phone: \&quot;0123456789\&quot;,\n                    lockDays: [\n                        [\&quot;2021-01-05\&quot;, \&quot;2021-01-08\&quot;],\n                        [\&quot;2021-01-09\&quot;, \&quot;2021-02-08\&quot;]\n                    ]\n                }]\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: []\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57a019d9-4992-43bd-be2a-b0c6ff06286c&quot;,&quot;parentUUID&quot;:&quot;dc4392a9-9b37-45a1-98f4-854dc2730da0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations with category only&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds with correct devices informations with category only&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?category=Ordinateurs&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: []\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: [{\n                    ref: \&quot;PC001\&quot;,\n                    categoryID: 2,\n                    categoryName: \&quot;Ordinateurs\&quot;,\n                    name: \&quot;Acer Pro Max\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://static.acer.com/up/Resource/Acer/Laptops/Spin_5/Image/20180824/acer-Spin_5_SP513-53N-main.png\&quot;,\n                    phone: \&quot;\&quot;,\n                    lockDays: [[\&quot;2021-01-04\&quot;, \&quot;2021-02-04\&quot;]]\n                }]\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;692ac98b-0586-4730-a996-3eb1f0b5bda5&quot;,&quot;parentUUID&quot;:&quot;dc4392a9-9b37-45a1-98f4-854dc2730da0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations with all filters&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds with correct devices informations with all filters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?ref=PC001&amp;name=Acer Pro Max&amp;category=Ordinateurs&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: []\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: [{\n                    ref: \&quot;PC001\&quot;,\n                    categoryID: 2,\n                    categoryName: \&quot;Ordinateurs\&quot;,\n                    name: \&quot;Acer Pro Max\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://static.acer.com/up/Resource/Acer/Laptops/Spin_5/Image/20180824/acer-Spin_5_SP513-53N-main.png\&quot;,\n                    phone: \&quot;\&quot;,\n                    lockDays: [[\&quot;2021-01-04\&quot;, \&quot;2021-02-04\&quot;]]\n                }]\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9d718b4-dbdc-4b2e-acc8-6038569e88ea&quot;,&quot;parentUUID&quot;:&quot;dc4392a9-9b37-45a1-98f4-854dc2730da0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8fecd9d2-a58a-4552-9066-66a966ba1164&quot;,&quot;7fa7f408-8e9a-4fc5-8533-cfcb3e294079&quot;,&quot;47be59ea-1e0e-4c09-bc24-6b4204a30a9c&quot;,&quot;30284398-5edd-457c-9236-6b9914e7809a&quot;,&quot;77fa7fa8-f673-44d4-a71e-d28081695dfc&quot;,&quot;d08f1153-50f0-428a-a316-8cb65f901fda&quot;,&quot;57a019d9-4992-43bd-be2a-b0c6ff06286c&quot;,&quot;692ac98b-0586-4730-a996-3eb1f0b5bda5&quot;,&quot;a9d718b4-dbdc-4b2e-acc8-6038569e88ea&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:116,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;title&quot;:&quot;POST /devices/borrow/:id_utilisateur&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /devices/borrow/:id_utilisateur\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur \&quot;before each\&quot; hook in \&quot;POST /devices/borrow/:id_utilisateur\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:41,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;141ea83e-4dd8-46a1-bbdc-50de8ac9ccf0&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when startDate is after endDate&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when startDate is after endDate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-02-30\&quot;, \&quot;2021-02-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Start date is after end date\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41609d4b-1cee-40a1-92d5-500a6c36834d&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when no commands are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when no commands are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;No commands given\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bf59f07-0bdd-4b46-92e1-bd73ec327149&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when no reference are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when no reference are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            loanDays: [\&quot;2021-01-02\&quot;, \&quot;2021-01-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;No reference given\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f05be71-a32b-4660-843f-43b41d121661&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when no loanDays are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when no loanDays are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;No loanDays given\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffd336aa-1753-4b69-b064-46b5f6d7429b&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when loanDays is not an array&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when loanDays is not an array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: 67\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid loanDays\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd081357-2654-4b18-8146-f44c5d5706c0&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when less than two loanDays are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when less than two loanDays are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2020-04-12\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid loanDays count\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38210d22-0a84-4a02-8fe2-d5c148b0866d&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when more than two loanDays are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when more than two loanDays are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2020-04-12\&quot;, \&quot;2020-04-14\&quot;, \&quot;2020-04-16\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid loanDays count\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4f0b862-4b37-47f2-918b-a250a5f1b118&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when there already is a reservation in the given period&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when there already is a reservation in the given period&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-01-02\&quot;, \&quot;2021-01-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Reservation already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd1ec0c5-206a-4850-90a8-87b9f420b7f2&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when start date is invalid&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when start date is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;01-s\&quot;, \&quot;2021-01-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid start date\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32e797bb-eb4a-4d17-a97f-ad0b0d8a5748&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when end date is invalid&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when end date is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-01-20\&quot;, \&quot;20-s\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid end date\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae17a543-cee8-46d0-875f-9548031e46ea&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cdbec96-1d80-497d-a0b9-f8bdf506e4a3&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;850030dd-ad1f-4520-874d-b86e23fd6022&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid user ID token&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error with invalid user ID token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, token)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid user\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d9e39d1-9b1d-49d6-ae73-917b2a6fa4e3&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;borrow devices works&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur borrow devices works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-05-05\&quot;, \&quot;2021-05-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f99cdb3f-1f43-46b1-bf09-b5278b00aeb8&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;borrow multiple devices works&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur borrow multiple devices works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:38,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [\n        {\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-05-05\&quot;, \&quot;2021-05-15\&quot;]\n        },\n        {\n            reference: \&quot;AN002\&quot;,\n            loanDays: [\&quot;2021-05-05\&quot;, \&quot;2021-05-15\&quot;]\n        }\n    ]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7cddebbf-2657-4a72-b946-c142192a6a72&quot;,&quot;parentUUID&quot;:&quot;714ac355-6cb1-4ca0-8fa7-b6b9f231f19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;41609d4b-1cee-40a1-92d5-500a6c36834d&quot;,&quot;3bf59f07-0bdd-4b46-92e1-bd73ec327149&quot;,&quot;8f05be71-a32b-4660-843f-43b41d121661&quot;,&quot;ffd336aa-1753-4b69-b064-46b5f6d7429b&quot;,&quot;cd081357-2654-4b18-8146-f44c5d5706c0&quot;,&quot;38210d22-0a84-4a02-8fe2-d5c148b0866d&quot;,&quot;b4f0b862-4b37-47f2-918b-a250a5f1b118&quot;,&quot;bd1ec0c5-206a-4850-90a8-87b9f420b7f2&quot;,&quot;32e797bb-eb4a-4d17-a97f-ad0b0d8a5748&quot;,&quot;ae17a543-cee8-46d0-875f-9548031e46ea&quot;,&quot;9cdbec96-1d80-497d-a0b9-f8bdf506e4a3&quot;,&quot;850030dd-ad1f-4520-874d-b86e23fd6022&quot;,&quot;3d9e39d1-9b1d-49d6-ae73-917b2a6fa4e3&quot;,&quot;f99cdb3f-1f43-46b1-bf09-b5278b00aeb8&quot;,&quot;7cddebbf-2657-4a72-b946-c142192a6a72&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:138,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b6bdbf71-6bb9-4ed3-befd-54ae6470a3bc&quot;,&quot;title&quot;:&quot;PUT /devices/add/&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;PUT /devices/add/\&quot;&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ \&quot;before each\&quot; hook in \&quot;PUT /devices/add/\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9ff0354-87a8-47ca-9b40-d523f0d640b4&quot;,&quot;parentUUID&quot;:&quot;b6bdbf71-6bb9-4ed3-befd-54ae6470a3bc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when category name is invalid&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when category name is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;AN003\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;EXISTEPAS\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid category name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e8f9826-15a7-46ff-bcb2-5b918518a208&quot;,&quot;parentUUID&quot;:&quot;b6bdbf71-6bb9-4ed3-befd-54ae6470a3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when reference is invalid&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when reference is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;PASVALIDE\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;Téléphones\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid reference\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c11bdff-e172-490b-ba4d-5a0633ce3af7&quot;,&quot;parentUUID&quot;:&quot;b6bdbf71-6bb9-4ed3-befd-54ae6470a3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when reference is missing&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when reference is missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;Téléphones\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Missing reference\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d5b198c-9ed9-40f6-a6d0-962dc326771e&quot;,&quot;parentUUID&quot;:&quot;b6bdbf71-6bb9-4ed3-befd-54ae6470a3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when category is missing&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when category is missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;AN003\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Missing category name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15736053-ce13-4b4b-a3a8-e4e800fef133&quot;,&quot;parentUUID&quot;:&quot;b6bdbf71-6bb9-4ed3-befd-54ae6470a3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when reference already exists&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when reference already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;AN001\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;Téléphones\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Device reference is already used\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36a8bcd3-12ad-4093-9fa5-c18ae5f8a857&quot;,&quot;parentUUID&quot;:&quot;b6bdbf71-6bb9-4ed3-befd-54ae6470a3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95590679-41d8-4f54-a4d3-d7ffbc2ce009&quot;,&quot;parentUUID&quot;:&quot;b6bdbf71-6bb9-4ed3-befd-54ae6470a3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1d39751-9d13-4048-a6c7-564ea991e8dc&quot;,&quot;parentUUID&quot;:&quot;b6bdbf71-6bb9-4ed3-befd-54ae6470a3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dcedaffd-a327-4080-ac80-a7cd8134eadb&quot;,&quot;parentUUID&quot;:&quot;b6bdbf71-6bb9-4ed3-befd-54ae6470a3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;adding device works&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ adding device works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:48,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;AN003\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;Téléphones\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc1ad49e-4105-4325-9ce8-a612617bbff1&quot;,&quot;parentUUID&quot;:&quot;b6bdbf71-6bb9-4ed3-befd-54ae6470a3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2e8f9826-15a7-46ff-bcb2-5b918518a208&quot;,&quot;2c11bdff-e172-490b-ba4d-5a0633ce3af7&quot;,&quot;3d5b198c-9ed9-40f6-a6d0-962dc326771e&quot;,&quot;15736053-ce13-4b4b-a3a8-e4e800fef133&quot;,&quot;36a8bcd3-12ad-4093-9fa5-c18ae5f8a857&quot;,&quot;95590679-41d8-4f54-a4d3-d7ffbc2ce009&quot;,&quot;a1d39751-9d13-4048-a6c7-564ea991e8dc&quot;,&quot;dcedaffd-a327-4080-ac80-a7cd8134eadb&quot;,&quot;cc1ad49e-4105-4325-9ce8-a612617bbff1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:84,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1f579b03-4e0a-418a-b3c2-f937d3e0dca2&quot;,&quot;title&quot;:&quot;DELETE /devices/delete/:device_id&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;DELETE /devices/delete/:device_id\&quot;&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id \&quot;before each\&quot; hook in \&quot;DELETE /devices/delete/:device_id\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:34,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63ef5475-4633-4e15-b0bc-b6c267e4d43e&quot;,&quot;parentUUID&quot;:&quot;1f579b03-4e0a-418a-b3c2-f937d3e0dca2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when device reference is invalid&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id responds error when device reference is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/devices/delete/PASVALID&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid device reference\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d8920ca-a31e-406f-aa58-fc0d2623d813&quot;,&quot;parentUUID&quot;:&quot;1f579b03-4e0a-418a-b3c2-f937d3e0dca2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd758be2-925b-4150-976c-1dd05a761805&quot;,&quot;parentUUID&quot;:&quot;1f579b03-4e0a-418a-b3c2-f937d3e0dca2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba488752-c334-43b9-8972-f95776991c5d&quot;,&quot;parentUUID&quot;:&quot;1f579b03-4e0a-418a-b3c2-f937d3e0dca2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2409737a-2825-4d37-84c4-71f5cccfebd1&quot;,&quot;parentUUID&quot;:&quot;1f579b03-4e0a-418a-b3c2-f937d3e0dca2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;deleting a device works&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id deleting a device works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/devices/delete/AN001&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4f83763-c0fd-4395-b4c2-e9af30079114&quot;,&quot;parentUUID&quot;:&quot;1f579b03-4e0a-418a-b3c2-f937d3e0dca2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5d8920ca-a31e-406f-aa58-fc0d2623d813&quot;,&quot;fd758be2-925b-4150-976c-1dd05a761805&quot;,&quot;ba488752-c334-43b9-8972-f95776991c5d&quot;,&quot;2409737a-2825-4d37-84c4-71f5cccfebd1&quot;,&quot;b4f83763-c0fd-4395-b4c2-e9af30079114&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f7e066f6-b37f-49c4-80e7-8ebd9ea24c3f&quot;,&quot;title&quot;:&quot;GET /user/all&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /user/all\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /user/all \&quot;before all\&quot; hook in \&quot;GET /user/all\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:73,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7178e0b4-2175-48c6-ba79-dcfcdbf4e880&quot;,&quot;parentUUID&quot;:&quot;f7e066f6-b37f-49c4-80e7-8ebd9ea24c3f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9e4c722-4e40-4a53-89b8-27a9ee91ef24&quot;,&quot;parentUUID&quot;:&quot;f7e066f6-b37f-49c4-80e7-8ebd9ea24c3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b540f69c-ace2-4793-8c5d-8d8cee94478e&quot;,&quot;parentUUID&quot;:&quot;f7e066f6-b37f-49c4-80e7-8ebd9ea24c3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0941872-5c2e-441f-a6ba-ca5dfb37971e&quot;,&quot;parentUUID&quot;:&quot;f7e066f6-b37f-49c4-80e7-8ebd9ea24c3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with json&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds with json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/all&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67d9f074-4c5e-45f0-bbc4-fee3d258ece5&quot;,&quot;parentUUID&quot;:&quot;f7e066f6-b37f-49c4-80e7-8ebd9ea24c3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct users informations&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds with correct users informations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/all&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, [{\n        id: \&quot;ABCDEFG\&quot;,\n        firstName: \&quot;Lilian\&quot;,\n        lastName: \&quot;Bethus\&quot;,\n        email: \&quot;lilianb@mail.fr\&quot;,\n        admin: true,\n        temporaryPassword: false\n    },\n    {\n        id: \&quot;HIJKLMN\&quot;,\n        firstName: \&quot;Milan\&quot;,\n        lastName: \&quot;Pasquereau\&quot;,\n        email: \&quot;mpsqr@mail.fr\&quot;,\n        admin: false,\n        temporaryPassword: false\n    }], done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b5d66e3-fedd-41ec-93bc-f8cfd830ad55&quot;,&quot;parentUUID&quot;:&quot;f7e066f6-b37f-49c4-80e7-8ebd9ea24c3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e9e4c722-4e40-4a53-89b8-27a9ee91ef24&quot;,&quot;b540f69c-ace2-4793-8c5d-8d8cee94478e&quot;,&quot;f0941872-5c2e-441f-a6ba-ca5dfb37971e&quot;,&quot;67d9f074-4c5e-45f0-bbc4-fee3d258ece5&quot;,&quot;6b5d66e3-fedd-41ec-93bc-f8cfd830ad55&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;594e7ea6-9583-415a-bd87-91e878794d35&quot;,&quot;title&quot;:&quot;GET /user/:userId&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /user/:userId\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId \&quot;before all\&quot; hook in \&quot;GET /user/:userId\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34f83b21-0e8f-4759-a5e2-ade150dfc3a2&quot;,&quot;parentUUID&quot;:&quot;594e7ea6-9583-415a-bd87-91e878794d35&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds with json&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds with json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:423,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be97dee0-c7ec-4ac5-adb6-20255a396f02&quot;,&quot;parentUUID&quot;:&quot;594e7ea6-9583-415a-bd87-91e878794d35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct user informations&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds with correct user informations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, {\n    id: \&quot;ABCDEFG\&quot;,\n    firstName: \&quot;Lilian\&quot;,\n    lastName: \&quot;Bethus\&quot;,\n    email: \&quot;lilianb@mail.fr\&quot;,\n    admin: true,\n    temporaryPassword: false\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b83c64c8-424e-4bef-972f-2233826ce2c9&quot;,&quot;parentUUID&quot;:&quot;594e7ea6-9583-415a-bd87-91e878794d35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid ID&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds error for invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/invalid&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Cannot find results\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c79a25cb-4886-40e0-9439-7f47de2d9ea8&quot;,&quot;parentUUID&quot;:&quot;594e7ea6-9583-415a-bd87-91e878794d35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bf5b732-0fbb-4378-89f0-00d75517a7bf&quot;,&quot;parentUUID&quot;:&quot;594e7ea6-9583-415a-bd87-91e878794d35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;557c993d-7c64-4d6e-b3c9-30d824f1f724&quot;,&quot;parentUUID&quot;:&quot;594e7ea6-9583-415a-bd87-91e878794d35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef973368-9101-4922-9fb1-aaa5bdb13d57&quot;,&quot;parentUUID&quot;:&quot;594e7ea6-9583-415a-bd87-91e878794d35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;be97dee0-c7ec-4ac5-adb6-20255a396f02&quot;,&quot;b83c64c8-424e-4bef-972f-2233826ce2c9&quot;,&quot;c79a25cb-4886-40e0-9439-7f47de2d9ea8&quot;,&quot;4bf5b732-0fbb-4378-89f0-00d75517a7bf&quot;,&quot;557c993d-7c64-4d6e-b3c9-30d824f1f724&quot;,&quot;ef973368-9101-4922-9fb1-aaa5bdb13d57&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:458,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ee93b486-b584-4fa4-82d5-6b584a093e05&quot;,&quot;title&quot;:&quot;PUT /user/add&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;PUT /user/add\&quot;&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add \&quot;before each\&quot; hook in \&quot;PUT /user/add\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:97,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c29fadc-074f-48e7-9413-ad18f5c74b87&quot;,&quot;parentUUID&quot;:&quot;ee93b486-b584-4fa4-82d5-6b584a093e05&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when trying to add user with already existing id&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error when trying to add user with already existing id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;ABCDEFG\&quot;,\n    firstName: \&quot;Marche\&quot;,\n    lastName: \&quot;Pas\&quot;,\n    email: \&quot;rien@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this ID already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;212e9c91-0694-430f-ba2f-ffc2c7fe51c7&quot;,&quot;parentUUID&quot;:&quot;ee93b486-b584-4fa4-82d5-6b584a093e05&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid ID&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error for invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;INVAL\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;jdupont@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid ID\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10791821-f7aa-44a8-a482-10e964ae8444&quot;,&quot;parentUUID&quot;:&quot;ee93b486-b584-4fa4-82d5-6b584a093e05&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid email&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error for invalid email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;TESTTE1\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;cecinestpasunmail.correct\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid email\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8e6dd83-df46-4e62-b114-cd55f66618e9&quot;,&quot;parentUUID&quot;:&quot;ee93b486-b584-4fa4-82d5-6b584a093e05&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid user with already existing email&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error for invalid user with already existing email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;TESTTE2\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;lilianb@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this email already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae05e1b2-24af-4f32-a9fd-42c152eafd90&quot;,&quot;parentUUID&quot;:&quot;ee93b486-b584-4fa4-82d5-6b584a093e05&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57bd3041-72e7-4856-8aef-53481bc997f4&quot;,&quot;parentUUID&quot;:&quot;ee93b486-b584-4fa4-82d5-6b584a093e05&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee6b8d07-184a-49a7-b733-6f2db1211ba1&quot;,&quot;parentUUID&quot;:&quot;ee93b486-b584-4fa4-82d5-6b584a093e05&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;159b4930-3c00-4a61-a748-460410acbb2c&quot;,&quot;parentUUID&quot;:&quot;ee93b486-b584-4fa4-82d5-6b584a093e05&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;user creation works&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add user creation works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:202,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;TESTTE3\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;jdupont@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, () =&gt; {\n    supertest_1.default(server_1.app)\n        .get(&#x27;/api/users/TESTTE3&#x27;)\n        .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n        .set(\&quot;x-access-token\&quot;, helper.getToken())\n        .expect(&#x27;Content-Type&#x27;, /json/)\n        .expect(200, {\n        id: \&quot;TESTTE3\&quot;,\n        firstName: \&quot;Jean\&quot;,\n        lastName: \&quot;Dupont\&quot;,\n        email: \&quot;jdupont@mail.fr\&quot;,\n        admin: false,\n        temporaryPassword: true\n    }, done);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;719af549-2cce-409a-967c-d8e805655742&quot;,&quot;parentUUID&quot;:&quot;ee93b486-b584-4fa4-82d5-6b584a093e05&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;212e9c91-0694-430f-ba2f-ffc2c7fe51c7&quot;,&quot;10791821-f7aa-44a8-a482-10e964ae8444&quot;,&quot;b8e6dd83-df46-4e62-b114-cd55f66618e9&quot;,&quot;ae05e1b2-24af-4f32-a9fd-42c152eafd90&quot;,&quot;57bd3041-72e7-4856-8aef-53481bc997f4&quot;,&quot;ee6b8d07-184a-49a7-b733-6f2db1211ba1&quot;,&quot;159b4930-3c00-4a61-a748-460410acbb2c&quot;,&quot;719af549-2cce-409a-967c-d8e805655742&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:250,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fd309604-8905-4537-bd59-6fc1eb2ec57a&quot;,&quot;title&quot;:&quot;POST /user/modify&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /user/modify\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify \&quot;before each\&quot; hook in \&quot;POST /user/modify\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5690411-1b10-469b-bf42-4d64d21bab76&quot;,&quot;parentUUID&quot;:&quot;fd309604-8905-4537-bd59-6fc1eb2ec57a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error for invalid user ID&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error for invalid user ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/users/modify&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;INVALID\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;jdupont@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this ID doesn&#x27;t exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b14632b-0876-4885-801c-134ee1f404cc&quot;,&quot;parentUUID&quot;:&quot;fd309604-8905-4537-bd59-6fc1eb2ec57a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid user with already existing email&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error for invalid user with already existing email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/users/modify&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;HIJKLMN\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;lilianb@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this email already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13a028d5-f290-4d0a-a572-366e70db59fd&quot;,&quot;parentUUID&quot;:&quot;fd309604-8905-4537-bd59-6fc1eb2ec57a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd4c11a1-7ae5-4760-8dfd-c310eab3b70e&quot;,&quot;parentUUID&quot;:&quot;fd309604-8905-4537-bd59-6fc1eb2ec57a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;809831ae-6b8d-45bb-a2ee-1f16ea8a4901&quot;,&quot;parentUUID&quot;:&quot;fd309604-8905-4537-bd59-6fc1eb2ec57a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21b4aef0-feea-446a-8e9c-3330be43ac9f&quot;,&quot;parentUUID&quot;:&quot;fd309604-8905-4537-bd59-6fc1eb2ec57a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;user modification works&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify user modification works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:36,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/users/modify&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;HIJKLMN\&quot;,\n    firstName: \&quot;M\&quot;,\n    lastName: \&quot;P\&quot;,\n    email: \&quot;psqrm@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, () =&gt; {\n    supertest_1.default(server_1.app)\n        .get(&#x27;/api/users/HIJKLMN&#x27;)\n        .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n        .set(\&quot;x-access-token\&quot;, helper.getToken())\n        .expect(&#x27;Content-Type&#x27;, /json/)\n        .expect(200, {\n        id: \&quot;HIJKLMN\&quot;,\n        firstName: \&quot;M\&quot;,\n        lastName: \&quot;P\&quot;,\n        email: \&quot;psqrm@mail.fr\&quot;,\n        admin: false,\n        temporaryPassword: false\n    }, done);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a03552e-df15-464b-97d6-713be5a013d9&quot;,&quot;parentUUID&quot;:&quot;fd309604-8905-4537-bd59-6fc1eb2ec57a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6b14632b-0876-4885-801c-134ee1f404cc&quot;,&quot;13a028d5-f290-4d0a-a572-366e70db59fd&quot;,&quot;cd4c11a1-7ae5-4760-8dfd-c310eab3b70e&quot;,&quot;809831ae-6b8d-45bb-a2ee-1f16ea8a4901&quot;,&quot;21b4aef0-feea-446a-8e9c-3330be43ac9f&quot;,&quot;4a03552e-df15-464b-97d6-713be5a013d9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:69,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;704cc8d1-0eec-4080-a065-b946c8af8364&quot;,&quot;title&quot;:&quot;DELETE /user/delete/:userId&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;DELETE /user/delete/:userId\&quot;&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId \&quot;before each\&quot; hook in \&quot;DELETE /user/delete/:userId\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6eff9b94-2f81-4c6c-89ff-d4e70d48ee62&quot;,&quot;parentUUID&quot;:&quot;704cc8d1-0eec-4080-a065-b946c8af8364&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error with invalid user id&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId responds error with invalid user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/users/delete/INVALID&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this ID doesn&#x27;t exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00240a88-f85a-4d2a-a5e5-d022581a1172&quot;,&quot;parentUUID&quot;:&quot;704cc8d1-0eec-4080-a065-b946c8af8364&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f63c83a-5d8d-463d-bd95-e6ff63a8c8c7&quot;,&quot;parentUUID&quot;:&quot;704cc8d1-0eec-4080-a065-b946c8af8364&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10bd613c-efb1-43ba-afc7-92043272e0a3&quot;,&quot;parentUUID&quot;:&quot;704cc8d1-0eec-4080-a065-b946c8af8364&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a69ce7ba-0b83-412c-b363-54a48066f7b3&quot;,&quot;parentUUID&quot;:&quot;704cc8d1-0eec-4080-a065-b946c8af8364&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;user deletion works&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId user deletion works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/users/delete/HIJKLMN&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, () =&gt; {\n    supertest_1.default(server_1.app)\n        .get(&#x27;/api/users/HIJKLMN&#x27;)\n        .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n        .set(\&quot;x-access-token\&quot;, helper.getToken())\n        .expect(&#x27;Content-Type&#x27;, /json/)\n        .expect(400, {\n        error: true,\n        message: \&quot;Cannot find results\&quot;\n    }, done);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;926c046a-cf8f-481a-981f-d92793e0ffcb&quot;,&quot;parentUUID&quot;:&quot;704cc8d1-0eec-4080-a065-b946c8af8364&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;00240a88-f85a-4d2a-a5e5-d022581a1172&quot;,&quot;1f63c83a-5d8d-463d-bd95-e6ff63a8c8c7&quot;,&quot;10bd613c-efb1-43ba-afc7-92043272e0a3&quot;,&quot;a69ce7ba-0b83-412c-b363-54a48066f7b3&quot;,&quot;926c046a-cf8f-481a-981f-d92793e0ffcb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:46,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4f0aeae1-3ed0-4b2d-b640-ab6bbdf07fa4&quot;,&quot;title&quot;:&quot;GET /user/:userId/history&quot;,&quot;fullFile&quot;:&quot;/home/yohan/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;GET /user/:userId/history\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history \&quot;before each\&quot; hook in \&quot;GET /user/:userId/history\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20ba054b-97e4-4952-8090-079449fece49&quot;,&quot;parentUUID&quot;:&quot;4f0aeae1-3ed0-4b2d-b640-ab6bbdf07fa4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error with invalid user id&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history responds error with invalid user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/INVALID/history&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this ID doesn&#x27;t exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;346b82d9-c081-41a6-b89f-8df1d4929dad&quot;,&quot;parentUUID&quot;:&quot;4f0aeae1-3ed0-4b2d-b640-ab6bbdf07fa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4868e0e-fd37-47ae-adc3-b947fdb06004&quot;,&quot;parentUUID&quot;:&quot;4f0aeae1-3ed0-4b2d-b640-ab6bbdf07fa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ca0c5f4-f4bb-44e2-8eea-8d8d980a38a0&quot;,&quot;parentUUID&quot;:&quot;4f0aeae1-3ed0-4b2d-b640-ab6bbdf07fa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f5d8d5d-6333-44f0-a9f8-88e02d21ec4c&quot;,&quot;parentUUID&quot;:&quot;4f0aeae1-3ed0-4b2d-b640-ab6bbdf07fa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;user history works&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history user history works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/ABCDEFG/history&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, [{\n        ID: 2,\n        endDate: \&quot;2021-01-12\&quot;,\n        idUser: \&quot;ABCDEFG\&quot;,\n        refDevice: \&quot;PC001\&quot;,\n        returnDate: \&quot;2021-02-04\&quot;,\n        startDate: \&quot;2021-01-04\&quot;\n    }], done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8921f4d2-952e-42a2-b95e-de7fc4e9dfba&quot;,&quot;parentUUID&quot;:&quot;4f0aeae1-3ed0-4b2d-b640-ab6bbdf07fa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;346b82d9-c081-41a6-b89f-8df1d4929dad&quot;,&quot;a4868e0e-fd37-47ae-adc3-b947fdb06004&quot;,&quot;8ca0c5f4-f4bb-44e2-8eea-8d8d980a38a0&quot;,&quot;1f5d8d5d-6333-44f0-a9f8-88e02d21ec4c&quot;,&quot;8921f4d2-952e-42a2-b95e-de7fc4e9dfba&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:32,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;8.2.1&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.2.1&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Loaner&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/yohan/Loaner/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/yohan/Loaner/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>