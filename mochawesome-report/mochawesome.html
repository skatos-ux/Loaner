<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:51,&quot;tests&quot;:194,&quot;passes&quot;:194,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2021-01-09T18:18:43.352Z&quot;,&quot;end&quot;:&quot;2021-01-09T18:18:46.917Z&quot;,&quot;duration&quot;:3565,&quot;testsRegistered&quot;:201,&quot;passPercent&quot;:96.51741293532339,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:7,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;61adb505-cbee-47d8-ae3f-ef383ef7b81e&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The device must match an existing category&quot;,&quot;fullTitle&quot;:&quot;The device must match an existing category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const existingCategories = yield DAOcat.getAll();\n    let check = false;\n    //Testing that its category is member of the categories of the database\n    existingCategories.forEach(function (category) {\n        if (device.getCategoryID() == category.getID())\n            check = true;\n    });\n    assert.isTrue(check);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a7f810b-0023-4c34-adce-e2b61dc4b02b&quot;,&quot;parentUUID&quot;:&quot;61adb505-cbee-47d8-ae3f-ef383ef7b81e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;The device must have a five character reference&quot;,&quot;fullTitle&quot;:&quot;The device must have a five character reference&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    assert.equal(device.getRef().length, 5);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bcf65328-4b9e-4fc2-a699-c19a8e7acb31&quot;,&quot;parentUUID&quot;:&quot;61adb505-cbee-47d8-ae3f-ef383ef7b81e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;The device must not have an empty name or a null name&quot;,&quot;fullTitle&quot;:&quot;The device must not have an empty name or a null name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    assert.isNotNull(device.getName());\n    assert.isAbove(device.getName().length, 0);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7923cea4-475c-470e-a6a5-dd5c92c505d6&quot;,&quot;parentUUID&quot;:&quot;61adb505-cbee-47d8-ae3f-ef383ef7b81e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;The device must have a version number between 3 and 15 characters&quot;,&quot;fullTitle&quot;:&quot;The device must have a version number between 3 and 15 characters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    assert.isAbove(device.getVersion().length, 2);\n    assert.isBelow(device.getVersion().length, 16);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;487a3d08-bbec-4299-a912-603ecba131a2&quot;,&quot;parentUUID&quot;:&quot;61adb505-cbee-47d8-ae3f-ef383ef7b81e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;The device must have a correct version number&quot;,&quot;fullTitle&quot;:&quot;The device must have a correct version number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(device.getVersion()).to.match(/^[0-9]*\\.[0-9]*$/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ee06864-5cd3-49b1-bd23-77c9bb1365c2&quot;,&quot;parentUUID&quot;:&quot;61adb505-cbee-47d8-ae3f-ef383ef7b81e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;The device must have a grater version than 0.0&quot;,&quot;fullTitle&quot;:&quot;The device must have a grater version than 0.0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const numbers = device.getVersion().split(&#x27;.&#x27;);\n    assert.isAbove(parseInt(numbers[0]), 0);\n    assert.isAbove(parseInt(numbers[1]), -1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b240da6-9e92-4456-906f-9b91f9b474a6&quot;,&quot;parentUUID&quot;:&quot;61adb505-cbee-47d8-ae3f-ef383ef7b81e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;The device with a phone number must have a correct phone number&quot;,&quot;fullTitle&quot;:&quot;The device with a phone number must have a correct phone number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    if (device.getPhone()) {\n        expect(device.getPhone()).to.match(/^\\+?[0-9]{0,15}$/);\n    }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0bf69de8-bff7-4d80-a994-1dc973d9a30d&quot;,&quot;parentUUID&quot;:&quot;61adb505-cbee-47d8-ae3f-ef383ef7b81e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5211f0ec-4a02-4304-8ceb-4fd6ce5221ee&quot;,&quot;title&quot;:&quot;Tests on dao_category.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Tests on dao_category.ts\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts \&quot;before all\&quot; hook in \&quot;Tests on dao_category.ts\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb7ab925-3627-4381-a26f-548fce63d0cd&quot;,&quot;parentUUID&quot;:&quot;5211f0ec-4a02-4304-8ceb-4fd6ce5221ee&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1c0a6fde-657e-4cfc-a807-9e0e4d1a7d81&quot;,&quot;title&quot;:&quot;Tests on getAll() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array of category&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getAll() method The result type must be an array of category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllCategories();\n    expect(Array.isArray(result)).to.equal(true);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f15e565-e392-4137-87d8-357a46d3b8c7&quot;,&quot;parentUUID&quot;:&quot;1c0a6fde-657e-4cfc-a807-9e0e4d1a7d81&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The result must not be empty, there have to be at least one category in the program&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getAll() method The result must not be empty, there have to be at least one category in the program&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllCategories();\n    assert.isAbove(result.length, 0, \&quot;There must be at least one category\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8db6f995-8efa-4a08-b2b0-df110fe52766&quot;,&quot;parentUUID&quot;:&quot;1c0a6fde-657e-4cfc-a807-9e0e4d1a7d81&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The names of the categories must not exceed 255 characters&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getAll() method The names of the categories must not exceed 255 characters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllCategories();\n    result.forEach(function (category) {\n        assert.isBelow(category.getName().length, 255);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad519871-2a8f-4e04-a6a0-de9b22c4a1e2&quot;,&quot;parentUUID&quot;:&quot;1c0a6fde-657e-4cfc-a807-9e0e4d1a7d81&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;ID of Categories must be strictly postives&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getAll() method ID of Categories must be strictly postives&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllCategories();\n    result.forEach(function (category) {\n        assert.isAbove(category.getID(), 0);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;901f98d8-fb38-48e5-b7cb-ef24c11766bd&quot;,&quot;parentUUID&quot;:&quot;1c0a6fde-657e-4cfc-a807-9e0e4d1a7d81&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9f15e565-e392-4137-87d8-357a46d3b8c7&quot;,&quot;8db6f995-8efa-4a08-b2b0-df110fe52766&quot;,&quot;ad519871-2a8f-4e04-a6a0-de9b22c4a1e2&quot;,&quot;901f98d8-fb38-48e5-b7cb-ef24c11766bd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b01148c6-15e7-40be-8fca-c58ddda49553&quot;,&quot;title&quot;:&quot;Tests on getByName() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be a category&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getByName() method The result type must be a category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetCategory(\&quot;Téléphones\&quot;);\n    assert.isTrue(result instanceof category_1.default);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c4c7bbd-7904-4347-9c5b-48325d0bbfa9&quot;,&quot;parentUUID&quot;:&quot;b01148c6-15e7-40be-8fca-c58ddda49553&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The database must have the smartphone category&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getByName() method The database must have the smartphone category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetCategory(\&quot;Téléphones\&quot;);\n    assert.isNotNull(result);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;009f8b54-97e5-4711-abc3-5bfe7436985a&quot;,&quot;parentUUID&quot;:&quot;b01148c6-15e7-40be-8fca-c58ddda49553&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The names of the category must not have any number&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getByName() method The names of the category must not have any number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetCategory(\&quot;Téléphones\&quot;);\n    expect(result.getName()).not.to.match(/^([0-9_])$/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d99107e5-ba29-4233-a597-13a4d8b1cf6c&quot;,&quot;parentUUID&quot;:&quot;b01148c6-15e7-40be-8fca-c58ddda49553&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The names of the category must contain only letters or &#x27;-&#x27;&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getByName() method The names of the category must contain only letters or &#x27;-&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetCategory(\&quot;Téléphones\&quot;);\n    expect(result.getName()).to.match(/^[a-zA-Z\\-éèà]{0,255}$/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cae11cec-75c3-47a2-b715-a12a74391f05&quot;,&quot;parentUUID&quot;:&quot;b01148c6-15e7-40be-8fca-c58ddda49553&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1c4c7bbd-7904-4347-9c5b-48325d0bbfa9&quot;,&quot;009f8b54-97e5-4711-abc3-5bfe7436985a&quot;,&quot;d99107e5-ba29-4233-a597-13a4d8b1cf6c&quot;,&quot;cae11cec-75c3-47a2-b715-a12a74391f05&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;50a8eacf-134e-434d-a5cb-984f33a4d922&quot;,&quot;title&quot;:&quot;Tests on getLastId() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;There must be at least one id, or there would be no categories&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getLastId() method There must be at least one id, or there would be no categories&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetLastId();\n    assert.isNotNull(result);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7a920f5-94d6-4f72-8fb0-9d3a449ca8ad&quot;,&quot;parentUUID&quot;:&quot;50a8eacf-134e-434d-a5cb-984f33a4d922&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Last Id created must be positive&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getLastId() method Last Id created must be positive&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetLastId();\n    assert.isAbove(result, 0);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;221254f6-3ff3-490d-ae2a-8fd8b30d2ce1&quot;,&quot;parentUUID&quot;:&quot;50a8eacf-134e-434d-a5cb-984f33a4d922&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a7a920f5-94d6-4f72-8fb0-9d3a449ca8ad&quot;,&quot;221254f6-3ff3-490d-ae2a-8fd8b30d2ce1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bb9a7bdd-d118-4deb-82f5-59df8a1177ff&quot;,&quot;title&quot;:&quot;Tests on addCategory() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;A new category added should be seen in a SELECT request later&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on addCategory() method A new category added should be seen in a SELECT request later&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    DAOCategTested.addCategory(new category_1.default(9999, \&quot;TestCategory\&quot;));\n    const result = yield resultGetCategory(\&quot;TestCategory\&quot;);\n    assert.isNotNull(result);\n    expect(result.getID()).to.equal(9999);\n    expect(result.getName()).to.equal(\&quot;TestCategory\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed40868d-d6ae-4403-81ac-bfc87c865b9f&quot;,&quot;parentUUID&quot;:&quot;bb9a7bdd-d118-4deb-82f5-59df8a1177ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ed40868d-d6ae-4403-81ac-bfc87c865b9f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a2102fae-f1a5-4ba1-aa02-85b28d182a93&quot;,&quot;title&quot;:&quot;Tests on deleteCategory() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;A deleted category should not be in a query later&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on deleteCategory() method A deleted category should not be in a query later&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(yield DAOCategTested.deleteCategory.bind(DAOCategTested, 9999)).not.to.throw(Error);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65cd217e-ab21-43e6-a3fa-67b12ac79d0b&quot;,&quot;parentUUID&quot;:&quot;a2102fae-f1a5-4ba1-aa02-85b28d182a93&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The category we tried to added, should throw an error at its deletion, or it is deleted from the database&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on deleteCategory() method The category we tried to added, should throw an error at its deletion, or it is deleted from the database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOCategTested.deleteCategory(-1)).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b582f0e-90e5-4d39-8ec7-88b9b6906809&quot;,&quot;parentUUID&quot;:&quot;a2102fae-f1a5-4ba1-aa02-85b28d182a93&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;65cd217e-ab21-43e6-a3fa-67b12ac79d0b&quot;,&quot;2b582f0e-90e5-4d39-8ec7-88b9b6906809&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f42ebea8-e7ec-4691-a224-98ab01300f9c&quot;,&quot;title&quot;:&quot;Tests onf dao_device.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Tests onf dao_device.ts\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts \&quot;before all\&quot; hook in \&quot;Tests onf dao_device.ts\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:33,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0bd576ce-3eb2-4626-8cd5-94612cd78f14&quot;,&quot;parentUUID&quot;:&quot;f42ebea8-e7ec-4691-a224-98ab01300f9c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;890a0a90-177a-4408-8806-b1e0264536b4&quot;,&quot;title&quot;:&quot;Tests on getAll() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array of devices&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The result type must be an array of devices&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    expect(Array.isArray(result)).to.equal(true);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b902837a-1d6a-46cb-8b0c-6a68bd523b33&quot;,&quot;parentUUID&quot;:&quot;890a0a90-177a-4408-8806-b1e0264536b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must match an existing category&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must match an existing category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const existingCategories = yield DAOcat.getAll();\n    const result = yield resultAllDevices();\n    let check = false;\n    //Testing for every device that its category is member of the categories of the database\n    result.map((device) =&gt; {\n        existingCategories.map((category) =&gt; {\n            if (device.getCategoryID() == category.getID())\n                check = true;\n        });\n    });\n    assert.isTrue(check);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a73feb8-244d-47fc-9f12-c9b0fc7b3094&quot;,&quot;parentUUID&quot;:&quot;890a0a90-177a-4408-8806-b1e0264536b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must have a five character reference&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must have a five character reference&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        assert.equal(device.getRef().length, 5);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;167b0455-b4a3-419c-be0d-26b6d7b424d4&quot;,&quot;parentUUID&quot;:&quot;890a0a90-177a-4408-8806-b1e0264536b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must not have an empty name or a null name&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must not have an empty name or a null name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        assert.isNotNull(device.getName());\n        assert.isAbove(device.getName().length, 0);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73d10db0-0e70-42cc-9ced-3226a31e3862&quot;,&quot;parentUUID&quot;:&quot;890a0a90-177a-4408-8806-b1e0264536b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must have a version number between 3 and 15 characters&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must have a version number between 3 and 15 characters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        assert.isAbove(device.getVersion().length, 2);\n        assert.isBelow(device.getVersion().length, 16);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2366ce92-7b57-48d6-9d62-4d0fd5dccde8&quot;,&quot;parentUUID&quot;:&quot;890a0a90-177a-4408-8806-b1e0264536b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must have a correct version number&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must have a correct version number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        expect(device.getVersion()).to.match(/^[0-9]*\\.[0-9]*$/);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67f37250-ad5e-43c3-ad4f-bb470ca474e1&quot;,&quot;parentUUID&quot;:&quot;890a0a90-177a-4408-8806-b1e0264536b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must have a grater version than 0.0&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must have a grater version than 0.0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        const numbers = device.getVersion().split(&#x27;.&#x27;);\n        assert.isAbove(parseInt(numbers[0]), 0);\n        assert.isAbove(parseInt(numbers[1]), -1);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1258f03-c6da-4660-bba7-19c43cbd5404&quot;,&quot;parentUUID&quot;:&quot;890a0a90-177a-4408-8806-b1e0264536b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices with a phone number must have a correct phone number&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices with a phone number must have a correct phone number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        if (device.getPhone()) {\n            expect(device.getPhone()).to.match(/^\\+?[0-9]{0,15}$/);\n        }\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35bdb1b3-3007-444f-ae5c-c212357be8d1&quot;,&quot;parentUUID&quot;:&quot;890a0a90-177a-4408-8806-b1e0264536b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b902837a-1d6a-46cb-8b0c-6a68bd523b33&quot;,&quot;0a73feb8-244d-47fc-9f12-c9b0fc7b3094&quot;,&quot;167b0455-b4a3-419c-be0d-26b6d7b424d4&quot;,&quot;73d10db0-0e70-42cc-9ced-3226a31e3862&quot;,&quot;2366ce92-7b57-48d6-9d62-4d0fd5dccde8&quot;,&quot;67f37250-ad5e-43c3-ad4f-bb470ca474e1&quot;,&quot;c1258f03-c6da-4660-bba7-19c43cbd5404&quot;,&quot;35bdb1b3-3007-444f-ae5c-c212357be8d1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fcb8bb0c-7164-4c89-84af-c4c3e03ee330&quot;,&quot;title&quot;:&quot;Tests on addDevice() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Adding a compliant device should not throw exception, and the added device must be seen in queries&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on addDevice() method Adding a compliant device should not throw exception, and the added device must be seen in queries&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    //This device is compliant to the specifications\n    expect(DAOTested.addDevice(new device_1.default(\&quot;test1\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;First test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;0778787878\&quot;))).not.to.be.rejected;\n    const result = yield DAOTested.get(\&quot;test1\&quot;);\n    assert.isNotNull(result);\n    expect(result.getRef()).to.equal(\&quot;test1\&quot;);\n    expect(result.getCategoryID()).to.equal(1);\n    expect(result.getName()).to.equal(\&quot;First test\&quot;);\n    expect(result.getVersion()).to.equal(\&quot;1.0\&quot;);\n    expect(result.getPhoto()).to.equal(\&quot;\&quot;);\n    expect(result.getPhone()).to.equal(\&quot;0778787878\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01a6d33f-6511-4848-a78d-870c8de81c62&quot;,&quot;parentUUID&quot;:&quot;fcb8bb0c-7164-4c89-84af-c4c3e03ee330&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;01a6d33f-6511-4848-a78d-870c8de81c62&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1c0d6c43-247d-4148-aeb6-2b842590d2bb&quot;,&quot;title&quot;:&quot;Tests on deleteDevice() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deleting the compliant device should not throw an error, and the devices should not be queryable&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on deleteDevice() method Deleting the compliant device should not throw an error, and the devices should not be queryable&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.deleteDevice(\&quot;test1\&quot;)).not.to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b39f0b89-7849-485a-bd69-809dcc2ad2c8&quot;,&quot;parentUUID&quot;:&quot;1c0d6c43-247d-4148-aeb6-2b842590d2bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deleting all the invalid devices should throw an error, or they were created earlier&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on deleteDevice() method Deleting all the invalid devices should throw an error, or they were created earlier&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.deleteDevice(\&quot;test\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test33\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test4\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test5\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test6\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test7\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test8\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test9\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test10\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test11\&quot;)).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69684503-549d-4a54-97a2-8a6b89c2db6c&quot;,&quot;parentUUID&quot;:&quot;1c0d6c43-247d-4148-aeb6-2b842590d2bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b39f0b89-7849-485a-bd69-809dcc2ad2c8&quot;,&quot;69684503-549d-4a54-97a2-8a6b89c2db6c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;32704e10-51da-47a3-955b-729122b3c704&quot;,&quot;title&quot;:&quot;Tests on borrowDevice() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Adding a reservation with existing ID throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on borrowDevice() method Adding a reservation with existing ID throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const reservationID = yield DAObooking.getLastId();\n    expect(DAOTested.borrowDevice([new reservation_1.default(reservationID, \&quot;TESTB\&quot;, \&quot;ABCDEFG\&quot;, startDate, endDate)])).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65510a9c-0df8-4f47-8256-c16e852bb91c&quot;,&quot;parentUUID&quot;:&quot;32704e10-51da-47a3-955b-729122b3c704&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Booking a device should throw error&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on borrowDevice() method Booking a device should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const reservationID = yield DAObooking.getLastId();\n    expect(DAOTested.borrowDevice([new reservation_1.default(reservationID + 1, \&quot;TESTB\&quot;, \&quot;ABCDEFG\&quot;, startDate, endDate)])).to.not.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;080f6914-d810-4401-8242-d7b41fe2ff13&quot;,&quot;parentUUID&quot;:&quot;32704e10-51da-47a3-955b-729122b3c704&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;65510a9c-0df8-4f47-8256-c16e852bb91c&quot;,&quot;080f6914-d810-4401-8242-d7b41fe2ff13&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7397746b-8130-4687-9f53-18056b1d4868&quot;,&quot;title&quot;:&quot;Tests on getDevicesByFilter() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Research with empty filters should throw error&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getDevicesByFilter() method Research with empty filters should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.getDevicesByFilter(\&quot;\&quot;, \&quot;\&quot;, -1)).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;119c58bf-8435-48f4-96af-4c5a836dfd16&quot;,&quot;parentUUID&quot;:&quot;7397746b-8130-4687-9f53-18056b1d4868&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Checking if all the filters works well&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getDevicesByFilter() method Checking if all the filters works well&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield DAOTested.addDevice.bind(DAOTested, new device_1.default(\&quot;test1\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Test filters\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;0778787878\&quot;));\n    let result = yield DAOTested.getDevicesByFilter(\&quot;Test filters\&quot;, \&quot;\&quot;, -1);\n    result.forEach(function (device) {\n        assert.equal(device.getName(), \&quot;Test filters\&quot;);\n    });\n    result = yield DAOTested.getDevicesByFilter(\&quot;\&quot;, \&quot;test1\&quot;, -1);\n    result.forEach(function (device) {\n        assert.equal(device.getRef(), \&quot;test1\&quot;);\n    });\n    result = yield DAOTested.getDevicesByFilter(\&quot;\&quot;, \&quot;\&quot;, 1);\n    expect(result.map((device) =&gt; { return device.getName(); })).to.have.members([\&quot;Huawei P80\&quot;, \&quot;Samsung Galaxy S1000\&quot;]);\n    yield DAOTested.deleteDevice.bind(DAOTested, \&quot;test1\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a78bec2f-4d3b-4faf-9ff7-535723e186cf&quot;,&quot;parentUUID&quot;:&quot;7397746b-8130-4687-9f53-18056b1d4868&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;119c58bf-8435-48f4-96af-4c5a836dfd16&quot;,&quot;a78bec2f-4d3b-4faf-9ff7-535723e186cf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7e99b1d8-7489-4622-9d5a-bbef4799ef5d&quot;,&quot;title&quot;:&quot;Tests on dao_reservation.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Tests on dao_reservation.ts\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts \&quot;before all\&quot; hook in \&quot;Tests on dao_reservation.ts\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05126070-326a-4fe2-bde2-fb102bca192f&quot;,&quot;parentUUID&quot;:&quot;7e99b1d8-7489-4622-9d5a-bbef4799ef5d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;44f8e66d-7f87-427c-a054-e35b3bedbc75&quot;,&quot;title&quot;:&quot;Tests on getLastid() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The Id must be positive&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getLastid() method The Id must be positive&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getLastId();\n    assert.isAbove(result, 0);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf2c0b48-9d05-4edb-b283-8269f2633dbd&quot;,&quot;parentUUID&quot;:&quot;44f8e66d-7f87-427c-a054-e35b3bedbc75&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cf2c0b48-9d05-4edb-b283-8269f2633dbd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;950dcc62-5279-4658-8f52-50f7be2c05e3&quot;,&quot;title&quot;:&quot;Tests on historyDevice() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The users of a reservation must be registered&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on historyDevice() method The users of a reservation must be registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const users = yield DAOuser.getAll();\n    const result = yield DAOTested.historyDevice(\&quot;AN001\&quot;);\n    let check = false;\n    result.forEach(function (booking) {\n        users.forEach(function (user) {\n            if (booking.getUserID() == user.getId())\n                check = true;\n        });\n    });\n    assert.isTrue(check);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd65f108-2cc7-4643-80a7-c87fe7785bc3&quot;,&quot;parentUUID&quot;:&quot;950dcc62-5279-4658-8f52-50f7be2c05e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices of a reservation must be registered&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on historyDevice() method The devices of a reservation must be registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const devices = yield DAOdevice.getAll();\n    const result = yield DAOTested.historyDevice(\&quot;AN001\&quot;);\n    let check = false;\n    result.forEach(function (booking) {\n        devices.forEach(function (device) {\n            if (booking.getDevice().match(device.getRef()))\n                check = true;\n        });\n    });\n    assert.isTrue(check);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b3a7635-948c-4f32-873a-dcdb8449e71d&quot;,&quot;parentUUID&quot;:&quot;950dcc62-5279-4658-8f52-50f7be2c05e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The start date must be earlier than the two others&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on historyDevice() method The start date must be earlier than the two others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.historyDevice(\&quot;AN002\&quot;);\n    result.forEach(function (booking) {\n        assert.notDeepEqual(booking.getStartDate(), booking.getReturnDate());\n        assert.notDeepEqual(booking.getStartDate(), booking.getEndDate());\n        assert.isAbove(booking.getReturnDate().getTime(), booking.getStartDate().getTime());\n        assert.isAbove(booking.getEndDate().getTime(), booking.getStartDate().getTime());\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af5902b4-415c-4d4d-93cc-2fb0f019cdf3&quot;,&quot;parentUUID&quot;:&quot;950dcc62-5279-4658-8f52-50f7be2c05e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fd65f108-2cc7-4643-80a7-c87fe7785bc3&quot;,&quot;8b3a7635-948c-4f32-873a-dcdb8449e71d&quot;,&quot;af5902b4-415c-4d4d-93cc-2fb0f019cdf3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b8d8e96b-5129-4b4b-a2b4-0f94945480fd&quot;,&quot;title&quot;:&quot;Tests on getUserHistory() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getUserHistory() method The result type must be an array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUserHistory(\&quot;HIJKLMN\&quot;);\n    assert.isTrue(Array.isArray(result));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c14648b-534b-4392-94e1-de2edff55f4b&quot;,&quot;parentUUID&quot;:&quot;b8d8e96b-5129-4b4b-a2b4-0f94945480fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The id reservation must be positive&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getUserHistory() method The id reservation must be positive&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUserHistory(\&quot;HIJKLMN\&quot;);\n    result.forEach((reservation) =&gt; {\n        assert.isAbove(reservation.getID(), 0);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1af842a6-7c06-455b-95c1-7a75ef3dd487&quot;,&quot;parentUUID&quot;:&quot;b8d8e96b-5129-4b4b-a2b4-0f94945480fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The start date must be earlier than the two others&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getUserHistory() method The start date must be earlier than the two others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUserHistory(\&quot;ABCDEFG\&quot;);\n    result.forEach(function (booking) {\n        assert.notDeepEqual(booking.getStartDate(), booking.getReturnDate());\n        assert.notDeepEqual(booking.getStartDate(), booking.getEndDate());\n        if (!booking.getReturnDate()) {\n            assert.isAbove(booking.getReturnDate().getTime(), booking.getStartDate().getTime());\n        }\n        assert.isAbove(booking.getEndDate().getTime(), booking.getStartDate().getTime());\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae732f22-e77c-438b-adfa-80bdadd3ac65&quot;,&quot;parentUUID&quot;:&quot;b8d8e96b-5129-4b4b-a2b4-0f94945480fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5c14648b-534b-4392-94e1-de2edff55f4b&quot;,&quot;1af842a6-7c06-455b-95c1-7a75ef3dd487&quot;,&quot;ae732f22-e77c-438b-adfa-80bdadd3ac65&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b3c7a422-9106-4ac7-8abf-fa685a34c905&quot;,&quot;title&quot;:&quot;Tests on getAllReservationsDevice() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getAllReservationsDevice() method The result type must be an array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAllReservationsDevice(\&quot;AN002\&quot;);\n    assert.isTrue(Array.isArray(result));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d12aea3a-7d5e-4593-b0bd-edcf11f0b5c4&quot;,&quot;parentUUID&quot;:&quot;b3c7a422-9106-4ac7-8abf-fa685a34c905&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The id reservation must be positive&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getAllReservationsDevice() method The id reservation must be positive&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAllReservationsDevice(\&quot;AN002\&quot;);\n    result.forEach((reservation) =&gt; {\n        assert.isAbove(reservation.getID(), 0);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;828c3380-926d-4a7f-9dda-ff891e8851fa&quot;,&quot;parentUUID&quot;:&quot;b3c7a422-9106-4ac7-8abf-fa685a34c905&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The start date must be earlier than the two others&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getAllReservationsDevice() method The start date must be earlier than the two others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAllReservationsDevice(\&quot;AN002\&quot;);\n    result.forEach(function (booking) {\n        assert.notDeepEqual(booking.getStartDate(), booking.getReturnDate());\n        assert.notDeepEqual(booking.getStartDate(), booking.getEndDate());\n        assert.isAbove(booking.getReturnDate().getTime(), booking.getStartDate().getTime());\n        assert.isAbove(booking.getEndDate().getTime(), booking.getStartDate().getTime());\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f65831d5-e610-42c8-a100-f38ad2d64c87&quot;,&quot;parentUUID&quot;:&quot;b3c7a422-9106-4ac7-8abf-fa685a34c905&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d12aea3a-7d5e-4593-b0bd-edcf11f0b5c4&quot;,&quot;828c3380-926d-4a7f-9dda-ff891e8851fa&quot;,&quot;f65831d5-e610-42c8-a100-f38ad2d64c87&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cb3aab01-abc4-4530-b093-83e30b237c95&quot;,&quot;title&quot;:&quot;Tests on hasReservationWithInfos() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;An existing reservation must be seen in the database&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on hasReservationWithInfos() method An existing reservation must be seen in the database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.hasReservationWithInfos(\&quot;AN001\&quot;, new Date(2021, 0, 5), new Date(2021, 0, 8));\n    expect(result).to.be.true;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07574a86-22dc-4b28-8ba5-e9a6014ea8c0&quot;,&quot;parentUUID&quot;:&quot;cb3aab01-abc4-4530-b093-83e30b237c95&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;An inexisting reservation must not appear in the database&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on hasReservationWithInfos() method An inexisting reservation must not appear in the database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN003\&quot;, new Date(2021, 0, 5), new Date(2021, 0, 8))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN001\&quot;, new Date(2021, 0, 1), new Date(2021, 0, 4))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN001\&quot;, new Date(2021, 1, 9), new Date(2021, 1, 20))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN003\&quot;, new Date(2021, 0, 6), new Date(2021, 0, 8))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN003\&quot;, new Date(2021, 0, 5), new Date(2021, 1, 12))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN003\&quot;, new Date(2021, 2, 27), new Date(2021, 0, 8))).to.be.false;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd1925e5-8e50-4d76-ba3c-cea300aec67f&quot;,&quot;parentUUID&quot;:&quot;cb3aab01-abc4-4530-b093-83e30b237c95&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;07574a86-22dc-4b28-8ba5-e9a6014ea8c0&quot;,&quot;bd1925e5-8e50-4d76-ba3c-cea300aec67f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d24bc878-8dcd-40b3-bf93-2edef9fd9590&quot;,&quot;title&quot;:&quot;Tests on dao_user.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Tests on dao_user.ts\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts \&quot;before all\&quot; hook in \&quot;Tests on dao_user.ts\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afffe01f-2220-4d74-a084-b7741f04e48d&quot;,&quot;parentUUID&quot;:&quot;d24bc878-8dcd-40b3-bf93-2edef9fd9590&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7297429c-0068-4657-9e77-8db10e858244&quot;,&quot;title&quot;:&quot;Tests on getAll() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array of user&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getAll() method The result type must be an array of user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAll();\n    expect(Array.isArray(result)).to.equal(true);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dccc1f66-ba9f-4877-a7a8-578609170005&quot;,&quot;parentUUID&quot;:&quot;7297429c-0068-4657-9e77-8db10e858244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The users must have a 7 characters ID&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getAll() method The users must have a 7 characters ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAll();\n    result.map((user) =&gt; {\n        assert.equal(user.getId().length, 7);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6dd1a41-4ae5-4b0f-971c-c24470592a80&quot;,&quot;parentUUID&quot;:&quot;7297429c-0068-4657-9e77-8db10e858244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The users must not have empty names or surname&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getAll() method The users must not have empty names or surname&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAll();\n    result.map((user) =&gt; {\n        assert.isNotEmpty(user.getFirstName());\n        assert.isNotEmpty(user.getLastName());\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9dc5c16b-224d-4018-b953-bbef85953f45&quot;,&quot;parentUUID&quot;:&quot;7297429c-0068-4657-9e77-8db10e858244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The users must have a valid email&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getAll() method The users must have a valid email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAll();\n    result.map((user) =&gt; {\n        assert.match(user.getEmail(), /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;676591ee-0994-480c-a399-cee6cced6096&quot;,&quot;parentUUID&quot;:&quot;7297429c-0068-4657-9e77-8db10e858244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dccc1f66-ba9f-4877-a7a8-578609170005&quot;,&quot;f6dd1a41-4ae5-4b0f-971c-c24470592a80&quot;,&quot;9dc5c16b-224d-4018-b953-bbef85953f45&quot;,&quot;676591ee-0994-480c-a399-cee6cced6096&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bd7e1391-7529-4bbe-a46d-444c59549d43&quot;,&quot;title&quot;:&quot;Tests on getUser() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The user get must not have empty name or surname&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getUser() method The user get must not have empty name or surname&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUser(\&quot;ABCDEFG\&quot;);\n    assert.isNotEmpty(result.getFirstName());\n    assert.isNotEmpty(result.getLastName());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2706ee60-8523-406b-bb24-dc0a5c3fc620&quot;,&quot;parentUUID&quot;:&quot;bd7e1391-7529-4bbe-a46d-444c59549d43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The user must have a valid email&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getUser() method The user must have a valid email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUser(\&quot;ABCDEFG\&quot;);\n    assert.match(result.getEmail(), /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80d52d3f-b0d1-4782-94c6-6bbf80edb6e0&quot;,&quot;parentUUID&quot;:&quot;bd7e1391-7529-4bbe-a46d-444c59549d43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2706ee60-8523-406b-bb24-dc0a5c3fc620&quot;,&quot;80d52d3f-b0d1-4782-94c6-6bbf80edb6e0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4723cdcb-5f1d-475e-8082-8dfecc955ae2&quot;,&quot;title&quot;:&quot;Tests on getLastId() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The last id must not be empty&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getLastId() method The last id must not be empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getLastId();\n    assert.isNotEmpty(result.getId());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f13c0bb0-1f56-453f-98b0-db3df60209ee&quot;,&quot;parentUUID&quot;:&quot;4723cdcb-5f1d-475e-8082-8dfecc955ae2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f13c0bb0-1f56-453f-98b0-db3df60209ee&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7a7e31cf-7798-4249-aedb-31824fd53bb6&quot;,&quot;title&quot;:&quot;Tests on addUser() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;An added user must be seen in a query&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on addUser() method An added user must be seen in a query&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:137,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.addUser(usertest, \&quot;test\&quot;)).not.to.be.rejected;\n    const result = yield DAOTested.getUser(\&quot;EEEEEEE\&quot;);\n    assert.equal(result.getFirstName(), \&quot;Tester\&quot;);\n    assert.equal(result.getLastName(), \&quot;Testing\&quot;);\n    assert.equal(result.getEmail(), \&quot;Testtest@gmail.com\&quot;);\n    assert.isFalse(result.isAdmin());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c8e8914-29bb-464e-b104-4d456a0a7c7a&quot;,&quot;parentUUID&quot;:&quot;7a7e31cf-7798-4249-aedb-31824fd53bb6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5c8e8914-29bb-464e-b104-4d456a0a7c7a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:137,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9ac87dc2-ea63-457a-9155-98bc64ca3102&quot;,&quot;title&quot;:&quot;Tests on updateUser() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The modifications made on a user must be seen in queries later&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on updateUser() method The modifications made on a user must be seen in queries later&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    usertest.setAdmin(true);\n    usertest.setEmail(\&quot;secondtest@gmail.com\&quot;);\n    usertest.setFirstName(\&quot;Yohan\&quot;);\n    usertest.setLastName(\&quot;Rousseau\&quot;);\n    usertest.setTemporaryPassword(true);\n    expect(DAOTested.updateUser(usertest)).not.to.be.rejected;\n    const result = yield DAOTested.getUser(usertest.getId());\n    assert.equal(result.getFirstName(), \&quot;Yohan\&quot;);\n    assert.equal(result.getLastName(), \&quot;Rousseau\&quot;);\n    assert.equal(result.getEmail(), \&quot;secondtest@gmail.com\&quot;);\n    assert.isTrue(result.isAdmin());\n    assert.isTrue(result.hasTemporaryPassword());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;094cd44f-6713-4535-92b0-b1b5ee816abc&quot;,&quot;parentUUID&quot;:&quot;9ac87dc2-ea63-457a-9155-98bc64ca3102&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;094cd44f-6713-4535-92b0-b1b5ee816abc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ed3205c7-fed6-4105-9d2f-f989ef50aa20&quot;,&quot;title&quot;:&quot;Tests on authenticate&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Checking the actual password should not throw error&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on authenticate Checking the actual password should not throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.checkUser(usertest.getEmail(), \&quot;test\&quot;)).not.to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45b3563e-01f2-4fc5-ad9e-00656677ff2e&quot;,&quot;parentUUID&quot;:&quot;ed3205c7-fed6-4105-9d2f-f989ef50aa20&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Changing the password and checking it should not throw error&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on authenticate Changing the password and checking it should not throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:95,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.changePassword(usertest.getEmail(), \&quot;newtest\&quot;)).not.to.be.rejected;\n    expect(DAOTested.checkUser(usertest.getEmail(), \&quot;newtest\&quot;)).not.to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0f31bc9-6a27-4ebe-b0ef-15fec96195ab&quot;,&quot;parentUUID&quot;:&quot;ed3205c7-fed6-4105-9d2f-f989ef50aa20&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;45b3563e-01f2-4fc5-ad9e-00656677ff2e&quot;,&quot;a0f31bc9-6a27-4ebe-b0ef-15fec96195ab&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:95,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6a1e0c25-40df-499e-b76e-f6354088e7a1&quot;,&quot;title&quot;:&quot;Tests on deleteUser() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;A deleted user cannot be seen in a query&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on deleteUser() method A deleted user cannot be seen in a query&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.deleteUser(usertest.getId())).not.to.be.rejected;\n    expect(DAOTested.getUser(usertest.getId())).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;524490e2-73b2-4956-9f5a-0635cf8dfdf0&quot;,&quot;parentUUID&quot;:&quot;6a1e0c25-40df-499e-b76e-f6354088e7a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;524490e2-73b2-4956-9f5a-0635cf8dfdf0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6bcd01ba-c69f-49d7-b8b9-1aae513ca0aa&quot;,&quot;title&quot;:&quot;Tests on category.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/categorytest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/categorytest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Category Creation&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Category Creation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.assert.equal(catTested.getID(), 1);\nchai_1.assert.equal(catTested.getName(), \&quot;Test\&quot;);\nchai_1.assert.isArray(catTested.getDevices());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e23504f9-6e70-4364-bf62-249ba5644d1e&quot;,&quot;parentUUID&quot;:&quot;6bcd01ba-c69f-49d7-b8b9-1aae513ca0aa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Id Modification&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Id Modification&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;catTested.setID(2);\nchai_1.assert.equal(catTested.getID(), 2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b1ef95d-5515-46f4-a463-80e197b99de5&quot;,&quot;parentUUID&quot;:&quot;6bcd01ba-c69f-49d7-b8b9-1aae513ca0aa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Name Modification&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Name Modification&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;catTested.setName(\&quot;Lafont\&quot;);\nchai_1.assert.equal(catTested.getName(), \&quot;Lafont\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c529c3e-e6a0-4a0f-9500-f7835ffdee04&quot;,&quot;parentUUID&quot;:&quot;6bcd01ba-c69f-49d7-b8b9-1aae513ca0aa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f6044151-6411-4f45-b9af-75b30ddb443c&quot;,&quot;title&quot;:&quot;Testing the exceptions&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/categorytest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/categorytest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Setting too long names should throw exception&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Testing the exceptions Setting too long names should throw exception&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const stringTest = \&quot;testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttestvtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttestvtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttest\&quot;;\nchai_1.expect(catTested.setName.bind(catTested, stringTest)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cad69586-7cbb-43da-86d6-4e354b593abc&quot;,&quot;parentUUID&quot;:&quot;f6044151-6411-4f45-b9af-75b30ddb443c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting empty names should throw exception&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Testing the exceptions Setting empty names should throw exception&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const stringTest = \&quot;\&quot;;\nchai_1.expect(catTested.setName.bind(catTested, stringTest)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6bfcc34-1cc6-4d36-aea1-1476ecf50d18&quot;,&quot;parentUUID&quot;:&quot;f6044151-6411-4f45-b9af-75b30ddb443c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cad69586-7cbb-43da-86d6-4e354b593abc&quot;,&quot;e6bfcc34-1cc6-4d36-aea1-1476ecf50d18&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;e23504f9-6e70-4364-bf62-249ba5644d1e&quot;,&quot;6b1ef95d-5515-46f4-a463-80e197b99de5&quot;,&quot;6c529c3e-e6a0-4a0f-9500-f7835ffdee04&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1b21da37-14cc-4ad0-ab89-21069cbf9dfa&quot;,&quot;title&quot;:&quot;Test on device.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/devicetests.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/devicetests.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Device Creation test&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Device Creation test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.assert.equal(devTested.getRef(), \&quot;test1\&quot;);\nchai_1.assert.equal(devTested.getCategoryID(), 2);\nchai_1.assert.equal(devTested.getCategoryName(), \&quot;Ordinateur\&quot;);\nchai_1.assert.equal(devTested.getName(), \&quot;PremierTest\&quot;);\nchai_1.assert.equal(devTested.getVersion(), \&quot;1.0\&quot;);\nchai_1.assert.equal(devTested.getPhoto(), \&quot;url\&quot;);\nchai_1.assert.equal(devTested.getPhone(), \&quot;0707070707\&quot;);\nchai_1.assert.isTrue(Array.isArray(devTested.getLockDays()));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b6fcd3b-95d2-4673-9f7e-92e6ecd14fff&quot;,&quot;parentUUID&quot;:&quot;1b21da37-14cc-4ad0-ab89-21069cbf9dfa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Device Modification test&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Device Modification test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;devTested.setRef(\&quot;modif\&quot;);\n//devTested.setCategory(\&quot;Phone\&quot;);\ndevTested.setName(\&quot;ModifTest\&quot;);\ndevTested.setVersion(\&quot;1.1\&quot;);\ndevTested.setPhoto(\&quot;url2\&quot;);\ndevTested.setPhone(\&quot;0707070708\&quot;);\nchai_1.assert.equal(devTested.getRef(), \&quot;modif\&quot;);\n//assert.equal(devTested.getCategory(),\&quot;Phone\&quot;);\nchai_1.assert.equal(devTested.getName(), \&quot;ModifTest\&quot;);\nchai_1.assert.equal(devTested.getVersion(), \&quot;1.1\&quot;);\nchai_1.assert.equal(devTested.getPhoto(), \&quot;url2\&quot;);\nchai_1.assert.equal(devTested.getPhone(), \&quot;0707070708\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf69d287-26e8-45f2-b843-88b2bdbd8378&quot;,&quot;parentUUID&quot;:&quot;1b21da37-14cc-4ad0-ab89-21069cbf9dfa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;91e6d0c9-4b94-4e93-9b82-6ca717ed5792&quot;,&quot;title&quot;:&quot;Constructor tests&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/devicetests.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/devicetests.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Create a device with invalid references should throw error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Constructor tests Create a device with invalid references should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; new device_1.default(\&quot;test\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Second test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;0778787878\&quot;)).to.throw(Error);\nchai_1.expect(() =&gt; new device_1.default(\&quot;test33\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Third test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;0778787878\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f810f5a1-5e3f-4fd5-acc0-b7d404697716&quot;,&quot;parentUUID&quot;:&quot;91e6d0c9-4b94-4e93-9b82-6ca717ed5792&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Create a device with an invalid phone number should throw an error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Constructor tests Create a device with an invalid phone number should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    chai_1.expect(() =&gt; new device_1.default(\&quot;test8\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Phone Number test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;+337787878787878787878787878\&quot;)).to.throw(Error);\n    chai_1.expect(() =&gt; new device_1.default(\&quot;test9\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Phone Number test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;++3377878787878\&quot;)).to.throw(Error);\n    chai_1.expect(() =&gt; new device_1.default(\&quot;test10\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Phone Number test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;842+54161654196\&quot;)).to.throw(Error);\n    chai_1.expect(() =&gt; new device_1.default(\&quot;test11\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Phone Number test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;te\&quot;)).to.throw(Error);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5fefb512-8c6f-4f56-9ab8-d022fa23295c&quot;,&quot;parentUUID&quot;:&quot;91e6d0c9-4b94-4e93-9b82-6ca717ed5792&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f810f5a1-5e3f-4fd5-acc0-b7d404697716&quot;,&quot;5fefb512-8c6f-4f56-9ab8-d022fa23295c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6ab97c12-295c-4023-958c-5deac2a6f884&quot;,&quot;title&quot;:&quot;Testing the exceptions&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/devicetests.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/devicetests.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Setting a reference with higher or lower lenght than 5 should throw error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Testing the exceptions Setting a reference with higher or lower lenght than 5 should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const stringRef = \&quot;reftest\&quot;;\nchai_1.expect(devTested.setRef.bind(devTested, stringRef)).to.throw(\&quot;Invalid reference\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3a1e124-16e6-4f9f-b7f1-c024ea99f90f&quot;,&quot;parentUUID&quot;:&quot;6ab97c12-295c-4023-958c-5deac2a6f884&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting a wrong size Name should throw error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Testing the exceptions Setting a wrong size Name should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let stringName = \&quot;\&quot;;\nchai_1.expect(devTested.setName.bind(devTested, stringName)).to.throw(\&quot;Invalid name\&quot;);\nstringName = \&quot;trentre et plus de noms pour le test\&quot;;\nchai_1.expect(devTested.setName.bind(devTested, stringName)).to.throw(\&quot;Invalid name\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55973c87-41c3-49c2-8577-ee02e11026d1&quot;,&quot;parentUUID&quot;:&quot;6ab97c12-295c-4023-958c-5deac2a6f884&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting a wrong version number size should throw an error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Testing the exceptions Setting a wrong version number size should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let stringVersion = \&quot;1\&quot;;\nchai_1.expect(devTested.setVersion.bind(devTested, stringVersion)).to.throw(\&quot;Invalid version\&quot;);\nstringVersion = \&quot;11\&quot;;\nchai_1.expect(devTested.setVersion.bind(devTested, stringVersion)).to.throw(\&quot;Invalid version\&quot;);\nstringVersion = \&quot;8888888888.88888888888888888888\&quot;;\nchai_1.expect(devTested.setVersion.bind(devTested, stringVersion)).to.throw(\&quot;Invalid version\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9dce851a-0b2c-4102-bf83-fcd6880931bf&quot;,&quot;parentUUID&quot;:&quot;6ab97c12-295c-4023-958c-5deac2a6f884&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting a too long phone number size should throw an error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Testing the exceptions Setting a too long phone number size should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const stringVersion = \&quot;123456789102487\&quot;; //15 caracters maximum, to respect the +999787878787 form\nchai_1.expect(devTested.setPhone.bind(devTested, stringVersion)).to.throw(\&quot;Invalid phone\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6fba285-e5f7-4a4c-bad0-86375203c6cc&quot;,&quot;parentUUID&quot;:&quot;6ab97c12-295c-4023-958c-5deac2a6f884&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d3a1e124-16e6-4f9f-b7f1-c024ea99f90f&quot;,&quot;55973c87-41c3-49c2-8577-ee02e11026d1&quot;,&quot;9dce851a-0b2c-4102-bf83-fcd6880931bf&quot;,&quot;e6fba285-e5f7-4a4c-bad0-86375203c6cc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;4b6fcd3b-95d2-4673-9f7e-92e6ecd14fff&quot;,&quot;bf69d287-26e8-45f2-b843-88b2bdbd8378&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e2519db5-bc5c-4e1a-b63d-7427a3078505&quot;,&quot;title&quot;:&quot;Tests on reservation.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/reservationtest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/reservationtest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Reservation creation&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Reservation creation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reservation = new reservation_1.default(1, deviceRef, userId, startDate, endDate, returnDate);\nchai_1.assert.equal(reservation.getID(), 1);\nchai_1.assert.equal(reservation.getDevice(), deviceRef);\nchai_1.assert.equal(reservation.getUserID(), userId);\nchai_1.assert.equal(reservation.getStartDate().toISOString(), startDateISO);\nchai_1.assert.equal(reservation.getEndDate().toISOString(), endDateISO);\nchai_1.assert.isTrue(reservation.hasReturnDate());\nchai_1.assert.equal(reservation.getReturnDate().toISOString(), returnDateISO);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76be22ef-9772-4c09-b45a-6f68516e10eb&quot;,&quot;parentUUID&quot;:&quot;e2519db5-bc5c-4e1a-b63d-7427a3078505&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reservation creation without return date&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Reservation creation without return date&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reservation = new reservation_1.default(1, deviceRef, userId, startDate, endDate);\nchai_1.assert.equal(reservation.getID(), 1);\nchai_1.assert.equal(reservation.getDevice(), deviceRef);\nchai_1.assert.equal(reservation.getUserID(), userId);\nchai_1.assert.equal(reservation.getStartDate().toISOString(), startDateISO);\nchai_1.assert.equal(reservation.getEndDate().toISOString(), endDateISO);\nchai_1.assert.isFalse(reservation.hasReturnDate());\nchai_1.expect(reservation.getReturnDate).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f65cd2f3-8975-4fec-be6f-9aaf215c5f43&quot;,&quot;parentUUID&quot;:&quot;e2519db5-bc5c-4e1a-b63d-7427a3078505&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid ID throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid ID throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; new reservation_1.default(-1, deviceRef, userId, startDate, endDate)).to.throw(\&quot;Invalid ID\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea107e9e-4c17-4f8e-a8c1-2e7dd8950d62&quot;,&quot;parentUUID&quot;:&quot;e2519db5-bc5c-4e1a-b63d-7427a3078505&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid device reference throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid device reference throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; new reservation_1.default(1, \&quot;PASVALIDE\&quot;, userId, startDate, endDate)).to.throw(\&quot;Invalid device reference\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95550998-8c78-494b-8373-3c34e206405e&quot;,&quot;parentUUID&quot;:&quot;e2519db5-bc5c-4e1a-b63d-7427a3078505&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid user id throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid user id throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, \&quot;INVAL\&quot;, startDate, endDate)).to.throw(\&quot;Invalid user id\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;703301ae-f148-401d-b684-b9bb91f6defe&quot;,&quot;parentUUID&quot;:&quot;e2519db5-bc5c-4e1a-b63d-7427a3078505&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid start date throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid start date throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const errMsg = \&quot;Invalid start date\&quot;;\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, \&quot;jenefaispas10caracteresdelong\&quot;, endDate)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, \&quot;0123456789\&quot;, endDate)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, \&quot;0-20-0\&quot;, endDate)).to.throw(errMsg);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4570619b-4e77-4d80-af9f-c2c15c0312a6&quot;,&quot;parentUUID&quot;:&quot;e2519db5-bc5c-4e1a-b63d-7427a3078505&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid end date throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid end date throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const errMsg = \&quot;Invalid end date\&quot;;\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, \&quot;jenefaispas10caracteresdelong\&quot;)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, \&quot;0123456789\&quot;)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, \&quot;0-20-0\&quot;)).to.throw(errMsg);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61dab198-5bef-4bd6-b6d5-2d2f974e76de&quot;,&quot;parentUUID&quot;:&quot;e2519db5-bc5c-4e1a-b63d-7427a3078505&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid return date throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid return date throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const errMsg = \&quot;Invalid return date\&quot;;\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, endDate, \&quot;jenefaispas10caracteresdelong\&quot;)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, endDate, \&quot;0123456789\&quot;)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, endDate, \&quot;0-20-0\&quot;)).to.throw(errMsg);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c932d5a-3679-437f-b7d8-5683df527bda&quot;,&quot;parentUUID&quot;:&quot;e2519db5-bc5c-4e1a-b63d-7427a3078505&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Return date can be empty&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Return date can be empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reservation = new reservation_1.default(1, deviceRef, userId, startDate, endDate, \&quot;\&quot;);\nchai_1.assert.isFalse(reservation.hasReturnDate());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ee8b03c-6ab9-492d-b34f-bc7162d9de0f&quot;,&quot;parentUUID&quot;:&quot;e2519db5-bc5c-4e1a-b63d-7427a3078505&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Method convertDate works&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Method convertDate works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.assert.equal(reservation_1.default.convertDate(new Date(startDateISO)), startDate);\nchai_1.assert.equal(reservation_1.default.convertDate(new Date(endDateISO)), endDate);\nchai_1.assert.equal(reservation_1.default.convertDate(new Date(returnDateISO)), returnDate);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9471ada2-9a32-4d77-bb6a-1c185d95c529&quot;,&quot;parentUUID&quot;:&quot;e2519db5-bc5c-4e1a-b63d-7427a3078505&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Generate correct lockDays&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Generate correct lockDays&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reservation1 = new reservation_1.default(1, deviceRef, userId, startDate, endDate);\nchai_1.expect(reservation1.getLockDays()).to.deep.equal([startDate, endDate]);\nconst reservation2 = new reservation_1.default(1, deviceRef, userId, startDate, returnDate);\nchai_1.expect(reservation2.getLockDays()).to.deep.equal([startDate, returnDate]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;618ab4e5-74e6-4449-a23f-69be112e0d09&quot;,&quot;parentUUID&quot;:&quot;e2519db5-bc5c-4e1a-b63d-7427a3078505&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;76be22ef-9772-4c09-b45a-6f68516e10eb&quot;,&quot;f65cd2f3-8975-4fec-be6f-9aaf215c5f43&quot;,&quot;ea107e9e-4c17-4f8e-a8c1-2e7dd8950d62&quot;,&quot;95550998-8c78-494b-8373-3c34e206405e&quot;,&quot;703301ae-f148-401d-b684-b9bb91f6defe&quot;,&quot;4570619b-4e77-4d80-af9f-c2c15c0312a6&quot;,&quot;61dab198-5bef-4bd6-b6d5-2d2f974e76de&quot;,&quot;8c932d5a-3679-437f-b7d8-5683df527bda&quot;,&quot;6ee8b03c-6ab9-492d-b34f-bc7162d9de0f&quot;,&quot;9471ada2-9a32-4d77-bb6a-1c185d95c529&quot;,&quot;618ab4e5-74e6-4449-a23f-69be112e0d09&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a29f0753-1701-4f03-9ea4-682c41b9d946&quot;,&quot;title&quot;:&quot;Tests on user.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/usertest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/usertest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;User Creation test&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts User Creation test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.assert.equal(userTested.getId(), \&quot;0000001\&quot;);\nchai_1.assert.equal(userTested.getFirstName(), \&quot;Test\&quot;);\nchai_1.assert.equal(userTested.getLastName(), \&quot;UserTest\&quot;);\nchai_1.assert.equal(userTested.getEmail(), \&quot;test@gmail.com\&quot;);\nchai_1.assert.equal(userTested.isAdmin(), false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5c94d2f-04b0-4c70-bfc7-bac8b04d776b&quot;,&quot;parentUUID&quot;:&quot;a29f0753-1701-4f03-9ea4-682c41b9d946&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Device Modification test&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Device Modification test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userTested.setId(\&quot;0000002\&quot;);\nuserTested.setFirstName(\&quot;Milan\&quot;);\nuserTested.setLastName(\&quot;Bourbe\&quot;);\nuserTested.setEmail(\&quot;MilanBourbe@guez.com\&quot;);\nuserTested.setAdmin(true);\nchai_1.assert.equal(userTested.getId(), \&quot;0000002\&quot;);\nchai_1.assert.equal(userTested.getFirstName(), \&quot;Milan\&quot;);\nchai_1.assert.equal(userTested.getLastName(), \&quot;Bourbe\&quot;);\nchai_1.assert.equal(userTested.getEmail(), \&quot;MilanBourbe@guez.com\&quot;);\nchai_1.assert.equal(userTested.isAdmin(), true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c4d04f2-5226-4947-800a-00df61eed0f6&quot;,&quot;parentUUID&quot;:&quot;a29f0753-1701-4f03-9ea4-682c41b9d946&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0481d0cc-985b-4c85-bce1-5dcee39625cd&quot;,&quot;title&quot;:&quot;Testing exceptions&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/usertest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/usertest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Setting an ID lower than 0 should throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Testing exceptions Setting an ID lower than 0 should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(userTested.setId.bind(userTested, \&quot;-1\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f342d88-27fe-4384-90dc-e428cecc9e26&quot;,&quot;parentUUID&quot;:&quot;0481d0cc-985b-4c85-bce1-5dcee39625cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting an empty firstname should throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Testing exceptions Setting an empty firstname should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(userTested.setFirstName.bind(userTested, \&quot;\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db063d05-81c4-47c2-b8b0-480ef5ce3a70&quot;,&quot;parentUUID&quot;:&quot;0481d0cc-985b-4c85-bce1-5dcee39625cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting an empty Lastname should throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Testing exceptions Setting an empty Lastname should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(userTested.setLastName.bind(userTested, \&quot;\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8906625-aae6-46fe-95fe-4be942a7267b&quot;,&quot;parentUUID&quot;:&quot;0481d0cc-985b-4c85-bce1-5dcee39625cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting an invalid email form should throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Testing exceptions Setting an invalid email form should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(userTested.setEmail.bind(userTested, \&quot;test@test@test.fr\&quot;)).to.throw(Error);\nchai_1.expect(userTested.setEmail.bind(userTested, \&quot;testtesttest.fr\&quot;)).to.throw(Error);\nchai_1.expect(userTested.setEmail.bind(userTested, \&quot;test@.test@test.fr\&quot;)).to.throw(Error);\nchai_1.expect(userTested.setEmail.bind(userTested, \&quot;test.test@testfr\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf29c0ae-afba-4f3b-ba55-4d2046db8176&quot;,&quot;parentUUID&quot;:&quot;0481d0cc-985b-4c85-bce1-5dcee39625cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7f342d88-27fe-4384-90dc-e428cecc9e26&quot;,&quot;db063d05-81c4-47c2-b8b0-480ef5ce3a70&quot;,&quot;b8906625-aae6-46fe-95fe-4be942a7267b&quot;,&quot;bf29c0ae-afba-4f3b-ba55-4d2046db8176&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;b5c94d2f-04b0-4c70-bfc7-bac8b04d776b&quot;,&quot;0c4d04f2-5226-4947-800a-00df61eed0f6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a7cd8b03-7ef4-4ea1-ae31-e48cf7fda66d&quot;,&quot;title&quot;:&quot;POST /auth/login&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/auth_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/auth_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;POST /auth/login\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login \&quot;before all\&quot; hook in \&quot;POST /auth/login\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5d63415-17eb-4c54-9f3f-8d034c4f0190&quot;,&quot;parentUUID&quot;:&quot;a7cd8b03-7ef4-4ea1-ae31-e48cf7fda66d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;authentification works&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login authentification works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:137,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/login&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    password: \&quot;fromage\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    var _a;\n    if (!res.body.auth)\n        throw new Error(\&quot;No field &#x27;auth&#x27; specified\&quot;);\n    if (!res.body.token || res.body.token.length == 0)\n        throw new Error(\&quot;Empty token returned\&quot;);\n    if (!res.body.user || res.body.user.id !== \&quot;ABCDEFG\&quot;)\n        throw new Error(\&quot;Invalid user returned\&quot;);\n    const token = ((_a = res.body.token) === null || _a === void 0 ? void 0 : _a.toString()) || \&quot;\&quot;;\n    const decoded = jwt.verify(token, config.jwtSecret);\n    const id = decoded[&#x27;id&#x27;] || \&quot;\&quot;;\n    if (!decoded || id != \&quot;ABCDEFG\&quot;)\n        throw new Error(\&quot;Invalid token\&quot;);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3e792e6-0c50-4925-8a67-d89bcc5be551&quot;,&quot;parentUUID&quot;:&quot;a7cd8b03-7ef4-4ea1-ae31-e48cf7fda66d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when already have a token&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login responds error when already have a token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/login&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    password: \&quot;fromage\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;You already have a token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69a6784b-dd49-4e56-a237-ba8e71ff3ba8&quot;,&quot;parentUUID&quot;:&quot;a7cd8b03-7ef4-4ea1-ae31-e48cf7fda66d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when email is invalid&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login responds error when email is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/login&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;paslabonneadresse@mail.fr\&quot;,\n    password: \&quot;fromage\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name or password\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;940597d0-121b-43a2-9151-ad26287b781d&quot;,&quot;parentUUID&quot;:&quot;a7cd8b03-7ef4-4ea1-ae31-e48cf7fda66d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when password is invalid&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login responds error when password is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:105,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/login&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    password: \&quot;paslebonmdp\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name or password\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50ab176c-5085-47de-a1e8-79a064b5bf1c&quot;,&quot;parentUUID&quot;:&quot;a7cd8b03-7ef4-4ea1-ae31-e48cf7fda66d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c3e792e6-0c50-4925-8a67-d89bcc5be551&quot;,&quot;69a6784b-dd49-4e56-a237-ba8e71ff3ba8&quot;,&quot;940597d0-121b-43a2-9151-ad26287b781d&quot;,&quot;50ab176c-5085-47de-a1e8-79a064b5bf1c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:255,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;dca9e704-459f-4f49-ba3d-a1d39cb49a7a&quot;,&quot;title&quot;:&quot;POST /auth/password/change&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/auth_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/auth_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /auth/password/change\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change \&quot;before each\&quot; hook in \&quot;POST /auth/password/change\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3beac622-dfb3-4463-9d1f-0e2cac1b9674&quot;,&quot;parentUUID&quot;:&quot;dca9e704-459f-4f49-ba3d-a1d39cb49a7a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error if new password is empty&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error if new password is empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/password/change&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    oldPassword: \&quot;fromage\&quot;,\n    newPassword: \&quot;\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;New password can&#x27;t be empty\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78fdbf09-7596-4456-993e-ed5140ac64bd&quot;,&quot;parentUUID&quot;:&quot;dca9e704-459f-4f49-ba3d-a1d39cb49a7a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error if old password is incorrect&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error if old password is incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/password/change&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    oldPassword: \&quot;paslebon\&quot;,\n    newPassword: \&quot;salade\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name or old password\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5be6884e-24a5-46c6-8e39-4158e4afb3b3&quot;,&quot;parentUUID&quot;:&quot;dca9e704-459f-4f49-ba3d-a1d39cb49a7a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error if email is incorrect&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error if email is incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/password/change&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;paslebon@mail.fr\&quot;,\n    oldPassword: \&quot;fromage\&quot;,\n    newPassword: \&quot;salade\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name or old password\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c01b967-2943-4834-ae83-b0276fd8e3a0&quot;,&quot;parentUUID&quot;:&quot;dca9e704-459f-4f49-ba3d-a1d39cb49a7a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;250ef8cb-05ee-41b6-be9e-cd3f82687209&quot;,&quot;parentUUID&quot;:&quot;dca9e704-459f-4f49-ba3d-a1d39cb49a7a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb3480e0-6290-450f-8fb4-2d0ae46f62a8&quot;,&quot;parentUUID&quot;:&quot;dca9e704-459f-4f49-ba3d-a1d39cb49a7a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid user ID token&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error with invalid user ID token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, token)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid user\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2aa16e04-6938-481a-8d25-3709980a9454&quot;,&quot;parentUUID&quot;:&quot;dca9e704-459f-4f49-ba3d-a1d39cb49a7a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;password change works&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change password change works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:215,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/password/change&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    oldPassword: \&quot;fromage\&quot;,\n    newPassword: \&quot;salade\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, {\n    success: true,\n    user: {\n        id: \&quot;ABCDEFG\&quot;,\n        firstName: \&quot;Lilian\&quot;,\n        lastName: \&quot;Bethus\&quot;,\n        email: \&quot;lilianb@mail.fr\&quot;,\n        admin: true,\n        temporaryPassword: false\n    }\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e07dbee-b371-40fa-82ea-cefa32af909e&quot;,&quot;parentUUID&quot;:&quot;dca9e704-459f-4f49-ba3d-a1d39cb49a7a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;78fdbf09-7596-4456-993e-ed5140ac64bd&quot;,&quot;5be6884e-24a5-46c6-8e39-4158e4afb3b3&quot;,&quot;6c01b967-2943-4834-ae83-b0276fd8e3a0&quot;,&quot;250ef8cb-05ee-41b6-be9e-cd3f82687209&quot;,&quot;cb3480e0-6290-450f-8fb4-2d0ae46f62a8&quot;,&quot;2aa16e04-6938-481a-8d25-3709980a9454&quot;,&quot;2e07dbee-b371-40fa-82ea-cefa32af909e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:657,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e5774b1c-762c-4157-9c8b-93ad9c8f9d46&quot;,&quot;title&quot;:&quot;PUT /category/add/:category_name&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/category_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/category_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;PUT /category/add/:category_name\&quot;&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name \&quot;before each\&quot; hook in \&quot;PUT /category/add/:category_name\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56817ad9-fff2-4386-92ca-c0d370fe9e5b&quot;,&quot;parentUUID&quot;:&quot;e5774b1c-762c-4157-9c8b-93ad9c8f9d46&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when too long name is given&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error when too long name is given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/category/add/&#x27; + new Array(257).join(\&quot;A\&quot;))\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2bebd8e6-d287-4450-ac82-f495ae873b22&quot;,&quot;parentUUID&quot;:&quot;e5774b1c-762c-4157-9c8b-93ad9c8f9d46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when category name already exists&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error when category name already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/category/add/Ordinateurs&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Category name already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe79f866-2664-4d8c-a390-022753bd2552&quot;,&quot;parentUUID&quot;:&quot;e5774b1c-762c-4157-9c8b-93ad9c8f9d46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9233e016-b510-43f7-b01b-04a892b984ba&quot;,&quot;parentUUID&quot;:&quot;e5774b1c-762c-4157-9c8b-93ad9c8f9d46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3423628-04e0-473c-8e72-cccff18624b2&quot;,&quot;parentUUID&quot;:&quot;e5774b1c-762c-4157-9c8b-93ad9c8f9d46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7fa1800-ac70-4784-b381-8f6b15ff9ca3&quot;,&quot;parentUUID&quot;:&quot;e5774b1c-762c-4157-9c8b-93ad9c8f9d46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;adding category works&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name adding category works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/category/add/Test&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb27b7fd-cb11-4a0a-a90a-be09e61e2426&quot;,&quot;parentUUID&quot;:&quot;e5774b1c-762c-4157-9c8b-93ad9c8f9d46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2bebd8e6-d287-4450-ac82-f495ae873b22&quot;,&quot;fe79f866-2664-4d8c-a390-022753bd2552&quot;,&quot;9233e016-b510-43f7-b01b-04a892b984ba&quot;,&quot;b3423628-04e0-473c-8e72-cccff18624b2&quot;,&quot;e7fa1800-ac70-4784-b381-8f6b15ff9ca3&quot;,&quot;cb27b7fd-cb11-4a0a-a90a-be09e61e2426&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:31,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cd58f995-e393-4252-ab65-02762b550af6&quot;,&quot;title&quot;:&quot;POST /category/modify&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/category_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/category_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /category/modify\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify \&quot;before each\&quot; hook in \&quot;POST /category/modify\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6e09549-c97d-4a14-8f6a-3f16bea91ea1&quot;,&quot;parentUUID&quot;:&quot;cd58f995-e393-4252-ab65-02762b550af6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when not existing category name is given&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error when not existing category name is given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/category/modify&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    oldName: \&quot;Existepas\&quot;,\n    newName: \&quot;Existepasnonplus\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid category name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28b5ebc8-848d-4bdb-b4ee-f7c53ed1925f&quot;,&quot;parentUUID&quot;:&quot;cd58f995-e393-4252-ab65-02762b550af6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when old name is equals to new name&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error when old name is equals to new name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/category/modify&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    oldName: \&quot;Ordinateurs\&quot;,\n    newName: \&quot;Ordinateurs\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Old name can&#x27;t be the equal to new name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf521b04-c841-4253-b56c-c18e29ad4d82&quot;,&quot;parentUUID&quot;:&quot;cd58f995-e393-4252-ab65-02762b550af6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when new name already exists&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error when new name already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/category/modify&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    oldName: \&quot;Ordinateurs\&quot;,\n    newName: \&quot;Téléphones\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;New name is already set for a category\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98ac4971-d43a-4bb1-ab5c-a8ee71d5ca1b&quot;,&quot;parentUUID&quot;:&quot;cd58f995-e393-4252-ab65-02762b550af6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf0cc86b-20f7-468d-b7ee-3d0d6de1ac3f&quot;,&quot;parentUUID&quot;:&quot;cd58f995-e393-4252-ab65-02762b550af6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38bd0196-735d-4019-94a6-d502b57d13c1&quot;,&quot;parentUUID&quot;:&quot;cd58f995-e393-4252-ab65-02762b550af6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e7e9bf8-5396-4678-857e-fe90362837e5&quot;,&quot;parentUUID&quot;:&quot;cd58f995-e393-4252-ab65-02762b550af6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;modifying category works&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify modifying category works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/category/modify&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    oldName: \&quot;Ordinateurs\&quot;,\n    newName: \&quot;Courgette\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87d91e04-270d-49d3-8f6e-2caaa2d5f803&quot;,&quot;parentUUID&quot;:&quot;cd58f995-e393-4252-ab65-02762b550af6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;28b5ebc8-848d-4bdb-b4ee-f7c53ed1925f&quot;,&quot;bf521b04-c841-4253-b56c-c18e29ad4d82&quot;,&quot;98ac4971-d43a-4bb1-ab5c-a8ee71d5ca1b&quot;,&quot;cf0cc86b-20f7-468d-b7ee-3d0d6de1ac3f&quot;,&quot;38bd0196-735d-4019-94a6-d502b57d13c1&quot;,&quot;9e7e9bf8-5396-4678-857e-fe90362837e5&quot;,&quot;87d91e04-270d-49d3-8f6e-2caaa2d5f803&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:52,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;137b2446-2ac0-4209-8047-7b627f4098a8&quot;,&quot;title&quot;:&quot;POST /category/delete/:id_category&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/category_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/category_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /category/delete/:id_category\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category \&quot;before each\&quot; hook in \&quot;POST /category/delete/:id_category\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a3d024b-edb4-4991-8d6d-57065c61b686&quot;,&quot;parentUUID&quot;:&quot;137b2446-2ac0-4209-8047-7b627f4098a8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when category ID is not a number&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error when category ID is not a number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/category/delete/PASUNNOMBRE&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Category ID is not a number\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68fc646b-b305-4c52-a046-271321fda3ea&quot;,&quot;parentUUID&quot;:&quot;137b2446-2ac0-4209-8047-7b627f4098a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when category ID doesnt exists&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error when category ID doesnt exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/category/delete/99&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid category ID\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c7398d0-a752-48d3-a607-e23a69596d2d&quot;,&quot;parentUUID&quot;:&quot;137b2446-2ac0-4209-8047-7b627f4098a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5849e81-3514-41db-a7c8-b6bdacf3b071&quot;,&quot;parentUUID&quot;:&quot;137b2446-2ac0-4209-8047-7b627f4098a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2dd9ebc0-5c18-4a07-9f71-4d07c01fcfd7&quot;,&quot;parentUUID&quot;:&quot;137b2446-2ac0-4209-8047-7b627f4098a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5bcdde9-19c1-41f0-8d2a-34e936ecec71&quot;,&quot;parentUUID&quot;:&quot;137b2446-2ac0-4209-8047-7b627f4098a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;deleting category works&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category deleting category works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/category/delete/1&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afb430ae-a3ae-4b92-979c-7b6d33459447&quot;,&quot;parentUUID&quot;:&quot;137b2446-2ac0-4209-8047-7b627f4098a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;68fc646b-b305-4c52-a046-271321fda3ea&quot;,&quot;2c7398d0-a752-48d3-a607-e23a69596d2d&quot;,&quot;f5849e81-3514-41db-a7c8-b6bdacf3b071&quot;,&quot;2dd9ebc0-5c18-4a07-9f71-4d07c01fcfd7&quot;,&quot;d5bcdde9-19c1-41f0-8d2a-34e936ecec71&quot;,&quot;afb430ae-a3ae-4b92-979c-7b6d33459447&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;57f4f7ff-00c3-457b-bb9c-db4f0585525a&quot;,&quot;title&quot;:&quot;GET /devices/all&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /devices/all\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all \&quot;before all\&quot; hook in \&quot;GET /devices/all\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30713a59-8f0a-467c-9613-af8c74b1889d&quot;,&quot;parentUUID&quot;:&quot;57f4f7ff-00c3-457b-bb9c-db4f0585525a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds with json&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all responds with json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;734a4d0c-bb3a-4e34-8265-9bd55ea6f844&quot;,&quot;parentUUID&quot;:&quot;57f4f7ff-00c3-457b-bb9c-db4f0585525a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c6f0acc-33c4-4a26-a2dd-1beeb93a7b17&quot;,&quot;parentUUID&quot;:&quot;57f4f7ff-00c3-457b-bb9c-db4f0585525a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;70aa3ee7-f501-4ca6-a3c2-8e8657c47eb4&quot;,&quot;parentUUID&quot;:&quot;57f4f7ff-00c3-457b-bb9c-db4f0585525a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all responds with correct devices informations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: [{\n                    ref: \&quot;AN001\&quot;,\n                    categoryID: 1,\n                    categoryName: \&quot;Téléphones\&quot;,\n                    name: \&quot;Samsung Galaxy S1000\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/30/35/LD0005303584_2.jpg\&quot;,\n                    phone: \&quot;0123456789\&quot;,\n                    lockDays: [\n                        [\&quot;2021-01-05\&quot;, \&quot;2021-01-08\&quot;],\n                        [\&quot;2021-01-09\&quot;, \&quot;2021-02-08\&quot;]\n                    ]\n                }, {\n                    ref: \&quot;AN002\&quot;,\n                    categoryID: 1,\n                    categoryName: \&quot;Téléphones\&quot;,\n                    name: \&quot;Huawei P80\&quot;,\n                    version: \&quot;1.1\&quot;,\n                    photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/39/99/LD0005399909_2.jpg\&quot;,\n                    phone: \&quot;1234567890\&quot;,\n                    lockDays: []\n                }]\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: [{\n                    ref: \&quot;PC001\&quot;,\n                    categoryID: 2,\n                    categoryName: \&quot;Ordinateurs\&quot;,\n                    name: \&quot;Acer Pro Max\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://static.acer.com/up/Resource/Acer/Laptops/Spin_5/Image/20180824/acer-Spin_5_SP513-53N-main.png\&quot;,\n                    phone: \&quot;\&quot;,\n                    lockDays: [\n                        [\&quot;2021-01-04\&quot;, \&quot;2021-02-04\&quot;]\n                    ]\n                }]\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bfea465-2b32-44bc-88d3-a34976b1e4dc&quot;,&quot;parentUUID&quot;:&quot;57f4f7ff-00c3-457b-bb9c-db4f0585525a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;734a4d0c-bb3a-4e34-8265-9bd55ea6f844&quot;,&quot;8c6f0acc-33c4-4a26-a2dd-1beeb93a7b17&quot;,&quot;70aa3ee7-f501-4ca6-a3c2-8e8657c47eb4&quot;,&quot;4bfea465-2b32-44bc-88d3-a34976b1e4dc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fd213572-cb98-4aa8-aa0f-02a45833015e&quot;,&quot;title&quot;:&quot;GET /devices/:device_ref&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /devices/:device_ref\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref \&quot;before all\&quot; hook in \&quot;GET /devices/:device_ref\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b4f4eb9-9c6a-46ed-8588-30f370630a42&quot;,&quot;parentUUID&quot;:&quot;fd213572-cb98-4aa8-aa0f-02a45833015e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds with json&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds with json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/AN001&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fcba94fa-347d-4307-8329-47da396083d6&quot;,&quot;parentUUID&quot;:&quot;fd213572-cb98-4aa8-aa0f-02a45833015e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when device reference is invalid&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds error when device reference is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/PASBON&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid device reference\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bfc6ee68-c021-4b0f-8e0a-c03baeec9a8e&quot;,&quot;parentUUID&quot;:&quot;fd213572-cb98-4aa8-aa0f-02a45833015e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4aa07af5-0011-4cf3-ae10-59bb68b9ff32&quot;,&quot;parentUUID&quot;:&quot;fd213572-cb98-4aa8-aa0f-02a45833015e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7992271-913f-4945-a28f-baa38558bf48&quot;,&quot;parentUUID&quot;:&quot;fd213572-cb98-4aa8-aa0f-02a45833015e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds with correct devices informations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/AN001&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal({\n        ref: \&quot;AN001\&quot;,\n        categoryID: 1,\n        categoryName: \&quot;Téléphones\&quot;,\n        name: \&quot;Samsung Galaxy S1000\&quot;,\n        version: \&quot;1.0\&quot;,\n        photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/30/35/LD0005303584_2.jpg\&quot;,\n        phone: \&quot;0123456789\&quot;,\n        lockDays: [\n            [\&quot;2021-01-05\&quot;, \&quot;2021-01-08\&quot;],\n            [\&quot;2021-01-09\&quot;, \&quot;2021-02-08\&quot;]\n        ]\n    });\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec4c2e08-0c95-49d1-987b-aca85ec97212&quot;,&quot;parentUUID&quot;:&quot;fd213572-cb98-4aa8-aa0f-02a45833015e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fcba94fa-347d-4307-8329-47da396083d6&quot;,&quot;bfc6ee68-c021-4b0f-8e0a-c03baeec9a8e&quot;,&quot;4aa07af5-0011-4cf3-ae10-59bb68b9ff32&quot;,&quot;a7992271-913f-4945-a28f-baa38558bf48&quot;,&quot;ec4c2e08-0c95-49d1-987b-aca85ec97212&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;568360d1-64f0-4a01-b977-e18aaf9cdc03&quot;,&quot;title&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;...&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /devices/all?filter_name=filter_value&amp;...\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... \&quot;before all\&quot; hook in \&quot;GET /devices/all?filter_name=filter_value&amp;...\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19cae633-7fcd-4614-ba58-ab922355a9e0&quot;,&quot;parentUUID&quot;:&quot;568360d1-64f0-4a01-b977-e18aaf9cdc03&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds nothing when device reference is invalid&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds nothing when device reference is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?ref=PABON&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: []\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: []\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;350b88e0-a6a2-4a69-a3e2-871b155557c2&quot;,&quot;parentUUID&quot;:&quot;568360d1-64f0-4a01-b977-e18aaf9cdc03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds nothing when device name is invalid&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds nothing when device name is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?name=PABON&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: []\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: []\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1bdc2238-b140-40a4-a395-be584b004c8a&quot;,&quot;parentUUID&quot;:&quot;568360d1-64f0-4a01-b977-e18aaf9cdc03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when device category is invalid&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds error when device category is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?category=PABON&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid category name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72d71ae7-4135-4bbe-980f-19dfd574cd1e&quot;,&quot;parentUUID&quot;:&quot;568360d1-64f0-4a01-b977-e18aaf9cdc03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6810b17d-c9ba-4df6-9b6e-ec24425becee&quot;,&quot;parentUUID&quot;:&quot;568360d1-64f0-4a01-b977-e18aaf9cdc03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eaf71730-4209-458e-9568-4366efb7a116&quot;,&quot;parentUUID&quot;:&quot;568360d1-64f0-4a01-b977-e18aaf9cdc03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations with ref only&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds with correct devices informations with ref only&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?ref=AN001&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: [{\n                    ref: \&quot;AN001\&quot;,\n                    categoryID: 1,\n                    categoryName: \&quot;Téléphones\&quot;,\n                    name: \&quot;Samsung Galaxy S1000\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/30/35/LD0005303584_2.jpg\&quot;,\n                    phone: \&quot;0123456789\&quot;,\n                    lockDays: [\n                        [\&quot;2021-01-05\&quot;, \&quot;2021-01-08\&quot;],\n                        [\&quot;2021-01-09\&quot;, \&quot;2021-02-08\&quot;]\n                    ]\n                }]\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: []\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2785d9e5-8c20-48e8-a554-97cb7c2a0fef&quot;,&quot;parentUUID&quot;:&quot;568360d1-64f0-4a01-b977-e18aaf9cdc03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations with name only&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds with correct devices informations with name only&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?name=Samsung Galaxy S1000&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: [{\n                    ref: \&quot;AN001\&quot;,\n                    categoryID: 1,\n                    categoryName: \&quot;Téléphones\&quot;,\n                    name: \&quot;Samsung Galaxy S1000\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/30/35/LD0005303584_2.jpg\&quot;,\n                    phone: \&quot;0123456789\&quot;,\n                    lockDays: [\n                        [\&quot;2021-01-05\&quot;, \&quot;2021-01-08\&quot;],\n                        [\&quot;2021-01-09\&quot;, \&quot;2021-02-08\&quot;]\n                    ]\n                }]\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: []\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6ed0e38-bd32-42d2-9225-757318f81ab5&quot;,&quot;parentUUID&quot;:&quot;568360d1-64f0-4a01-b977-e18aaf9cdc03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations with category only&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds with correct devices informations with category only&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?category=Ordinateurs&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: []\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: [{\n                    ref: \&quot;PC001\&quot;,\n                    categoryID: 2,\n                    categoryName: \&quot;Ordinateurs\&quot;,\n                    name: \&quot;Acer Pro Max\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://static.acer.com/up/Resource/Acer/Laptops/Spin_5/Image/20180824/acer-Spin_5_SP513-53N-main.png\&quot;,\n                    phone: \&quot;\&quot;,\n                    lockDays: [[\&quot;2021-01-04\&quot;, \&quot;2021-02-04\&quot;]]\n                }]\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1f61af9-761c-498f-ae65-abccdbd2edb3&quot;,&quot;parentUUID&quot;:&quot;568360d1-64f0-4a01-b977-e18aaf9cdc03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations with all filters&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds with correct devices informations with all filters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?ref=PC001&amp;name=Acer Pro Max&amp;category=Ordinateurs&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: []\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: [{\n                    ref: \&quot;PC001\&quot;,\n                    categoryID: 2,\n                    categoryName: \&quot;Ordinateurs\&quot;,\n                    name: \&quot;Acer Pro Max\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://static.acer.com/up/Resource/Acer/Laptops/Spin_5/Image/20180824/acer-Spin_5_SP513-53N-main.png\&quot;,\n                    phone: \&quot;\&quot;,\n                    lockDays: [[\&quot;2021-01-04\&quot;, \&quot;2021-02-04\&quot;]]\n                }]\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc0c1d7b-19a2-4597-98ff-2f5ec75e31b6&quot;,&quot;parentUUID&quot;:&quot;568360d1-64f0-4a01-b977-e18aaf9cdc03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;350b88e0-a6a2-4a69-a3e2-871b155557c2&quot;,&quot;1bdc2238-b140-40a4-a395-be584b004c8a&quot;,&quot;72d71ae7-4135-4bbe-980f-19dfd574cd1e&quot;,&quot;6810b17d-c9ba-4df6-9b6e-ec24425becee&quot;,&quot;eaf71730-4209-458e-9568-4366efb7a116&quot;,&quot;2785d9e5-8c20-48e8-a554-97cb7c2a0fef&quot;,&quot;f6ed0e38-bd32-42d2-9225-757318f81ab5&quot;,&quot;c1f61af9-761c-498f-ae65-abccdbd2edb3&quot;,&quot;cc0c1d7b-19a2-4597-98ff-2f5ec75e31b6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:61,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;title&quot;:&quot;POST /devices/borrow/:id_utilisateur&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /devices/borrow/:id_utilisateur\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur \&quot;before each\&quot; hook in \&quot;POST /devices/borrow/:id_utilisateur\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c86890e-389b-416f-95fb-5b2225997bb2&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when startDate is after endDate&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when startDate is after endDate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-02-30\&quot;, \&quot;2021-02-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Start date is after end date\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;837f12e8-26e5-4717-9746-aa95b2681000&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when no commands are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when no commands are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;No commands given\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd27abf3-e1a9-4a6b-bf47-acb4fff0798f&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when no reference are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when no reference are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            loanDays: [\&quot;2021-01-02\&quot;, \&quot;2021-01-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;No reference given\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02fce962-f0ca-4be6-b1d8-3484877ccc84&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when no loanDays are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when no loanDays are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;No loanDays given\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;370396fc-410d-4564-b4b5-484229735863&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when loanDays is not an array&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when loanDays is not an array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: 67\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid loanDays\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2305c29-6d63-418d-8470-0a9d6d20f310&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when less than two loanDays are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when less than two loanDays are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2020-04-12\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid loanDays count\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;719016db-85ef-469a-b6a5-f88bac20fa23&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when more than two loanDays are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when more than two loanDays are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2020-04-12\&quot;, \&quot;2020-04-14\&quot;, \&quot;2020-04-16\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid loanDays count\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5970f503-39a7-4df9-b768-bf42fe2b3605&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when there already is a reservation in the given period&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when there already is a reservation in the given period&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-01-02\&quot;, \&quot;2021-01-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Reservation already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7886bc1e-a0d2-42d2-be42-5ee894ce29d3&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when start date is invalid&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when start date is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;01-s\&quot;, \&quot;2021-01-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid start date\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf441725-3f1d-4be0-b50c-82ad20fe95cc&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when end date is invalid&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when end date is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-01-20\&quot;, \&quot;20-s\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid end date\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;853cde4d-bf7a-48ed-8286-1637929da215&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd0e1bb4-b9ae-4fc2-9a48-286cadb06a85&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;529aac9a-30ac-4b4e-9528-c98f26205d4e&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid user ID token&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error with invalid user ID token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, token)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid user\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0aca3cfa-67e8-4521-8708-487b2d4aa832&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;borrow devices works&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur borrow devices works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-05-05\&quot;, \&quot;2021-05-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39ca0536-6503-499e-a48f-4681f7be7c59&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;borrow multiple devices works&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur borrow multiple devices works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [\n        {\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-05-05\&quot;, \&quot;2021-05-15\&quot;]\n        },\n        {\n            reference: \&quot;AN002\&quot;,\n            loanDays: [\&quot;2021-05-05\&quot;, \&quot;2021-05-15\&quot;]\n        }\n    ]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a31c18c8-6f86-41c7-9e21-4e1eb2670b64&quot;,&quot;parentUUID&quot;:&quot;a0babea9-0972-487f-b109-71c314160bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;837f12e8-26e5-4717-9746-aa95b2681000&quot;,&quot;cd27abf3-e1a9-4a6b-bf47-acb4fff0798f&quot;,&quot;02fce962-f0ca-4be6-b1d8-3484877ccc84&quot;,&quot;370396fc-410d-4564-b4b5-484229735863&quot;,&quot;b2305c29-6d63-418d-8470-0a9d6d20f310&quot;,&quot;719016db-85ef-469a-b6a5-f88bac20fa23&quot;,&quot;5970f503-39a7-4df9-b768-bf42fe2b3605&quot;,&quot;7886bc1e-a0d2-42d2-be42-5ee894ce29d3&quot;,&quot;cf441725-3f1d-4be0-b50c-82ad20fe95cc&quot;,&quot;853cde4d-bf7a-48ed-8286-1637929da215&quot;,&quot;bd0e1bb4-b9ae-4fc2-9a48-286cadb06a85&quot;,&quot;529aac9a-30ac-4b4e-9528-c98f26205d4e&quot;,&quot;0aca3cfa-67e8-4521-8708-487b2d4aa832&quot;,&quot;39ca0536-6503-499e-a48f-4681f7be7c59&quot;,&quot;a31c18c8-6f86-41c7-9e21-4e1eb2670b64&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:83,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;745b027e-56ef-49a3-b1b5-fe82c88230ee&quot;,&quot;title&quot;:&quot;PUT /devices/add/&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;PUT /devices/add/\&quot;&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ \&quot;before each\&quot; hook in \&quot;PUT /devices/add/\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e752ebc4-81d5-4a4d-b5a7-00c71e05b997&quot;,&quot;parentUUID&quot;:&quot;745b027e-56ef-49a3-b1b5-fe82c88230ee&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when category name is invalid&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when category name is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;AN003\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;EXISTEPAS\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid category name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72157a57-f88f-4b0c-b8f0-4dabb329f0a6&quot;,&quot;parentUUID&quot;:&quot;745b027e-56ef-49a3-b1b5-fe82c88230ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when reference is invalid&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when reference is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;PASVALIDE\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;Téléphones\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid reference\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80f60fa2-90f8-46dd-8aad-1220cfc05102&quot;,&quot;parentUUID&quot;:&quot;745b027e-56ef-49a3-b1b5-fe82c88230ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when reference is missing&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when reference is missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;Téléphones\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Missing reference\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5aad969-8083-47ab-b440-e6819fc36d89&quot;,&quot;parentUUID&quot;:&quot;745b027e-56ef-49a3-b1b5-fe82c88230ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when category is missing&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when category is missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;AN003\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Missing category name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9a8cd4b-4cdb-4bcd-9a9b-52a864cee1fb&quot;,&quot;parentUUID&quot;:&quot;745b027e-56ef-49a3-b1b5-fe82c88230ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when reference already exists&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when reference already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;AN001\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;Téléphones\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Device reference is already used\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9545793a-26db-4f53-b7b8-43cc56da1fa0&quot;,&quot;parentUUID&quot;:&quot;745b027e-56ef-49a3-b1b5-fe82c88230ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05e0d318-21c7-40b8-b2ea-0ac28b0a2d9e&quot;,&quot;parentUUID&quot;:&quot;745b027e-56ef-49a3-b1b5-fe82c88230ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42a4da3b-3916-4834-ad05-ee013d14d6ef&quot;,&quot;parentUUID&quot;:&quot;745b027e-56ef-49a3-b1b5-fe82c88230ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5015654e-2ffe-42a4-8c5c-3fb57e5a5c3c&quot;,&quot;parentUUID&quot;:&quot;745b027e-56ef-49a3-b1b5-fe82c88230ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;adding device works&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ adding device works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;AN003\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;Téléphones\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5fb92d14-2a3e-45d1-a147-53f08524b06d&quot;,&quot;parentUUID&quot;:&quot;745b027e-56ef-49a3-b1b5-fe82c88230ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;72157a57-f88f-4b0c-b8f0-4dabb329f0a6&quot;,&quot;80f60fa2-90f8-46dd-8aad-1220cfc05102&quot;,&quot;d5aad969-8083-47ab-b440-e6819fc36d89&quot;,&quot;c9a8cd4b-4cdb-4bcd-9a9b-52a864cee1fb&quot;,&quot;9545793a-26db-4f53-b7b8-43cc56da1fa0&quot;,&quot;05e0d318-21c7-40b8-b2ea-0ac28b0a2d9e&quot;,&quot;42a4da3b-3916-4834-ad05-ee013d14d6ef&quot;,&quot;5015654e-2ffe-42a4-8c5c-3fb57e5a5c3c&quot;,&quot;5fb92d14-2a3e-45d1-a147-53f08524b06d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:35,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a9bc7dd1-fd8a-48e8-a235-059fd0c19f0b&quot;,&quot;title&quot;:&quot;DELETE /devices/delete/:device_id&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;DELETE /devices/delete/:device_id\&quot;&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id \&quot;before each\&quot; hook in \&quot;DELETE /devices/delete/:device_id\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c409542-9f5a-4ca4-ab26-0bb5944f5aac&quot;,&quot;parentUUID&quot;:&quot;a9bc7dd1-fd8a-48e8-a235-059fd0c19f0b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when device reference is invalid&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id responds error when device reference is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/devices/delete/PASVALID&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid device reference\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;102ddddf-d82b-460f-9d77-07ea7c6157e3&quot;,&quot;parentUUID&quot;:&quot;a9bc7dd1-fd8a-48e8-a235-059fd0c19f0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0360eba-94dc-45f9-8b0d-9c52390b1aca&quot;,&quot;parentUUID&quot;:&quot;a9bc7dd1-fd8a-48e8-a235-059fd0c19f0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3cc1b23e-32d3-4d08-809e-938c88e80c24&quot;,&quot;parentUUID&quot;:&quot;a9bc7dd1-fd8a-48e8-a235-059fd0c19f0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b85643dc-aea1-4272-a557-3588d9078bb5&quot;,&quot;parentUUID&quot;:&quot;a9bc7dd1-fd8a-48e8-a235-059fd0c19f0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;deleting a device works&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id deleting a device works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/devices/delete/AN001&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;883948e2-e4ef-4084-aa9d-d907efee8e1e&quot;,&quot;parentUUID&quot;:&quot;a9bc7dd1-fd8a-48e8-a235-059fd0c19f0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;102ddddf-d82b-460f-9d77-07ea7c6157e3&quot;,&quot;d0360eba-94dc-45f9-8b0d-9c52390b1aca&quot;,&quot;3cc1b23e-32d3-4d08-809e-938c88e80c24&quot;,&quot;b85643dc-aea1-4272-a557-3588d9078bb5&quot;,&quot;883948e2-e4ef-4084-aa9d-d907efee8e1e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:35,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9484d9fb-677c-4efb-86ea-48eed688689c&quot;,&quot;title&quot;:&quot;GET /user/all&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /user/all\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /user/all \&quot;before all\&quot; hook in \&quot;GET /user/all\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd521d5e-da1f-4e69-ace4-446f31146f18&quot;,&quot;parentUUID&quot;:&quot;9484d9fb-677c-4efb-86ea-48eed688689c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05065d4b-31dd-42c3-8cd4-4be916fb5457&quot;,&quot;parentUUID&quot;:&quot;9484d9fb-677c-4efb-86ea-48eed688689c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4d435f4-a6fb-4a4e-a051-28e07a4280cd&quot;,&quot;parentUUID&quot;:&quot;9484d9fb-677c-4efb-86ea-48eed688689c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9c246c8-9efc-45e6-b6be-7590d714b95e&quot;,&quot;parentUUID&quot;:&quot;9484d9fb-677c-4efb-86ea-48eed688689c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with json&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds with json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/all&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77c8873e-aa06-4a0d-b441-e64eca8b60d2&quot;,&quot;parentUUID&quot;:&quot;9484d9fb-677c-4efb-86ea-48eed688689c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct users informations&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds with correct users informations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/all&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, [{\n        id: \&quot;ABCDEFG\&quot;,\n        firstName: \&quot;Lilian\&quot;,\n        lastName: \&quot;Bethus\&quot;,\n        email: \&quot;lilianb@mail.fr\&quot;,\n        admin: true,\n        temporaryPassword: false\n    },\n    {\n        id: \&quot;HIJKLMN\&quot;,\n        firstName: \&quot;Milan\&quot;,\n        lastName: \&quot;Pasquereau\&quot;,\n        email: \&quot;mpsqr@mail.fr\&quot;,\n        admin: false,\n        temporaryPassword: false\n    }], done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;affc06df-63d8-4d65-bec9-a31352333b73&quot;,&quot;parentUUID&quot;:&quot;9484d9fb-677c-4efb-86ea-48eed688689c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;05065d4b-31dd-42c3-8cd4-4be916fb5457&quot;,&quot;b4d435f4-a6fb-4a4e-a051-28e07a4280cd&quot;,&quot;c9c246c8-9efc-45e6-b6be-7590d714b95e&quot;,&quot;77c8873e-aa06-4a0d-b441-e64eca8b60d2&quot;,&quot;affc06df-63d8-4d65-bec9-a31352333b73&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;67fc5cb3-cb1d-46f0-8320-294a515ec025&quot;,&quot;title&quot;:&quot;GET /user/:userId&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /user/:userId\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId \&quot;before all\&quot; hook in \&quot;GET /user/:userId\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ea24211-94b4-4f01-8f2c-4a3f74f2e5d0&quot;,&quot;parentUUID&quot;:&quot;67fc5cb3-cb1d-46f0-8320-294a515ec025&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds with json&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds with json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa404909-b6cb-4478-94ae-234bbaa38b6c&quot;,&quot;parentUUID&quot;:&quot;67fc5cb3-cb1d-46f0-8320-294a515ec025&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct user informations&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds with correct user informations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, {\n    id: \&quot;ABCDEFG\&quot;,\n    firstName: \&quot;Lilian\&quot;,\n    lastName: \&quot;Bethus\&quot;,\n    email: \&quot;lilianb@mail.fr\&quot;,\n    admin: true,\n    temporaryPassword: false\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9638cb8-d139-4133-bfad-43e913c68d90&quot;,&quot;parentUUID&quot;:&quot;67fc5cb3-cb1d-46f0-8320-294a515ec025&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid ID&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds error for invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/invalid&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Cannot find results\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;567f8c55-aa76-4ca4-a0f6-044ae4f75bef&quot;,&quot;parentUUID&quot;:&quot;67fc5cb3-cb1d-46f0-8320-294a515ec025&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c3ccee9-bf2a-407a-aa16-1b8ab81dbc12&quot;,&quot;parentUUID&quot;:&quot;67fc5cb3-cb1d-46f0-8320-294a515ec025&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1614731a-33ad-4998-8663-77899accd4c9&quot;,&quot;parentUUID&quot;:&quot;67fc5cb3-cb1d-46f0-8320-294a515ec025&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05213d8f-e704-4bbd-a72e-ffd4f207ca5b&quot;,&quot;parentUUID&quot;:&quot;67fc5cb3-cb1d-46f0-8320-294a515ec025&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;aa404909-b6cb-4478-94ae-234bbaa38b6c&quot;,&quot;b9638cb8-d139-4133-bfad-43e913c68d90&quot;,&quot;567f8c55-aa76-4ca4-a0f6-044ae4f75bef&quot;,&quot;6c3ccee9-bf2a-407a-aa16-1b8ab81dbc12&quot;,&quot;1614731a-33ad-4998-8663-77899accd4c9&quot;,&quot;05213d8f-e704-4bbd-a72e-ffd4f207ca5b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:21,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4088e205-69ba-4e3f-8f36-632589ec900d&quot;,&quot;title&quot;:&quot;PUT /user/add&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;PUT /user/add\&quot;&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add \&quot;before each\&quot; hook in \&quot;PUT /user/add\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2120060-1423-4d26-a24f-96e1f28ba491&quot;,&quot;parentUUID&quot;:&quot;4088e205-69ba-4e3f-8f36-632589ec900d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when trying to add user with already existing id&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error when trying to add user with already existing id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;ABCDEFG\&quot;,\n    firstName: \&quot;Marche\&quot;,\n    lastName: \&quot;Pas\&quot;,\n    email: \&quot;rien@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this ID already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;655d32ef-c670-4322-bcae-3d47cc6e19df&quot;,&quot;parentUUID&quot;:&quot;4088e205-69ba-4e3f-8f36-632589ec900d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid ID&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error for invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;INVAL\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;jdupont@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid ID\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b1e9dc2-13dc-4998-b5ee-6010c63827fe&quot;,&quot;parentUUID&quot;:&quot;4088e205-69ba-4e3f-8f36-632589ec900d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid email&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error for invalid email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;TESTTE1\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;cecinestpasunmail.correct\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid email\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7389ef05-5663-4f20-ad3c-4637b0fc9e06&quot;,&quot;parentUUID&quot;:&quot;4088e205-69ba-4e3f-8f36-632589ec900d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid user with already existing email&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error for invalid user with already existing email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;TESTTE2\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;lilianb@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this email already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d50b03e-31f0-4085-9172-a343bac14463&quot;,&quot;parentUUID&quot;:&quot;4088e205-69ba-4e3f-8f36-632589ec900d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5cf617b8-a94a-491e-9523-a075dd306cb0&quot;,&quot;parentUUID&quot;:&quot;4088e205-69ba-4e3f-8f36-632589ec900d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f6f2c2e-88f7-491f-9ffd-75c2e876271d&quot;,&quot;parentUUID&quot;:&quot;4088e205-69ba-4e3f-8f36-632589ec900d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d98929e6-a0ef-487c-8a2f-e519f7a331e0&quot;,&quot;parentUUID&quot;:&quot;4088e205-69ba-4e3f-8f36-632589ec900d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;user creation works&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add user creation works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;TESTTE3\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;jdupont@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, () =&gt; {\n    supertest_1.default(server_1.app)\n        .get(&#x27;/api/users/TESTTE3&#x27;)\n        .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n        .set(\&quot;x-access-token\&quot;, helper.getToken())\n        .expect(&#x27;Content-Type&#x27;, /json/)\n        .expect(200, {\n        id: \&quot;TESTTE3\&quot;,\n        firstName: \&quot;Jean\&quot;,\n        lastName: \&quot;Dupont\&quot;,\n        email: \&quot;jdupont@mail.fr\&quot;,\n        admin: false,\n        temporaryPassword: true\n    }, done);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d923434b-8ddf-41c3-98b6-9015357c2f7c&quot;,&quot;parentUUID&quot;:&quot;4088e205-69ba-4e3f-8f36-632589ec900d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;655d32ef-c670-4322-bcae-3d47cc6e19df&quot;,&quot;8b1e9dc2-13dc-4998-b5ee-6010c63827fe&quot;,&quot;7389ef05-5663-4f20-ad3c-4637b0fc9e06&quot;,&quot;1d50b03e-31f0-4085-9172-a343bac14463&quot;,&quot;5cf617b8-a94a-491e-9523-a075dd306cb0&quot;,&quot;7f6f2c2e-88f7-491f-9ffd-75c2e876271d&quot;,&quot;d98929e6-a0ef-487c-8a2f-e519f7a331e0&quot;,&quot;d923434b-8ddf-41c3-98b6-9015357c2f7c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:146,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ba9f576f-df5d-4e8d-8d41-ed555dfd96d5&quot;,&quot;title&quot;:&quot;POST /user/modify&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /user/modify\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify \&quot;before each\&quot; hook in \&quot;POST /user/modify\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5483d9d1-94fd-4fc2-a6e5-ac4502f47d4e&quot;,&quot;parentUUID&quot;:&quot;ba9f576f-df5d-4e8d-8d41-ed555dfd96d5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error for invalid user ID&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error for invalid user ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/users/modify&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;INVALID\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;jdupont@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this ID doesn&#x27;t exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03934bf1-abdc-4612-8372-f27ac0758323&quot;,&quot;parentUUID&quot;:&quot;ba9f576f-df5d-4e8d-8d41-ed555dfd96d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid user with already existing email&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error for invalid user with already existing email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/users/modify&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;HIJKLMN\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;lilianb@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this email already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69954215-8661-4ec4-938c-49f121afeea8&quot;,&quot;parentUUID&quot;:&quot;ba9f576f-df5d-4e8d-8d41-ed555dfd96d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed0b191d-37f9-4f79-a2f9-bc1ef4ac57a1&quot;,&quot;parentUUID&quot;:&quot;ba9f576f-df5d-4e8d-8d41-ed555dfd96d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ec65eea-62f6-4761-8e83-9a0d720f0e38&quot;,&quot;parentUUID&quot;:&quot;ba9f576f-df5d-4e8d-8d41-ed555dfd96d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77d1474a-9557-467b-92db-e067c6c41f9d&quot;,&quot;parentUUID&quot;:&quot;ba9f576f-df5d-4e8d-8d41-ed555dfd96d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;user modification works&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify user modification works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/users/modify&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;HIJKLMN\&quot;,\n    firstName: \&quot;M\&quot;,\n    lastName: \&quot;P\&quot;,\n    email: \&quot;psqrm@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, () =&gt; {\n    supertest_1.default(server_1.app)\n        .get(&#x27;/api/users/HIJKLMN&#x27;)\n        .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n        .set(\&quot;x-access-token\&quot;, helper.getToken())\n        .expect(&#x27;Content-Type&#x27;, /json/)\n        .expect(200, {\n        id: \&quot;HIJKLMN\&quot;,\n        firstName: \&quot;M\&quot;,\n        lastName: \&quot;P\&quot;,\n        email: \&quot;psqrm@mail.fr\&quot;,\n        admin: false,\n        temporaryPassword: false\n    }, done);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0bd0a988-947d-4568-aa3e-d38504615acb&quot;,&quot;parentUUID&quot;:&quot;ba9f576f-df5d-4e8d-8d41-ed555dfd96d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;03934bf1-abdc-4612-8372-f27ac0758323&quot;,&quot;69954215-8661-4ec4-938c-49f121afeea8&quot;,&quot;ed0b191d-37f9-4f79-a2f9-bc1ef4ac57a1&quot;,&quot;9ec65eea-62f6-4761-8e83-9a0d720f0e38&quot;,&quot;77d1474a-9557-467b-92db-e067c6c41f9d&quot;,&quot;0bd0a988-947d-4568-aa3e-d38504615acb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:48,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;87b929d7-9f8d-41f9-978f-182fd73bd1da&quot;,&quot;title&quot;:&quot;DELETE /user/delete/:userId&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;DELETE /user/delete/:userId\&quot;&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId \&quot;before each\&quot; hook in \&quot;DELETE /user/delete/:userId\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9158979-8797-4217-a00b-ef1f7f02a49c&quot;,&quot;parentUUID&quot;:&quot;87b929d7-9f8d-41f9-978f-182fd73bd1da&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error with invalid user id&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId responds error with invalid user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/users/delete/INVALID&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this ID doesn&#x27;t exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b791a24-c99c-4d39-afb8-1d86b793c231&quot;,&quot;parentUUID&quot;:&quot;87b929d7-9f8d-41f9-978f-182fd73bd1da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3325f883-8a05-467d-9b79-9cedcb395eb8&quot;,&quot;parentUUID&quot;:&quot;87b929d7-9f8d-41f9-978f-182fd73bd1da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b42d9013-30aa-4495-9843-a4c59288b2c5&quot;,&quot;parentUUID&quot;:&quot;87b929d7-9f8d-41f9-978f-182fd73bd1da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10e59143-3535-4419-ae78-4f6fb8255e17&quot;,&quot;parentUUID&quot;:&quot;87b929d7-9f8d-41f9-978f-182fd73bd1da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;user deletion works&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId user deletion works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/users/delete/HIJKLMN&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, () =&gt; {\n    supertest_1.default(server_1.app)\n        .get(&#x27;/api/users/HIJKLMN&#x27;)\n        .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n        .set(\&quot;x-access-token\&quot;, helper.getToken())\n        .expect(&#x27;Content-Type&#x27;, /json/)\n        .expect(400, {\n        error: true,\n        message: \&quot;Cannot find results\&quot;\n    }, done);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb69d7da-cd41-484c-b6ba-bbe94ca99914&quot;,&quot;parentUUID&quot;:&quot;87b929d7-9f8d-41f9-978f-182fd73bd1da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5b791a24-c99c-4d39-afb8-1d86b793c231&quot;,&quot;3325f883-8a05-467d-9b79-9cedcb395eb8&quot;,&quot;b42d9013-30aa-4495-9843-a4c59288b2c5&quot;,&quot;10e59143-3535-4419-ae78-4f6fb8255e17&quot;,&quot;cb69d7da-cd41-484c-b6ba-bbe94ca99914&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:26,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cdfe78cd-9db3-49a9-b7bc-901f77ba544c&quot;,&quot;title&quot;:&quot;GET /user/:userId/history&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;GET /user/:userId/history\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history \&quot;before each\&quot; hook in \&quot;GET /user/:userId/history\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d2d344d-e064-40b5-8ca2-085cd9d08153&quot;,&quot;parentUUID&quot;:&quot;cdfe78cd-9db3-49a9-b7bc-901f77ba544c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error with invalid user id&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history responds error with invalid user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/INVALID/history&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this ID doesn&#x27;t exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebeb6f71-37db-4654-9ef7-31579b268535&quot;,&quot;parentUUID&quot;:&quot;cdfe78cd-9db3-49a9-b7bc-901f77ba544c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;343aed2d-4dc7-4895-9a44-f457e31c7a3e&quot;,&quot;parentUUID&quot;:&quot;cdfe78cd-9db3-49a9-b7bc-901f77ba544c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c44dc6ba-f166-47de-af3e-3a5048060c57&quot;,&quot;parentUUID&quot;:&quot;cdfe78cd-9db3-49a9-b7bc-901f77ba544c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a8e591c-961b-45f7-94d5-1c1ecc3a3532&quot;,&quot;parentUUID&quot;:&quot;cdfe78cd-9db3-49a9-b7bc-901f77ba544c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;user history works&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history user history works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/ABCDEFG/history&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, [{\n        ID: 2,\n        endDate: \&quot;2021-01-12\&quot;,\n        idUser: \&quot;ABCDEFG\&quot;,\n        refDevice: \&quot;PC001\&quot;,\n        returnDate: \&quot;2021-02-04\&quot;,\n        startDate: \&quot;2021-01-04\&quot;\n    }], done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9abaf5aa-2f6d-41e4-b4c9-b4465d427837&quot;,&quot;parentUUID&quot;:&quot;cdfe78cd-9db3-49a9-b7bc-901f77ba544c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ebeb6f71-37db-4654-9ef7-31579b268535&quot;,&quot;343aed2d-4dc7-4895-9a44-f457e31c7a3e&quot;,&quot;c44dc6ba-f166-47de-af3e-3a5048060c57&quot;,&quot;7a8e591c-961b-45f7-94d5-1c1ecc3a3532&quot;,&quot;9abaf5aa-2f6d-41e4-b4c9-b4465d427837&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:23,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;8a7f810b-0023-4c34-adce-e2b61dc4b02b&quot;,&quot;bcf65328-4b9e-4fc2-a699-c19a8e7acb31&quot;,&quot;7923cea4-475c-470e-a6a5-dd5c92c505d6&quot;,&quot;487a3d08-bbec-4299-a912-603ecba131a2&quot;,&quot;1ee06864-5cd3-49b1-bd23-77c9bb1365c2&quot;,&quot;7b240da6-9e92-4456-906f-9b91f9b474a6&quot;,&quot;0bf69de8-bff7-4d80-a994-1dc973d9a30d&quot;],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;8.2.1&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.2.1&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Loaner&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/easycash/Loaner/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/Users/easycash/Loaner/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>