<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:51,&quot;tests&quot;:194,&quot;passes&quot;:194,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2021-01-09T17:58:37.015Z&quot;,&quot;end&quot;:&quot;2021-01-09T17:58:40.463Z&quot;,&quot;duration&quot;:3448,&quot;testsRegistered&quot;:201,&quot;passPercent&quot;:96.51741293532339,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:7,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;b8bffe3f-f9cf-4fea-b1ab-5cb0921c58a8&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The device must match an existing category&quot;,&quot;fullTitle&quot;:&quot;The device must match an existing category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const existingCategories = yield DAOcat.getAll();\n    let check = false;\n    //Testing that its category is member of the categories of the database\n    existingCategories.forEach(function (category) {\n        if (device.getCategoryID() == category.getID())\n            check = true;\n    });\n    assert.isTrue(check);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8fadb271-bfd5-4a8a-92be-70a81d9e04e4&quot;,&quot;parentUUID&quot;:&quot;b8bffe3f-f9cf-4fea-b1ab-5cb0921c58a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;The device must have a five character reference&quot;,&quot;fullTitle&quot;:&quot;The device must have a five character reference&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    assert.equal(device.getRef().length, 5);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d66b891-0d8b-4845-8f6c-0fdabb59da73&quot;,&quot;parentUUID&quot;:&quot;b8bffe3f-f9cf-4fea-b1ab-5cb0921c58a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;The device must not have an empty name or a null name&quot;,&quot;fullTitle&quot;:&quot;The device must not have an empty name or a null name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    assert.isNotNull(device.getName());\n    assert.isAbove(device.getName().length, 0);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45e7b87e-e6f1-4d73-81c7-6b49459b2f87&quot;,&quot;parentUUID&quot;:&quot;b8bffe3f-f9cf-4fea-b1ab-5cb0921c58a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;The device must have a version number between 3 and 15 characters&quot;,&quot;fullTitle&quot;:&quot;The device must have a version number between 3 and 15 characters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    assert.isAbove(device.getVersion().length, 2);\n    assert.isBelow(device.getVersion().length, 16);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5555752-4a1b-4494-9934-fa85b8c036e4&quot;,&quot;parentUUID&quot;:&quot;b8bffe3f-f9cf-4fea-b1ab-5cb0921c58a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;The device must have a correct version number&quot;,&quot;fullTitle&quot;:&quot;The device must have a correct version number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(device.getVersion()).to.match(/^[0-9]*\\.[0-9]*$/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f9f9bf4-68b9-42a1-9694-7a968cb2b67e&quot;,&quot;parentUUID&quot;:&quot;b8bffe3f-f9cf-4fea-b1ab-5cb0921c58a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;The device must have a grater version than 0.0&quot;,&quot;fullTitle&quot;:&quot;The device must have a grater version than 0.0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const numbers = device.getVersion().split(&#x27;.&#x27;);\n    assert.isAbove(parseInt(numbers[0]), 0);\n    assert.isAbove(parseInt(numbers[1]), -1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f35cf4e8-9bf4-4e4a-bf63-1bd4f9c8f95c&quot;,&quot;parentUUID&quot;:&quot;b8bffe3f-f9cf-4fea-b1ab-5cb0921c58a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;The device with a phone number must have a correct phone number&quot;,&quot;fullTitle&quot;:&quot;The device with a phone number must have a correct phone number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    if (device.getPhone()) {\n        expect(device.getPhone()).to.match(/^\\+?[0-9]{0,15}$/);\n    }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;865ec80b-ce91-47fd-85f4-63cac56414d6&quot;,&quot;parentUUID&quot;:&quot;b8bffe3f-f9cf-4fea-b1ab-5cb0921c58a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;72468e50-f31b-4498-88a4-b014f3266d20&quot;,&quot;title&quot;:&quot;Tests on dao_category.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Tests on dao_category.ts\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts \&quot;before all\&quot; hook in \&quot;Tests on dao_category.ts\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc1d5a80-345a-4ad8-b88d-810bc50bd2df&quot;,&quot;parentUUID&quot;:&quot;72468e50-f31b-4498-88a4-b014f3266d20&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ec5a5db6-b4a3-4fbd-aae7-bfe6be490462&quot;,&quot;title&quot;:&quot;Tests on getAll() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array of category&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getAll() method The result type must be an array of category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllCategories();\n    expect(Array.isArray(result)).to.equal(true);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14cc0e39-e4e8-4a5b-9d73-a4ac8eb4ceed&quot;,&quot;parentUUID&quot;:&quot;ec5a5db6-b4a3-4fbd-aae7-bfe6be490462&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The result must not be empty, there have to be at least one category in the program&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getAll() method The result must not be empty, there have to be at least one category in the program&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllCategories();\n    assert.isAbove(result.length, 0, \&quot;There must be at least one category\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33602509-bbd1-465b-bd8b-4ba515ee0991&quot;,&quot;parentUUID&quot;:&quot;ec5a5db6-b4a3-4fbd-aae7-bfe6be490462&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The names of the categories must not exceed 255 characters&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getAll() method The names of the categories must not exceed 255 characters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllCategories();\n    result.forEach(function (category) {\n        assert.isBelow(category.getName().length, 255);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cc82295-bbda-405f-adbe-7fe5d30ed8d0&quot;,&quot;parentUUID&quot;:&quot;ec5a5db6-b4a3-4fbd-aae7-bfe6be490462&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;ID of Categories must be strictly postives&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getAll() method ID of Categories must be strictly postives&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllCategories();\n    result.forEach(function (category) {\n        assert.isAbove(category.getID(), 0);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12c6d5ad-c534-4052-8ec8-7286fe92b11a&quot;,&quot;parentUUID&quot;:&quot;ec5a5db6-b4a3-4fbd-aae7-bfe6be490462&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;14cc0e39-e4e8-4a5b-9d73-a4ac8eb4ceed&quot;,&quot;33602509-bbd1-465b-bd8b-4ba515ee0991&quot;,&quot;8cc82295-bbda-405f-adbe-7fe5d30ed8d0&quot;,&quot;12c6d5ad-c534-4052-8ec8-7286fe92b11a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ea4e518a-bf54-4bdc-8866-2bdefa13ff35&quot;,&quot;title&quot;:&quot;Tests on getByName() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be a category&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getByName() method The result type must be a category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetCategory(\&quot;Téléphones\&quot;);\n    assert.isTrue(result instanceof category_1.default);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a92c1f19-9c0a-466f-8beb-cbd9b7403405&quot;,&quot;parentUUID&quot;:&quot;ea4e518a-bf54-4bdc-8866-2bdefa13ff35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The database must have the smartphone category&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getByName() method The database must have the smartphone category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetCategory(\&quot;Téléphones\&quot;);\n    assert.isNotNull(result);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad582ab8-edbd-4e3d-bddf-7e2a079fad48&quot;,&quot;parentUUID&quot;:&quot;ea4e518a-bf54-4bdc-8866-2bdefa13ff35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The names of the category must not have any number&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getByName() method The names of the category must not have any number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetCategory(\&quot;Téléphones\&quot;);\n    expect(result.getName()).not.to.match(/^([0-9_])$/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9f2bdf3-2d8b-4f1f-86d1-22e673cbf9df&quot;,&quot;parentUUID&quot;:&quot;ea4e518a-bf54-4bdc-8866-2bdefa13ff35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The names of the category must contain only letters or &#x27;-&#x27;&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getByName() method The names of the category must contain only letters or &#x27;-&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetCategory(\&quot;Téléphones\&quot;);\n    expect(result.getName()).to.match(/^[a-zA-Z\\-éèà]{0,255}$/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dec4e0e0-3846-4d44-9a8f-47255dc62f03&quot;,&quot;parentUUID&quot;:&quot;ea4e518a-bf54-4bdc-8866-2bdefa13ff35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a92c1f19-9c0a-466f-8beb-cbd9b7403405&quot;,&quot;ad582ab8-edbd-4e3d-bddf-7e2a079fad48&quot;,&quot;d9f2bdf3-2d8b-4f1f-86d1-22e673cbf9df&quot;,&quot;dec4e0e0-3846-4d44-9a8f-47255dc62f03&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0411e990-4462-450a-8fcb-eb38ad37effb&quot;,&quot;title&quot;:&quot;Tests on getLastId() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;There must be at least one id, or there would be no categories&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getLastId() method There must be at least one id, or there would be no categories&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetLastId();\n    assert.isNotNull(result);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cbde2da-6dd9-4cdf-b23f-da3b5b5bfe84&quot;,&quot;parentUUID&quot;:&quot;0411e990-4462-450a-8fcb-eb38ad37effb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Last Id created must be positive&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on getLastId() method Last Id created must be positive&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultGetLastId();\n    assert.isAbove(result, 0);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66ebd4fd-0c15-4f88-9329-5caf9dc337fa&quot;,&quot;parentUUID&quot;:&quot;0411e990-4462-450a-8fcb-eb38ad37effb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9cbde2da-6dd9-4cdf-b23f-da3b5b5bfe84&quot;,&quot;66ebd4fd-0c15-4f88-9329-5caf9dc337fa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ab485cf6-066e-448d-91dd-a2b4b45abd8a&quot;,&quot;title&quot;:&quot;Tests on addCategory() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;A new category added should be seen in a SELECT request later&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on addCategory() method A new category added should be seen in a SELECT request later&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    DAOCategTested.addCategory(new category_1.default(9999, \&quot;TestCategory\&quot;));\n    const result = yield resultGetCategory(\&quot;TestCategory\&quot;);\n    assert.isNotNull(result);\n    expect(result.getID()).to.equal(9999);\n    expect(result.getName()).to.equal(\&quot;TestCategory\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d660b9f-017a-48e1-8396-ce4ac7aeb4e6&quot;,&quot;parentUUID&quot;:&quot;ab485cf6-066e-448d-91dd-a2b4b45abd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5d660b9f-017a-48e1-8396-ce4ac7aeb4e6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3cbe9d8a-58d1-4f4e-a8a5-542ec9e12489&quot;,&quot;title&quot;:&quot;Tests on deleteCategory() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_category_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_category_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;A deleted category should not be in a query later&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on deleteCategory() method A deleted category should not be in a query later&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(yield DAOCategTested.deleteCategory.bind(DAOCategTested, 9999)).not.to.throw(Error);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0da1fd5-17cd-40e4-b854-a7f16aa66779&quot;,&quot;parentUUID&quot;:&quot;3cbe9d8a-58d1-4f4e-a8a5-542ec9e12489&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The category we tried to added, should throw an error at its deletion, or it is deleted from the database&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_category.ts Tests on deleteCategory() method The category we tried to added, should throw an error at its deletion, or it is deleted from the database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOCategTested.deleteCategory(-1)).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25bfad3a-5932-4dd7-b7e9-12c4e059f11b&quot;,&quot;parentUUID&quot;:&quot;3cbe9d8a-58d1-4f4e-a8a5-542ec9e12489&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f0da1fd5-17cd-40e4-b854-a7f16aa66779&quot;,&quot;25bfad3a-5932-4dd7-b7e9-12c4e059f11b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d58256ae-7ced-4697-a4e5-b6a01c163778&quot;,&quot;title&quot;:&quot;Tests onf dao_device.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Tests onf dao_device.ts\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts \&quot;before all\&quot; hook in \&quot;Tests onf dao_device.ts\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;032d63c8-4fce-44a5-92cd-0a01175376e7&quot;,&quot;parentUUID&quot;:&quot;d58256ae-7ced-4697-a4e5-b6a01c163778&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;92f8d3ab-60e2-4db6-a808-393d99f152a2&quot;,&quot;title&quot;:&quot;Tests on getAll() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array of devices&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The result type must be an array of devices&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    expect(Array.isArray(result)).to.equal(true);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;868f7702-d7e0-4abe-884a-af97e55a29b1&quot;,&quot;parentUUID&quot;:&quot;92f8d3ab-60e2-4db6-a808-393d99f152a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must match an existing category&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must match an existing category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const existingCategories = yield DAOcat.getAll();\n    const result = yield resultAllDevices();\n    let check = false;\n    //Testing for every device that its category is member of the categories of the database\n    result.map((device) =&gt; {\n        existingCategories.map((category) =&gt; {\n            if (device.getCategoryID() == category.getID())\n                check = true;\n        });\n    });\n    assert.isTrue(check);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a99e143e-b4c4-46da-8e1a-4435d91fd1f8&quot;,&quot;parentUUID&quot;:&quot;92f8d3ab-60e2-4db6-a808-393d99f152a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must have a five character reference&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must have a five character reference&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        assert.equal(device.getRef().length, 5);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55e856e7-b3b1-4dc0-b110-24affe85dff1&quot;,&quot;parentUUID&quot;:&quot;92f8d3ab-60e2-4db6-a808-393d99f152a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must not have an empty name or a null name&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must not have an empty name or a null name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        assert.isNotNull(device.getName());\n        assert.isAbove(device.getName().length, 0);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7be206c5-c668-4576-9ddf-ed9c225260ef&quot;,&quot;parentUUID&quot;:&quot;92f8d3ab-60e2-4db6-a808-393d99f152a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must have a version number between 3 and 15 characters&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must have a version number between 3 and 15 characters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        assert.isAbove(device.getVersion().length, 2);\n        assert.isBelow(device.getVersion().length, 16);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e11cd44-2580-4fcf-ac04-9bd897e22ce2&quot;,&quot;parentUUID&quot;:&quot;92f8d3ab-60e2-4db6-a808-393d99f152a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must have a correct version number&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must have a correct version number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        expect(device.getVersion()).to.match(/^[0-9]*\\.[0-9]*$/);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3429f17-9367-465a-b06e-f390b97d66e3&quot;,&quot;parentUUID&quot;:&quot;92f8d3ab-60e2-4db6-a808-393d99f152a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices must have a grater version than 0.0&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices must have a grater version than 0.0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        const numbers = device.getVersion().split(&#x27;.&#x27;);\n        assert.isAbove(parseInt(numbers[0]), 0);\n        assert.isAbove(parseInt(numbers[1]), -1);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c144883-0f28-4c7e-8f0e-82a46ab4dad6&quot;,&quot;parentUUID&quot;:&quot;92f8d3ab-60e2-4db6-a808-393d99f152a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices with a phone number must have a correct phone number&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getAll() method The devices with a phone number must have a correct phone number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield resultAllDevices();\n    result.forEach(function (device) {\n        if (device.getPhone()) {\n            expect(device.getPhone()).to.match(/^\\+?[0-9]{0,15}$/);\n        }\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1071f60-d12a-4272-b349-c00e9579b72c&quot;,&quot;parentUUID&quot;:&quot;92f8d3ab-60e2-4db6-a808-393d99f152a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;868f7702-d7e0-4abe-884a-af97e55a29b1&quot;,&quot;a99e143e-b4c4-46da-8e1a-4435d91fd1f8&quot;,&quot;55e856e7-b3b1-4dc0-b110-24affe85dff1&quot;,&quot;7be206c5-c668-4576-9ddf-ed9c225260ef&quot;,&quot;5e11cd44-2580-4fcf-ac04-9bd897e22ce2&quot;,&quot;c3429f17-9367-465a-b06e-f390b97d66e3&quot;,&quot;7c144883-0f28-4c7e-8f0e-82a46ab4dad6&quot;,&quot;b1071f60-d12a-4272-b349-c00e9579b72c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:41,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6c49c3f4-657b-4e0c-af97-a4c1f0bdef17&quot;,&quot;title&quot;:&quot;Tests on addDevice() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Adding a compliant device should not throw exception, and the added device must be seen in queries&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on addDevice() method Adding a compliant device should not throw exception, and the added device must be seen in queries&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    //This device is compliant to the specifications\n    expect(DAOTested.addDevice(new device_1.default(\&quot;test1\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;First test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;0778787878\&quot;))).not.to.be.rejected;\n    const result = yield DAOTested.get(\&quot;test1\&quot;);\n    assert.isNotNull(result);\n    expect(result.getRef()).to.equal(\&quot;test1\&quot;);\n    expect(result.getCategoryID()).to.equal(1);\n    expect(result.getName()).to.equal(\&quot;First test\&quot;);\n    expect(result.getVersion()).to.equal(\&quot;1.0\&quot;);\n    expect(result.getPhoto()).to.equal(\&quot;\&quot;);\n    expect(result.getPhone()).to.equal(\&quot;0778787878\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bf3efec-5915-4f0f-ae83-77d7f2f52d4f&quot;,&quot;parentUUID&quot;:&quot;6c49c3f4-657b-4e0c-af97-a4c1f0bdef17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8bf3efec-5915-4f0f-ae83-77d7f2f52d4f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;37ba55db-75ea-44cd-99fa-55c6342d1a4d&quot;,&quot;title&quot;:&quot;Tests on deleteDevice() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deleting the compliant device should not throw an error, and the devices should not be queryable&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on deleteDevice() method Deleting the compliant device should not throw an error, and the devices should not be queryable&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.deleteDevice(\&quot;test1\&quot;)).not.to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48a42e56-5b28-4a07-bcc7-314525be5165&quot;,&quot;parentUUID&quot;:&quot;37ba55db-75ea-44cd-99fa-55c6342d1a4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deleting all the invalid devices should throw an error, or they were created earlier&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on deleteDevice() method Deleting all the invalid devices should throw an error, or they were created earlier&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.deleteDevice(\&quot;test\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test33\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test4\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test5\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test6\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test7\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test8\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test9\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test10\&quot;)).to.be.rejected;\n    expect(DAOTested.deleteDevice(\&quot;test11\&quot;)).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb770af5-fede-489f-b8ee-c65d9742f8fe&quot;,&quot;parentUUID&quot;:&quot;37ba55db-75ea-44cd-99fa-55c6342d1a4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;48a42e56-5b28-4a07-bcc7-314525be5165&quot;,&quot;bb770af5-fede-489f-b8ee-c65d9742f8fe&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a6fbda0f-ea0f-4a50-af84-95c7aaf0a7c3&quot;,&quot;title&quot;:&quot;Tests on borrowDevice() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Adding a reservation with existing ID throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on borrowDevice() method Adding a reservation with existing ID throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const reservationID = yield DAObooking.getLastId();\n    expect(DAOTested.borrowDevice([new reservation_1.default(reservationID, \&quot;TESTB\&quot;, \&quot;ABCDEFG\&quot;, startDate, endDate)])).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;807a79a1-802d-4812-b2c6-9b2eda851c34&quot;,&quot;parentUUID&quot;:&quot;a6fbda0f-ea0f-4a50-af84-95c7aaf0a7c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Booking a device should throw error&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on borrowDevice() method Booking a device should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const reservationID = yield DAObooking.getLastId();\n    expect(DAOTested.borrowDevice([new reservation_1.default(reservationID + 1, \&quot;TESTB\&quot;, \&quot;ABCDEFG\&quot;, startDate, endDate)])).to.not.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1c85ce8-e02a-4524-93dd-8eb68480e737&quot;,&quot;parentUUID&quot;:&quot;a6fbda0f-ea0f-4a50-af84-95c7aaf0a7c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;807a79a1-802d-4812-b2c6-9b2eda851c34&quot;,&quot;c1c85ce8-e02a-4524-93dd-8eb68480e737&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0e631459-ad4a-4546-b9d5-01d08f5f36e6&quot;,&quot;title&quot;:&quot;Tests on getDevicesByFilter() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_device_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_device_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Research with empty filters should throw error&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getDevicesByFilter() method Research with empty filters should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.getDevicesByFilter(\&quot;\&quot;, \&quot;\&quot;, -1)).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7749b58f-3b58-4a86-90d0-a7da9836d54a&quot;,&quot;parentUUID&quot;:&quot;0e631459-ad4a-4546-b9d5-01d08f5f36e6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Checking if all the filters works well&quot;,&quot;fullTitle&quot;:&quot;Tests onf dao_device.ts Tests on getDevicesByFilter() method Checking if all the filters works well&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield DAOTested.addDevice.bind(DAOTested, new device_1.default(\&quot;test1\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Test filters\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;0778787878\&quot;));\n    let result = yield DAOTested.getDevicesByFilter(\&quot;Test filters\&quot;, \&quot;\&quot;, -1);\n    result.forEach(function (device) {\n        assert.equal(device.getName(), \&quot;Test filters\&quot;);\n    });\n    result = yield DAOTested.getDevicesByFilter(\&quot;\&quot;, \&quot;test1\&quot;, -1);\n    result.forEach(function (device) {\n        assert.equal(device.getRef(), \&quot;test1\&quot;);\n    });\n    result = yield DAOTested.getDevicesByFilter(\&quot;\&quot;, \&quot;\&quot;, 1);\n    expect(result.map((device) =&gt; { return device.getName(); })).to.have.members([\&quot;Huawei P80\&quot;, \&quot;Samsung Galaxy S1000\&quot;]);\n    yield DAOTested.deleteDevice.bind(DAOTested, \&quot;test1\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c04b3898-1c41-4373-8cb8-a4e23883686e&quot;,&quot;parentUUID&quot;:&quot;0e631459-ad4a-4546-b9d5-01d08f5f36e6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7749b58f-3b58-4a86-90d0-a7da9836d54a&quot;,&quot;c04b3898-1c41-4373-8cb8-a4e23883686e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d6e1c7ef-9c20-4f85-ba5b-01111c4f8568&quot;,&quot;title&quot;:&quot;Tests on dao_reservation.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Tests on dao_reservation.ts\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts \&quot;before all\&quot; hook in \&quot;Tests on dao_reservation.ts\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;624aa532-61c6-4b6b-a9a7-54dbb4ebc0f6&quot;,&quot;parentUUID&quot;:&quot;d6e1c7ef-9c20-4f85-ba5b-01111c4f8568&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1d6183cb-4a9f-4cd1-9ec5-fc2d666f8b39&quot;,&quot;title&quot;:&quot;Tests on getLastid() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The Id must be positive&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getLastid() method The Id must be positive&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getLastId();\n    assert.isAbove(result, 0);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8367fbbf-9aa5-4c76-81ab-bc9c9b1b2326&quot;,&quot;parentUUID&quot;:&quot;1d6183cb-4a9f-4cd1-9ec5-fc2d666f8b39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8367fbbf-9aa5-4c76-81ab-bc9c9b1b2326&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;233a24d0-bf23-4e1e-a261-ad5101414a50&quot;,&quot;title&quot;:&quot;Tests on historyDevice() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The users of a reservation must be registered&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on historyDevice() method The users of a reservation must be registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const users = yield DAOuser.getAll();\n    const result = yield DAOTested.historyDevice(\&quot;AN001\&quot;);\n    let check = false;\n    result.forEach(function (booking) {\n        users.forEach(function (user) {\n            if (booking.getUserID() == user.getId())\n                check = true;\n        });\n    });\n    assert.isTrue(check);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;714adc3d-08b2-4fac-b6bd-ed1eff3caee3&quot;,&quot;parentUUID&quot;:&quot;233a24d0-bf23-4e1e-a261-ad5101414a50&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The devices of a reservation must be registered&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on historyDevice() method The devices of a reservation must be registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const devices = yield DAOdevice.getAll();\n    const result = yield DAOTested.historyDevice(\&quot;AN001\&quot;);\n    let check = false;\n    result.forEach(function (booking) {\n        devices.forEach(function (device) {\n            if (booking.getDevice().match(device.getRef()))\n                check = true;\n        });\n    });\n    assert.isTrue(check);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd7b107a-1abe-4225-b67a-4677ded55d34&quot;,&quot;parentUUID&quot;:&quot;233a24d0-bf23-4e1e-a261-ad5101414a50&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The start date must be earlier than the two others&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on historyDevice() method The start date must be earlier than the two others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.historyDevice(\&quot;AN002\&quot;);\n    result.forEach(function (booking) {\n        assert.notDeepEqual(booking.getStartDate(), booking.getReturnDate());\n        assert.notDeepEqual(booking.getStartDate(), booking.getEndDate());\n        assert.isAbove(booking.getReturnDate().getTime(), booking.getStartDate().getTime());\n        assert.isAbove(booking.getEndDate().getTime(), booking.getStartDate().getTime());\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5b0c7b1-63c2-4c39-a772-cc83bf61e680&quot;,&quot;parentUUID&quot;:&quot;233a24d0-bf23-4e1e-a261-ad5101414a50&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;714adc3d-08b2-4fac-b6bd-ed1eff3caee3&quot;,&quot;bd7b107a-1abe-4225-b67a-4677ded55d34&quot;,&quot;c5b0c7b1-63c2-4c39-a772-cc83bf61e680&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6bd83f11-f1e4-4eb6-9f65-d210ab7a03d8&quot;,&quot;title&quot;:&quot;Tests on getUserHistory() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getUserHistory() method The result type must be an array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUserHistory(\&quot;HIJKLMN\&quot;);\n    assert.isTrue(Array.isArray(result));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b48daf2-2df5-48a2-b9c0-6a20f6c4d622&quot;,&quot;parentUUID&quot;:&quot;6bd83f11-f1e4-4eb6-9f65-d210ab7a03d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The id reservation must be positive&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getUserHistory() method The id reservation must be positive&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUserHistory(\&quot;HIJKLMN\&quot;);\n    result.forEach((reservation) =&gt; {\n        assert.isAbove(reservation.getID(), 0);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf56e4ed-0c8e-409d-82f1-eeeea9c44bc1&quot;,&quot;parentUUID&quot;:&quot;6bd83f11-f1e4-4eb6-9f65-d210ab7a03d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The start date must be earlier than the two others&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getUserHistory() method The start date must be earlier than the two others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUserHistory(\&quot;ABCDEFG\&quot;);\n    result.forEach(function (booking) {\n        assert.notDeepEqual(booking.getStartDate(), booking.getReturnDate());\n        assert.notDeepEqual(booking.getStartDate(), booking.getEndDate());\n        if (!booking.getReturnDate()) {\n            assert.isAbove(booking.getReturnDate().getTime(), booking.getStartDate().getTime());\n        }\n        assert.isAbove(booking.getEndDate().getTime(), booking.getStartDate().getTime());\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffd7936e-3d44-42eb-96ac-b9e570182adf&quot;,&quot;parentUUID&quot;:&quot;6bd83f11-f1e4-4eb6-9f65-d210ab7a03d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3b48daf2-2df5-48a2-b9c0-6a20f6c4d622&quot;,&quot;cf56e4ed-0c8e-409d-82f1-eeeea9c44bc1&quot;,&quot;ffd7936e-3d44-42eb-96ac-b9e570182adf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;90c1d585-9ef4-45ac-a1d4-04d8ca7cee9d&quot;,&quot;title&quot;:&quot;Tests on getAllReservationsDevice() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getAllReservationsDevice() method The result type must be an array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAllReservationsDevice(\&quot;AN002\&quot;);\n    assert.isTrue(Array.isArray(result));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4caf3ace-6f12-449e-b6a5-c665e46ef93f&quot;,&quot;parentUUID&quot;:&quot;90c1d585-9ef4-45ac-a1d4-04d8ca7cee9d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The id reservation must be positive&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getAllReservationsDevice() method The id reservation must be positive&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAllReservationsDevice(\&quot;AN002\&quot;);\n    result.forEach((reservation) =&gt; {\n        assert.isAbove(reservation.getID(), 0);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5803210-6308-4af1-9e76-5e4aa4cce6f2&quot;,&quot;parentUUID&quot;:&quot;90c1d585-9ef4-45ac-a1d4-04d8ca7cee9d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The start date must be earlier than the two others&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on getAllReservationsDevice() method The start date must be earlier than the two others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAllReservationsDevice(\&quot;AN002\&quot;);\n    result.forEach(function (booking) {\n        assert.notDeepEqual(booking.getStartDate(), booking.getReturnDate());\n        assert.notDeepEqual(booking.getStartDate(), booking.getEndDate());\n        assert.isAbove(booking.getReturnDate().getTime(), booking.getStartDate().getTime());\n        assert.isAbove(booking.getEndDate().getTime(), booking.getStartDate().getTime());\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af9832e7-7230-48a7-85c7-d2497eed4e66&quot;,&quot;parentUUID&quot;:&quot;90c1d585-9ef4-45ac-a1d4-04d8ca7cee9d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4caf3ace-6f12-449e-b6a5-c665e46ef93f&quot;,&quot;f5803210-6308-4af1-9e76-5e4aa4cce6f2&quot;,&quot;af9832e7-7230-48a7-85c7-d2497eed4e66&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e4272fbd-e952-4634-920b-e2b7479ecd66&quot;,&quot;title&quot;:&quot;Tests on hasReservationWithInfos() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_reservation_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_reservation_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;An existing reservation must be seen in the database&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on hasReservationWithInfos() method An existing reservation must be seen in the database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.hasReservationWithInfos(\&quot;AN001\&quot;, new Date(2021, 0, 5), new Date(2021, 0, 8));\n    expect(result).to.be.true;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de235c30-e420-4469-adee-3e1382a5b647&quot;,&quot;parentUUID&quot;:&quot;e4272fbd-e952-4634-920b-e2b7479ecd66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;An inexisting reservation must not appear in the database&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_reservation.ts Tests on hasReservationWithInfos() method An inexisting reservation must not appear in the database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN003\&quot;, new Date(2021, 0, 5), new Date(2021, 0, 8))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN001\&quot;, new Date(2021, 0, 1), new Date(2021, 0, 4))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN001\&quot;, new Date(2021, 1, 9), new Date(2021, 1, 20))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN003\&quot;, new Date(2021, 0, 6), new Date(2021, 0, 8))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN003\&quot;, new Date(2021, 0, 5), new Date(2021, 1, 12))).to.be.false;\n    expect(yield DAOTested.hasReservationWithInfos(\&quot;AN003\&quot;, new Date(2021, 2, 27), new Date(2021, 0, 8))).to.be.false;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59608d45-7374-4798-a469-a3c32fe3db40&quot;,&quot;parentUUID&quot;:&quot;e4272fbd-e952-4634-920b-e2b7479ecd66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;de235c30-e420-4469-adee-3e1382a5b647&quot;,&quot;59608d45-7374-4798-a469-a3c32fe3db40&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5fd857d8-7dba-46bc-880a-16fc2aee60d1&quot;,&quot;title&quot;:&quot;Tests on dao_user.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Tests on dao_user.ts\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts \&quot;before all\&quot; hook in \&quot;Tests on dao_user.ts\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bb4d263-dc7f-417a-839e-8ef40135681e&quot;,&quot;parentUUID&quot;:&quot;5fd857d8-7dba-46bc-880a-16fc2aee60d1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;bc094bee-2996-4754-a4f6-662cef57d288&quot;,&quot;title&quot;:&quot;Tests on getAll() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The result type must be an array of user&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getAll() method The result type must be an array of user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAll();\n    expect(Array.isArray(result)).to.equal(true);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19e870a9-20f3-4cd1-ac1b-923cb880b86e&quot;,&quot;parentUUID&quot;:&quot;bc094bee-2996-4754-a4f6-662cef57d288&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The users must have a 7 characters ID&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getAll() method The users must have a 7 characters ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAll();\n    result.map((user) =&gt; {\n        assert.equal(user.getId().length, 7);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99fffb4b-be16-46e8-b5f5-0f9a2cd7f261&quot;,&quot;parentUUID&quot;:&quot;bc094bee-2996-4754-a4f6-662cef57d288&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The users must not have empty names or surname&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getAll() method The users must not have empty names or surname&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAll();\n    result.map((user) =&gt; {\n        assert.isNotEmpty(user.getFirstName());\n        assert.isNotEmpty(user.getLastName());\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c555e3b-63e2-4b3f-8824-d18559b31466&quot;,&quot;parentUUID&quot;:&quot;bc094bee-2996-4754-a4f6-662cef57d288&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The users must have a valid email&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getAll() method The users must have a valid email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getAll();\n    result.map((user) =&gt; {\n        assert.match(user.getEmail(), /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed035e7a-f8f5-4dbb-be9b-10165e907f59&quot;,&quot;parentUUID&quot;:&quot;bc094bee-2996-4754-a4f6-662cef57d288&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;19e870a9-20f3-4cd1-ac1b-923cb880b86e&quot;,&quot;99fffb4b-be16-46e8-b5f5-0f9a2cd7f261&quot;,&quot;8c555e3b-63e2-4b3f-8824-d18559b31466&quot;,&quot;ed035e7a-f8f5-4dbb-be9b-10165e907f59&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6eea14a0-6e73-409d-b318-36c71bb5f1af&quot;,&quot;title&quot;:&quot;Tests on getUser() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The user get must not have empty name or surname&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getUser() method The user get must not have empty name or surname&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUser(\&quot;ABCDEFG\&quot;);\n    assert.isNotEmpty(result.getFirstName());\n    assert.isNotEmpty(result.getLastName());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0751714d-fe37-4961-90dd-01f54c81272d&quot;,&quot;parentUUID&quot;:&quot;6eea14a0-6e73-409d-b318-36c71bb5f1af&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The user must have a valid email&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getUser() method The user must have a valid email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getUser(\&quot;ABCDEFG\&quot;);\n    assert.match(result.getEmail(), /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2fa76012-4be8-4fa9-956d-9b6a6ccacfe9&quot;,&quot;parentUUID&quot;:&quot;6eea14a0-6e73-409d-b318-36c71bb5f1af&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0751714d-fe37-4961-90dd-01f54c81272d&quot;,&quot;2fa76012-4be8-4fa9-956d-9b6a6ccacfe9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4cc32ca1-f5c9-43f0-b71f-3a4c117b0b9a&quot;,&quot;title&quot;:&quot;Tests on getLastId() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The last id must not be empty&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on getLastId() method The last id must not be empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const result = yield DAOTested.getLastId();\n    assert.isNotEmpty(result.getId());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7899bacf-cc6b-40be-a60d-5da7534ab98a&quot;,&quot;parentUUID&quot;:&quot;4cc32ca1-f5c9-43f0-b71f-3a4c117b0b9a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7899bacf-cc6b-40be-a60d-5da7534ab98a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b4cf15ee-7845-43fd-bffe-64e5b56df608&quot;,&quot;title&quot;:&quot;Tests on addUser() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;An added user must be seen in a query&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on addUser() method An added user must be seen in a query&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.addUser(usertest, \&quot;test\&quot;)).not.to.be.rejected;\n    const result = yield DAOTested.getUser(\&quot;EEEEEEE\&quot;);\n    assert.equal(result.getFirstName(), \&quot;Tester\&quot;);\n    assert.equal(result.getLastName(), \&quot;Testing\&quot;);\n    assert.equal(result.getEmail(), \&quot;Testtest@gmail.com\&quot;);\n    assert.isFalse(result.isAdmin());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;354cb19c-b8c3-40de-956d-63419cc4ec78&quot;,&quot;parentUUID&quot;:&quot;b4cf15ee-7845-43fd-bffe-64e5b56df608&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;354cb19c-b8c3-40de-956d-63419cc4ec78&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:136,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a2b73874-c0da-444b-993d-ffa42a67db47&quot;,&quot;title&quot;:&quot;Tests on updateUser() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;The modifications made on a user must be seen in queries later&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on updateUser() method The modifications made on a user must be seen in queries later&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    usertest.setAdmin(true);\n    usertest.setEmail(\&quot;secondtest@gmail.com\&quot;);\n    usertest.setFirstName(\&quot;Yohan\&quot;);\n    usertest.setLastName(\&quot;Rousseau\&quot;);\n    usertest.setTemporaryPassword(true);\n    expect(DAOTested.updateUser(usertest)).not.to.be.rejected;\n    const result = yield DAOTested.getUser(usertest.getId());\n    assert.equal(result.getFirstName(), \&quot;Yohan\&quot;);\n    assert.equal(result.getLastName(), \&quot;Rousseau\&quot;);\n    assert.equal(result.getEmail(), \&quot;secondtest@gmail.com\&quot;);\n    assert.isTrue(result.isAdmin());\n    assert.isTrue(result.hasTemporaryPassword());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c459e25-0cf2-4626-a0f7-8e54f9931ca3&quot;,&quot;parentUUID&quot;:&quot;a2b73874-c0da-444b-993d-ffa42a67db47&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0c459e25-0cf2-4626-a0f7-8e54f9931ca3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0559fe3e-f618-493a-ba8f-a7049e8d7453&quot;,&quot;title&quot;:&quot;Tests on authenticate&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Checking the actual password should not throw error&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on authenticate Checking the actual password should not throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.checkUser(usertest.getEmail(), \&quot;test\&quot;)).not.to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c2fde94-6028-4c3d-918e-89d741550bc2&quot;,&quot;parentUUID&quot;:&quot;0559fe3e-f618-493a-ba8f-a7049e8d7453&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Changing the password and checking it should not throw error&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on authenticate Changing the password and checking it should not throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:96,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.changePassword(usertest.getEmail(), \&quot;newtest\&quot;)).not.to.be.rejected;\n    expect(DAOTested.checkUser(usertest.getEmail(), \&quot;newtest\&quot;)).not.to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae048f02-7f43-455f-b515-4d8a8333dd50&quot;,&quot;parentUUID&quot;:&quot;0559fe3e-f618-493a-ba8f-a7049e8d7453&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8c2fde94-6028-4c3d-918e-89d741550bc2&quot;,&quot;ae048f02-7f43-455f-b515-4d8a8333dd50&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:97,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;481c883e-a9c6-4e54-b0ef-0eaa518ed97a&quot;,&quot;title&quot;:&quot;Tests on deleteUser() method&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/daotests/dao_user_test.ts&quot;,&quot;file&quot;:&quot;/tests/daotests/dao_user_test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;A deleted user cannot be seen in a query&quot;,&quot;fullTitle&quot;:&quot;Tests on dao_user.ts Tests on deleteUser() method A deleted user cannot be seen in a query&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    expect(DAOTested.deleteUser(usertest.getId())).not.to.be.rejected;\n    expect(DAOTested.getUser(usertest.getId())).to.be.rejected;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cfd030c-5f30-4026-b162-c1d5536bfc31&quot;,&quot;parentUUID&quot;:&quot;481c883e-a9c6-4e54-b0ef-0eaa518ed97a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4cfd030c-5f30-4026-b162-c1d5536bfc31&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8e1cb29e-01ac-4276-9d94-d5b220a23f25&quot;,&quot;title&quot;:&quot;Tests on category.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/categorytest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/categorytest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Category Creation&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Category Creation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.assert.equal(catTested.getID(), 1);\nchai_1.assert.equal(catTested.getName(), \&quot;Test\&quot;);\nchai_1.assert.isArray(catTested.getDevices());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a376b49-f66c-41ac-bf4c-38a3218d4f77&quot;,&quot;parentUUID&quot;:&quot;8e1cb29e-01ac-4276-9d94-d5b220a23f25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Id Modification&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Id Modification&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;catTested.setID(2);\nchai_1.assert.equal(catTested.getID(), 2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6779e914-af33-454a-bfc5-43cc56fb4193&quot;,&quot;parentUUID&quot;:&quot;8e1cb29e-01ac-4276-9d94-d5b220a23f25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Name Modification&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Name Modification&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;catTested.setName(\&quot;Lafont\&quot;);\nchai_1.assert.equal(catTested.getName(), \&quot;Lafont\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffb4fa55-faeb-4dc0-9aa5-59779af07254&quot;,&quot;parentUUID&quot;:&quot;8e1cb29e-01ac-4276-9d94-d5b220a23f25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c440a592-7896-45af-ade6-f19811078d90&quot;,&quot;title&quot;:&quot;Testing the exceptions&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/categorytest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/categorytest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Setting too long names should throw exception&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Testing the exceptions Setting too long names should throw exception&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const stringTest = \&quot;testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttestvtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttestvtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttest\&quot;;\nchai_1.expect(catTested.setName.bind(catTested, stringTest)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;567b04f6-c5b9-4689-b579-2b47dcafa823&quot;,&quot;parentUUID&quot;:&quot;c440a592-7896-45af-ade6-f19811078d90&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting empty names should throw exception&quot;,&quot;fullTitle&quot;:&quot;Tests on category.ts Testing the exceptions Setting empty names should throw exception&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const stringTest = \&quot;\&quot;;\nchai_1.expect(catTested.setName.bind(catTested, stringTest)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f7c724e-eba5-4f3c-a625-d33aa6c4fbb0&quot;,&quot;parentUUID&quot;:&quot;c440a592-7896-45af-ade6-f19811078d90&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;567b04f6-c5b9-4689-b579-2b47dcafa823&quot;,&quot;6f7c724e-eba5-4f3c-a625-d33aa6c4fbb0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;3a376b49-f66c-41ac-bf4c-38a3218d4f77&quot;,&quot;6779e914-af33-454a-bfc5-43cc56fb4193&quot;,&quot;ffb4fa55-faeb-4dc0-9aa5-59779af07254&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6885cb60-7ebf-4b3c-9ff2-7cda8b4cfa24&quot;,&quot;title&quot;:&quot;Test on device.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/devicetests.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/devicetests.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Device Creation test&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Device Creation test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.assert.equal(devTested.getRef(), \&quot;test1\&quot;);\nchai_1.assert.equal(devTested.getCategoryID(), 2);\nchai_1.assert.equal(devTested.getCategoryName(), \&quot;Ordinateur\&quot;);\nchai_1.assert.equal(devTested.getName(), \&quot;PremierTest\&quot;);\nchai_1.assert.equal(devTested.getVersion(), \&quot;1.0\&quot;);\nchai_1.assert.equal(devTested.getPhoto(), \&quot;url\&quot;);\nchai_1.assert.equal(devTested.getPhone(), \&quot;0707070707\&quot;);\nchai_1.assert.isTrue(Array.isArray(devTested.getLockDays()));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ada17ae3-d3d4-458e-a0f0-e57a7cf827c4&quot;,&quot;parentUUID&quot;:&quot;6885cb60-7ebf-4b3c-9ff2-7cda8b4cfa24&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Device Modification test&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Device Modification test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;devTested.setRef(\&quot;modif\&quot;);\n//devTested.setCategory(\&quot;Phone\&quot;);\ndevTested.setName(\&quot;ModifTest\&quot;);\ndevTested.setVersion(\&quot;1.1\&quot;);\ndevTested.setPhoto(\&quot;url2\&quot;);\ndevTested.setPhone(\&quot;0707070708\&quot;);\nchai_1.assert.equal(devTested.getRef(), \&quot;modif\&quot;);\n//assert.equal(devTested.getCategory(),\&quot;Phone\&quot;);\nchai_1.assert.equal(devTested.getName(), \&quot;ModifTest\&quot;);\nchai_1.assert.equal(devTested.getVersion(), \&quot;1.1\&quot;);\nchai_1.assert.equal(devTested.getPhoto(), \&quot;url2\&quot;);\nchai_1.assert.equal(devTested.getPhone(), \&quot;0707070708\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7d2d462-6458-4462-8d88-feefb9537279&quot;,&quot;parentUUID&quot;:&quot;6885cb60-7ebf-4b3c-9ff2-7cda8b4cfa24&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7ee03f23-3b1d-4920-ae0d-54854f3020fd&quot;,&quot;title&quot;:&quot;Constructor tests&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/devicetests.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/devicetests.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Create a device with invalid references should throw error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Constructor tests Create a device with invalid references should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; new device_1.default(\&quot;test\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Second test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;0778787878\&quot;)).to.throw(Error);\nchai_1.expect(() =&gt; new device_1.default(\&quot;test33\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Third test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;0778787878\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8785db1c-4965-4acd-adc9-b6e589ddf0c3&quot;,&quot;parentUUID&quot;:&quot;7ee03f23-3b1d-4920-ae0d-54854f3020fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Create a device with an invalid phone number should throw an error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Constructor tests Create a device with an invalid phone number should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    chai_1.expect(() =&gt; new device_1.default(\&quot;test8\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Phone Number test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;+337787878787878787878787878\&quot;)).to.throw(Error);\n    chai_1.expect(() =&gt; new device_1.default(\&quot;test9\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Phone Number test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;++3377878787878\&quot;)).to.throw(Error);\n    chai_1.expect(() =&gt; new device_1.default(\&quot;test10\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Phone Number test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;842+54161654196\&quot;)).to.throw(Error);\n    chai_1.expect(() =&gt; new device_1.default(\&quot;test11\&quot;, 1, \&quot;Téléphones\&quot;, \&quot;Phone Number test\&quot;, \&quot;1.0\&quot;, \&quot;\&quot;, \&quot;te\&quot;)).to.throw(Error);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58fbed14-822f-4a57-a34a-9f656f912728&quot;,&quot;parentUUID&quot;:&quot;7ee03f23-3b1d-4920-ae0d-54854f3020fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8785db1c-4965-4acd-adc9-b6e589ddf0c3&quot;,&quot;58fbed14-822f-4a57-a34a-9f656f912728&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;273f5c39-0371-44df-8542-f1912d35b090&quot;,&quot;title&quot;:&quot;Testing the exceptions&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/devicetests.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/devicetests.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Setting a reference with higher or lower lenght than 5 should throw error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Testing the exceptions Setting a reference with higher or lower lenght than 5 should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const stringRef = \&quot;reftest\&quot;;\nchai_1.expect(devTested.setRef.bind(devTested, stringRef)).to.throw(\&quot;Invalid reference\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bfd42212-1bbc-4303-ab5d-ffab502a6701&quot;,&quot;parentUUID&quot;:&quot;273f5c39-0371-44df-8542-f1912d35b090&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting a wrong size Name should throw error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Testing the exceptions Setting a wrong size Name should throw error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let stringName = \&quot;\&quot;;\nchai_1.expect(devTested.setName.bind(devTested, stringName)).to.throw(\&quot;Invalid name\&quot;);\nstringName = \&quot;trentre et plus de noms pour le test\&quot;;\nchai_1.expect(devTested.setName.bind(devTested, stringName)).to.throw(\&quot;Invalid name\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83b758da-9d9a-42f9-ac32-69866a22d8cf&quot;,&quot;parentUUID&quot;:&quot;273f5c39-0371-44df-8542-f1912d35b090&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting a wrong version number size should throw an error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Testing the exceptions Setting a wrong version number size should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let stringVersion = \&quot;1\&quot;;\nchai_1.expect(devTested.setVersion.bind(devTested, stringVersion)).to.throw(\&quot;Invalid version\&quot;);\nstringVersion = \&quot;11\&quot;;\nchai_1.expect(devTested.setVersion.bind(devTested, stringVersion)).to.throw(\&quot;Invalid version\&quot;);\nstringVersion = \&quot;8888888888.88888888888888888888\&quot;;\nchai_1.expect(devTested.setVersion.bind(devTested, stringVersion)).to.throw(\&quot;Invalid version\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3c67a39-f740-4fb3-9966-fd15025ab9a6&quot;,&quot;parentUUID&quot;:&quot;273f5c39-0371-44df-8542-f1912d35b090&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting a too long phone number size should throw an error&quot;,&quot;fullTitle&quot;:&quot;Test on device.ts Testing the exceptions Setting a too long phone number size should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const stringVersion = \&quot;123456789102487\&quot;; //15 caracters maximum, to respect the +999787878787 form\nchai_1.expect(devTested.setPhone.bind(devTested, stringVersion)).to.throw(\&quot;Invalid phone\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0981805-1d87-4093-a39b-104e63c97acd&quot;,&quot;parentUUID&quot;:&quot;273f5c39-0371-44df-8542-f1912d35b090&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bfd42212-1bbc-4303-ab5d-ffab502a6701&quot;,&quot;83b758da-9d9a-42f9-ac32-69866a22d8cf&quot;,&quot;e3c67a39-f740-4fb3-9966-fd15025ab9a6&quot;,&quot;d0981805-1d87-4093-a39b-104e63c97acd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;ada17ae3-d3d4-458e-a0f0-e57a7cf827c4&quot;,&quot;f7d2d462-6458-4462-8d88-feefb9537279&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fb2d22c3-2456-4d59-b785-28ac22e3746e&quot;,&quot;title&quot;:&quot;Tests on reservation.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/reservationtest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/reservationtest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Reservation creation&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Reservation creation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reservation = new reservation_1.default(1, deviceRef, userId, startDate, endDate, returnDate);\nchai_1.assert.equal(reservation.getID(), 1);\nchai_1.assert.equal(reservation.getDevice(), deviceRef);\nchai_1.assert.equal(reservation.getUserID(), userId);\nchai_1.assert.equal(reservation.getStartDate().toISOString(), startDateISO);\nchai_1.assert.equal(reservation.getEndDate().toISOString(), endDateISO);\nchai_1.assert.isTrue(reservation.hasReturnDate());\nchai_1.assert.equal(reservation.getReturnDate().toISOString(), returnDateISO);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;296d3af2-9a0f-492e-94de-d4d48eb286fd&quot;,&quot;parentUUID&quot;:&quot;fb2d22c3-2456-4d59-b785-28ac22e3746e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reservation creation without return date&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Reservation creation without return date&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reservation = new reservation_1.default(1, deviceRef, userId, startDate, endDate);\nchai_1.assert.equal(reservation.getID(), 1);\nchai_1.assert.equal(reservation.getDevice(), deviceRef);\nchai_1.assert.equal(reservation.getUserID(), userId);\nchai_1.assert.equal(reservation.getStartDate().toISOString(), startDateISO);\nchai_1.assert.equal(reservation.getEndDate().toISOString(), endDateISO);\nchai_1.assert.isFalse(reservation.hasReturnDate());\nchai_1.expect(reservation.getReturnDate).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;409ef2fe-67fb-43b5-8ddc-6ae695b11ffd&quot;,&quot;parentUUID&quot;:&quot;fb2d22c3-2456-4d59-b785-28ac22e3746e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid ID throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid ID throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; new reservation_1.default(-1, deviceRef, userId, startDate, endDate)).to.throw(\&quot;Invalid ID\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38bba89e-afd9-46f7-a8ea-3f7b9329735e&quot;,&quot;parentUUID&quot;:&quot;fb2d22c3-2456-4d59-b785-28ac22e3746e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid device reference throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid device reference throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; new reservation_1.default(1, \&quot;PASVALIDE\&quot;, userId, startDate, endDate)).to.throw(\&quot;Invalid device reference\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;deee9547-9e6b-4113-a257-cdd65cd7b0df&quot;,&quot;parentUUID&quot;:&quot;fb2d22c3-2456-4d59-b785-28ac22e3746e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid user id throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid user id throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, \&quot;INVAL\&quot;, startDate, endDate)).to.throw(\&quot;Invalid user id\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bfbe565a-2397-4bd8-a965-0cd2901587e2&quot;,&quot;parentUUID&quot;:&quot;fb2d22c3-2456-4d59-b785-28ac22e3746e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid start date throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid start date throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const errMsg = \&quot;Invalid start date\&quot;;\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, \&quot;jenefaispas10caracteresdelong\&quot;, endDate)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, \&quot;0123456789\&quot;, endDate)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, \&quot;0-20-0\&quot;, endDate)).to.throw(errMsg);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a44db875-2b00-4a02-a4f6-e38f04865f69&quot;,&quot;parentUUID&quot;:&quot;fb2d22c3-2456-4d59-b785-28ac22e3746e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid end date throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid end date throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const errMsg = \&quot;Invalid end date\&quot;;\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, \&quot;jenefaispas10caracteresdelong\&quot;)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, \&quot;0123456789\&quot;)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, \&quot;0-20-0\&quot;)).to.throw(errMsg);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fcd41822-e1de-41dd-8486-ee97aaed2783&quot;,&quot;parentUUID&quot;:&quot;fb2d22c3-2456-4d59-b785-28ac22e3746e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Invalid return date throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Invalid return date throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const errMsg = \&quot;Invalid return date\&quot;;\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, endDate, \&quot;jenefaispas10caracteresdelong\&quot;)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, endDate, \&quot;0123456789\&quot;)).to.throw(errMsg);\nchai_1.expect(() =&gt; new reservation_1.default(1, deviceRef, userId, startDate, endDate, \&quot;0-20-0\&quot;)).to.throw(errMsg);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f38a382e-dd91-4cc6-b385-36f04c6e0bb5&quot;,&quot;parentUUID&quot;:&quot;fb2d22c3-2456-4d59-b785-28ac22e3746e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Return date can be empty&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Return date can be empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reservation = new reservation_1.default(1, deviceRef, userId, startDate, endDate, \&quot;\&quot;);\nchai_1.assert.isFalse(reservation.hasReturnDate());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c02787a2-5a7c-4d11-8f11-ef79b917a822&quot;,&quot;parentUUID&quot;:&quot;fb2d22c3-2456-4d59-b785-28ac22e3746e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Method convertDate works&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Method convertDate works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.assert.equal(reservation_1.default.convertDate(new Date(startDateISO)), startDate);\nchai_1.assert.equal(reservation_1.default.convertDate(new Date(endDateISO)), endDate);\nchai_1.assert.equal(reservation_1.default.convertDate(new Date(returnDateISO)), returnDate);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12df68a4-4a32-42f9-bb82-0ba98f5f23db&quot;,&quot;parentUUID&quot;:&quot;fb2d22c3-2456-4d59-b785-28ac22e3746e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Generate correct lockDays&quot;,&quot;fullTitle&quot;:&quot;Tests on reservation.ts Generate correct lockDays&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reservation1 = new reservation_1.default(1, deviceRef, userId, startDate, endDate);\nchai_1.expect(reservation1.getLockDays()).to.deep.equal([startDate, endDate]);\nconst reservation2 = new reservation_1.default(1, deviceRef, userId, startDate, returnDate);\nchai_1.expect(reservation2.getLockDays()).to.deep.equal([startDate, returnDate]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d776db89-9b92-4730-b229-ff246c3bb954&quot;,&quot;parentUUID&quot;:&quot;fb2d22c3-2456-4d59-b785-28ac22e3746e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;296d3af2-9a0f-492e-94de-d4d48eb286fd&quot;,&quot;409ef2fe-67fb-43b5-8ddc-6ae695b11ffd&quot;,&quot;38bba89e-afd9-46f7-a8ea-3f7b9329735e&quot;,&quot;deee9547-9e6b-4113-a257-cdd65cd7b0df&quot;,&quot;bfbe565a-2397-4bd8-a965-0cd2901587e2&quot;,&quot;a44db875-2b00-4a02-a4f6-e38f04865f69&quot;,&quot;fcd41822-e1de-41dd-8486-ee97aaed2783&quot;,&quot;f38a382e-dd91-4cc6-b385-36f04c6e0bb5&quot;,&quot;c02787a2-5a7c-4d11-8f11-ef79b917a822&quot;,&quot;12df68a4-4a32-42f9-bb82-0ba98f5f23db&quot;,&quot;d776db89-9b92-4730-b229-ff246c3bb954&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f364d2bb-15c4-48e1-8a28-b104cc923f5d&quot;,&quot;title&quot;:&quot;Tests on user.ts&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/usertest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/usertest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;User Creation test&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts User Creation test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.assert.equal(userTested.getId(), \&quot;0000001\&quot;);\nchai_1.assert.equal(userTested.getFirstName(), \&quot;Test\&quot;);\nchai_1.assert.equal(userTested.getLastName(), \&quot;UserTest\&quot;);\nchai_1.assert.equal(userTested.getEmail(), \&quot;test@gmail.com\&quot;);\nchai_1.assert.equal(userTested.isAdmin(), false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b976438-c7dd-468a-97e6-36f49169b9d3&quot;,&quot;parentUUID&quot;:&quot;f364d2bb-15c4-48e1-8a28-b104cc923f5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Device Modification test&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Device Modification test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userTested.setId(\&quot;0000002\&quot;);\nuserTested.setFirstName(\&quot;Milan\&quot;);\nuserTested.setLastName(\&quot;Bourbe\&quot;);\nuserTested.setEmail(\&quot;MilanBourbe@guez.com\&quot;);\nuserTested.setAdmin(true);\nchai_1.assert.equal(userTested.getId(), \&quot;0000002\&quot;);\nchai_1.assert.equal(userTested.getFirstName(), \&quot;Milan\&quot;);\nchai_1.assert.equal(userTested.getLastName(), \&quot;Bourbe\&quot;);\nchai_1.assert.equal(userTested.getEmail(), \&quot;MilanBourbe@guez.com\&quot;);\nchai_1.assert.equal(userTested.isAdmin(), true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d490370b-228b-4bf5-a3dd-7a8993ed908c&quot;,&quot;parentUUID&quot;:&quot;f364d2bb-15c4-48e1-8a28-b104cc923f5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f0e93afd-2eaa-47ff-b08e-564d790dec4b&quot;,&quot;title&quot;:&quot;Testing exceptions&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/modeltests/usertest.ts&quot;,&quot;file&quot;:&quot;/tests/modeltests/usertest.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Setting an ID lower than 0 should throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Testing exceptions Setting an ID lower than 0 should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(userTested.setId.bind(userTested, \&quot;-1\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34b3d4d3-7d70-49f5-a47e-9028f1215b65&quot;,&quot;parentUUID&quot;:&quot;f0e93afd-2eaa-47ff-b08e-564d790dec4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting an empty firstname should throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Testing exceptions Setting an empty firstname should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(userTested.setFirstName.bind(userTested, \&quot;\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7580111a-f465-4456-8aa6-dc57d51f3214&quot;,&quot;parentUUID&quot;:&quot;f0e93afd-2eaa-47ff-b08e-564d790dec4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting an empty Lastname should throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Testing exceptions Setting an empty Lastname should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(userTested.setLastName.bind(userTested, \&quot;\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de9305c2-a324-48df-a156-9831f487113b&quot;,&quot;parentUUID&quot;:&quot;f0e93afd-2eaa-47ff-b08e-564d790dec4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Setting an invalid email form should throw an error&quot;,&quot;fullTitle&quot;:&quot;Tests on user.ts Testing exceptions Setting an invalid email form should throw an error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(userTested.setEmail.bind(userTested, \&quot;test@test@test.fr\&quot;)).to.throw(Error);\nchai_1.expect(userTested.setEmail.bind(userTested, \&quot;testtesttest.fr\&quot;)).to.throw(Error);\nchai_1.expect(userTested.setEmail.bind(userTested, \&quot;test@.test@test.fr\&quot;)).to.throw(Error);\nchai_1.expect(userTested.setEmail.bind(userTested, \&quot;test.test@testfr\&quot;)).to.throw(Error);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62a58bea-3034-47a6-86ef-9bec53229b4f&quot;,&quot;parentUUID&quot;:&quot;f0e93afd-2eaa-47ff-b08e-564d790dec4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;34b3d4d3-7d70-49f5-a47e-9028f1215b65&quot;,&quot;7580111a-f465-4456-8aa6-dc57d51f3214&quot;,&quot;de9305c2-a324-48df-a156-9831f487113b&quot;,&quot;62a58bea-3034-47a6-86ef-9bec53229b4f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;7b976438-c7dd-468a-97e6-36f49169b9d3&quot;,&quot;d490370b-228b-4bf5-a3dd-7a8993ed908c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e3edee66-5abb-4810-9cc4-cf28d8bd6e66&quot;,&quot;title&quot;:&quot;POST /auth/login&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/auth_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/auth_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;POST /auth/login\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login \&quot;before all\&quot; hook in \&quot;POST /auth/login\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0057e31c-40d1-443e-b441-680151fc4b13&quot;,&quot;parentUUID&quot;:&quot;e3edee66-5abb-4810-9cc4-cf28d8bd6e66&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;authentification works&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login authentification works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/login&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    password: \&quot;fromage\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    var _a;\n    if (!res.body.auth)\n        throw new Error(\&quot;No field &#x27;auth&#x27; specified\&quot;);\n    if (!res.body.token || res.body.token.length == 0)\n        throw new Error(\&quot;Empty token returned\&quot;);\n    if (!res.body.user || res.body.user.id !== \&quot;ABCDEFG\&quot;)\n        throw new Error(\&quot;Invalid user returned\&quot;);\n    const token = ((_a = res.body.token) === null || _a === void 0 ? void 0 : _a.toString()) || \&quot;\&quot;;\n    const decoded = jwt.verify(token, config.jwtSecret);\n    const id = decoded[&#x27;id&#x27;] || \&quot;\&quot;;\n    if (!decoded || id != \&quot;ABCDEFG\&quot;)\n        throw new Error(\&quot;Invalid token\&quot;);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a65833b6-e13e-4361-8cde-41c4da486216&quot;,&quot;parentUUID&quot;:&quot;e3edee66-5abb-4810-9cc4-cf28d8bd6e66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when already have a token&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login responds error when already have a token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/login&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    password: \&quot;fromage\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;You already have a token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ddcc3b94-b54f-40f1-98f8-aaf1ca85b12b&quot;,&quot;parentUUID&quot;:&quot;e3edee66-5abb-4810-9cc4-cf28d8bd6e66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when email is invalid&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login responds error when email is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/login&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;paslabonneadresse@mail.fr\&quot;,\n    password: \&quot;fromage\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name or password\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;973e953d-fc1b-4ba5-bc63-00daa35d34d1&quot;,&quot;parentUUID&quot;:&quot;e3edee66-5abb-4810-9cc4-cf28d8bd6e66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when password is invalid&quot;,&quot;fullTitle&quot;:&quot;POST /auth/login responds error when password is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/login&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    password: \&quot;paslebonmdp\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name or password\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed588bff-62c3-4d6f-a811-29528885b7e8&quot;,&quot;parentUUID&quot;:&quot;e3edee66-5abb-4810-9cc4-cf28d8bd6e66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a65833b6-e13e-4361-8cde-41c4da486216&quot;,&quot;ddcc3b94-b54f-40f1-98f8-aaf1ca85b12b&quot;,&quot;973e953d-fc1b-4ba5-bc63-00daa35d34d1&quot;,&quot;ed588bff-62c3-4d6f-a811-29528885b7e8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:255,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;58b25a7e-13df-4c2e-9314-4b74976dad27&quot;,&quot;title&quot;:&quot;POST /auth/password/change&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/auth_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/auth_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /auth/password/change\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change \&quot;before each\&quot; hook in \&quot;POST /auth/password/change\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ec331e7-f022-452d-a239-8f9a4440b0d8&quot;,&quot;parentUUID&quot;:&quot;58b25a7e-13df-4c2e-9314-4b74976dad27&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error if new password is empty&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error if new password is empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/password/change&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    oldPassword: \&quot;fromage\&quot;,\n    newPassword: \&quot;\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;New password can&#x27;t be empty\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;391b46f0-b1c5-4141-a0fa-fc19e8a66444&quot;,&quot;parentUUID&quot;:&quot;58b25a7e-13df-4c2e-9314-4b74976dad27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error if old password is incorrect&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error if old password is incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:106,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/password/change&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    oldPassword: \&quot;paslebon\&quot;,\n    newPassword: \&quot;salade\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name or old password\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8d79233-11a2-4b5c-bbf5-ff43e41000b7&quot;,&quot;parentUUID&quot;:&quot;58b25a7e-13df-4c2e-9314-4b74976dad27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error if email is incorrect&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error if email is incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/password/change&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .send({\n    email: \&quot;paslebon@mail.fr\&quot;,\n    oldPassword: \&quot;fromage\&quot;,\n    newPassword: \&quot;salade\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name or old password\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5eceb551-0a3d-44d7-8297-492d49dd88b4&quot;,&quot;parentUUID&quot;:&quot;58b25a7e-13df-4c2e-9314-4b74976dad27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8f9117e-382c-4b3b-8ecf-206e454bb423&quot;,&quot;parentUUID&quot;:&quot;58b25a7e-13df-4c2e-9314-4b74976dad27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c9484b1-816c-4cf6-a95a-86af455a6406&quot;,&quot;parentUUID&quot;:&quot;58b25a7e-13df-4c2e-9314-4b74976dad27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid user ID token&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change responds error with invalid user ID token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:99,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, token)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid user\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25cbd84e-fd18-4d13-b72c-66093105638c&quot;,&quot;parentUUID&quot;:&quot;58b25a7e-13df-4c2e-9314-4b74976dad27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;password change works&quot;,&quot;fullTitle&quot;:&quot;POST /auth/password/change password change works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:204,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/auth/password/change&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    email: \&quot;lilianb@mail.fr\&quot;,\n    oldPassword: \&quot;fromage\&quot;,\n    newPassword: \&quot;salade\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, {\n    success: true,\n    user: {\n        id: \&quot;ABCDEFG\&quot;,\n        firstName: \&quot;Lilian\&quot;,\n        lastName: \&quot;Bethus\&quot;,\n        email: \&quot;lilianb@mail.fr\&quot;,\n        admin: true,\n        temporaryPassword: false\n    }\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a98bd21-a642-4ed0-acad-ae1eff509737&quot;,&quot;parentUUID&quot;:&quot;58b25a7e-13df-4c2e-9314-4b74976dad27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;391b46f0-b1c5-4141-a0fa-fc19e8a66444&quot;,&quot;d8d79233-11a2-4b5c-bbf5-ff43e41000b7&quot;,&quot;5eceb551-0a3d-44d7-8297-492d49dd88b4&quot;,&quot;a8f9117e-382c-4b3b-8ecf-206e454bb423&quot;,&quot;6c9484b1-816c-4cf6-a95a-86af455a6406&quot;,&quot;25cbd84e-fd18-4d13-b72c-66093105638c&quot;,&quot;2a98bd21-a642-4ed0-acad-ae1eff509737&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:637,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;625b94da-2c02-42ea-a130-296efb86bf6c&quot;,&quot;title&quot;:&quot;PUT /category/add/:category_name&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/category_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/category_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;PUT /category/add/:category_name\&quot;&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name \&quot;before each\&quot; hook in \&quot;PUT /category/add/:category_name\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4d054d5-3886-4241-8e68-b09d34a77dad&quot;,&quot;parentUUID&quot;:&quot;625b94da-2c02-42ea-a130-296efb86bf6c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when too long name is given&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error when too long name is given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/category/add/&#x27; + new Array(257).join(\&quot;A\&quot;))\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d82cc36-67be-4426-9101-b1287e307bfc&quot;,&quot;parentUUID&quot;:&quot;625b94da-2c02-42ea-a130-296efb86bf6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when category name already exists&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error when category name already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/category/add/Ordinateurs&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Category name already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3fe146cd-5766-4df0-ac74-d1a50758b7c8&quot;,&quot;parentUUID&quot;:&quot;625b94da-2c02-42ea-a130-296efb86bf6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a0b7079-033c-46d8-b0c8-e8135dd61f4a&quot;,&quot;parentUUID&quot;:&quot;625b94da-2c02-42ea-a130-296efb86bf6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49420a50-780e-4eed-bdd1-a380408737df&quot;,&quot;parentUUID&quot;:&quot;625b94da-2c02-42ea-a130-296efb86bf6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02b8f4d8-c098-429d-8711-208546a4df92&quot;,&quot;parentUUID&quot;:&quot;625b94da-2c02-42ea-a130-296efb86bf6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;adding category works&quot;,&quot;fullTitle&quot;:&quot;PUT /category/add/:category_name adding category works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/category/add/Test&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f531a480-ff14-440b-82fe-46994fdd9f3f&quot;,&quot;parentUUID&quot;:&quot;625b94da-2c02-42ea-a130-296efb86bf6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7d82cc36-67be-4426-9101-b1287e307bfc&quot;,&quot;3fe146cd-5766-4df0-ac74-d1a50758b7c8&quot;,&quot;0a0b7079-033c-46d8-b0c8-e8135dd61f4a&quot;,&quot;49420a50-780e-4eed-bdd1-a380408737df&quot;,&quot;02b8f4d8-c098-429d-8711-208546a4df92&quot;,&quot;f531a480-ff14-440b-82fe-46994fdd9f3f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8bcdd01f-7256-4f94-be8e-941422fdfd0d&quot;,&quot;title&quot;:&quot;POST /category/modify&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/category_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/category_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /category/modify\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify \&quot;before each\&quot; hook in \&quot;POST /category/modify\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a241a120-adfe-4f39-bc21-51900d4a7a78&quot;,&quot;parentUUID&quot;:&quot;8bcdd01f-7256-4f94-be8e-941422fdfd0d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when not existing category name is given&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error when not existing category name is given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/category/modify&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    oldName: \&quot;Existepas\&quot;,\n    newName: \&quot;Existepasnonplus\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid category name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5af5536-34b8-4bf9-9511-74eb6b240d6a&quot;,&quot;parentUUID&quot;:&quot;8bcdd01f-7256-4f94-be8e-941422fdfd0d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when old name is equals to new name&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error when old name is equals to new name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/category/modify&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    oldName: \&quot;Ordinateurs\&quot;,\n    newName: \&quot;Ordinateurs\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Old name can&#x27;t be the equal to new name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;206a56ec-83ba-4cbc-890e-375bc53c06f6&quot;,&quot;parentUUID&quot;:&quot;8bcdd01f-7256-4f94-be8e-941422fdfd0d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when new name already exists&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error when new name already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/category/modify&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    oldName: \&quot;Ordinateurs\&quot;,\n    newName: \&quot;Téléphones\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;New name is already set for a category\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6250aac-02c4-4872-8e8e-e01fca5b1cff&quot;,&quot;parentUUID&quot;:&quot;8bcdd01f-7256-4f94-be8e-941422fdfd0d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04a65821-b7ca-4c03-a377-ad2bae0149d6&quot;,&quot;parentUUID&quot;:&quot;8bcdd01f-7256-4f94-be8e-941422fdfd0d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b92eef2-0e50-43b4-8862-e119a4fa740c&quot;,&quot;parentUUID&quot;:&quot;8bcdd01f-7256-4f94-be8e-941422fdfd0d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b70b65c-31e1-407b-bfaa-647a1e38ac9c&quot;,&quot;parentUUID&quot;:&quot;8bcdd01f-7256-4f94-be8e-941422fdfd0d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;modifying category works&quot;,&quot;fullTitle&quot;:&quot;POST /category/modify modifying category works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/category/modify&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    oldName: \&quot;Ordinateurs\&quot;,\n    newName: \&quot;Courgette\&quot;\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ad28d38-cb29-41de-86c0-4c92f076a196&quot;,&quot;parentUUID&quot;:&quot;8bcdd01f-7256-4f94-be8e-941422fdfd0d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e5af5536-34b8-4bf9-9511-74eb6b240d6a&quot;,&quot;206a56ec-83ba-4cbc-890e-375bc53c06f6&quot;,&quot;b6250aac-02c4-4872-8e8e-e01fca5b1cff&quot;,&quot;04a65821-b7ca-4c03-a377-ad2bae0149d6&quot;,&quot;5b92eef2-0e50-43b4-8862-e119a4fa740c&quot;,&quot;3b70b65c-31e1-407b-bfaa-647a1e38ac9c&quot;,&quot;4ad28d38-cb29-41de-86c0-4c92f076a196&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;755082c3-98fc-4b0a-b33e-8bc3dcb595ca&quot;,&quot;title&quot;:&quot;POST /category/delete/:id_category&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/category_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/category_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /category/delete/:id_category\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category \&quot;before each\&quot; hook in \&quot;POST /category/delete/:id_category\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b8adb6d-5e64-4b31-8273-cd8db7cf04ad&quot;,&quot;parentUUID&quot;:&quot;755082c3-98fc-4b0a-b33e-8bc3dcb595ca&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when category ID is not a number&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error when category ID is not a number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/category/delete/PASUNNOMBRE&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Category ID is not a number\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;055bff17-615b-4523-9338-e33e50f6f38f&quot;,&quot;parentUUID&quot;:&quot;755082c3-98fc-4b0a-b33e-8bc3dcb595ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when category ID doesnt exists&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error when category ID doesnt exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/category/delete/99&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid category ID\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3917d905-845e-47f4-8a87-3858b91c809f&quot;,&quot;parentUUID&quot;:&quot;755082c3-98fc-4b0a-b33e-8bc3dcb595ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1bd35a16-42b4-4514-b858-04cb533b4b2e&quot;,&quot;parentUUID&quot;:&quot;755082c3-98fc-4b0a-b33e-8bc3dcb595ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;abd71f8b-edaf-4558-a0fc-a904e849ea2a&quot;,&quot;parentUUID&quot;:&quot;755082c3-98fc-4b0a-b33e-8bc3dcb595ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ece37ad-ce0f-4a37-ab07-9999835ab7db&quot;,&quot;parentUUID&quot;:&quot;755082c3-98fc-4b0a-b33e-8bc3dcb595ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;deleting category works&quot;,&quot;fullTitle&quot;:&quot;POST /category/delete/:id_category deleting category works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/category/delete/1&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8597fe58-0c39-4437-bb70-87267afc6bb2&quot;,&quot;parentUUID&quot;:&quot;755082c3-98fc-4b0a-b33e-8bc3dcb595ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;055bff17-615b-4523-9338-e33e50f6f38f&quot;,&quot;3917d905-845e-47f4-8a87-3858b91c809f&quot;,&quot;1bd35a16-42b4-4514-b858-04cb533b4b2e&quot;,&quot;abd71f8b-edaf-4558-a0fc-a904e849ea2a&quot;,&quot;3ece37ad-ce0f-4a37-ab07-9999835ab7db&quot;,&quot;8597fe58-0c39-4437-bb70-87267afc6bb2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:30,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ac557c52-f731-42e3-9d5d-2429b4628df4&quot;,&quot;title&quot;:&quot;GET /devices/all&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /devices/all\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all \&quot;before all\&quot; hook in \&quot;GET /devices/all\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7d28958-44f9-40c7-b418-aa09230e32bd&quot;,&quot;parentUUID&quot;:&quot;ac557c52-f731-42e3-9d5d-2429b4628df4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds with json&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all responds with json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e07a3313-ddd4-48c2-9e75-5392c68296bb&quot;,&quot;parentUUID&quot;:&quot;ac557c52-f731-42e3-9d5d-2429b4628df4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb05453b-2787-4f73-9ea4-7e4666dbc43e&quot;,&quot;parentUUID&quot;:&quot;ac557c52-f731-42e3-9d5d-2429b4628df4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af253ffb-21fb-4517-9e29-b10cac905546&quot;,&quot;parentUUID&quot;:&quot;ac557c52-f731-42e3-9d5d-2429b4628df4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all responds with correct devices informations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: [{\n                    ref: \&quot;AN001\&quot;,\n                    categoryID: 1,\n                    categoryName: \&quot;Téléphones\&quot;,\n                    name: \&quot;Samsung Galaxy S1000\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/30/35/LD0005303584_2.jpg\&quot;,\n                    phone: \&quot;0123456789\&quot;,\n                    lockDays: [\n                        [\&quot;2021-01-05\&quot;, \&quot;2021-01-08\&quot;],\n                        [\&quot;2021-01-09\&quot;, \&quot;2021-02-08\&quot;]\n                    ]\n                }, {\n                    ref: \&quot;AN002\&quot;,\n                    categoryID: 1,\n                    categoryName: \&quot;Téléphones\&quot;,\n                    name: \&quot;Huawei P80\&quot;,\n                    version: \&quot;1.1\&quot;,\n                    photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/39/99/LD0005399909_2.jpg\&quot;,\n                    phone: \&quot;1234567890\&quot;,\n                    lockDays: []\n                }]\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: [{\n                    ref: \&quot;PC001\&quot;,\n                    categoryID: 2,\n                    categoryName: \&quot;Ordinateurs\&quot;,\n                    name: \&quot;Acer Pro Max\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://static.acer.com/up/Resource/Acer/Laptops/Spin_5/Image/20180824/acer-Spin_5_SP513-53N-main.png\&quot;,\n                    phone: \&quot;\&quot;,\n                    lockDays: [\n                        [\&quot;2021-01-04\&quot;, \&quot;2021-02-04\&quot;]\n                    ]\n                }]\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b256e2b1-fdce-41a7-b989-3c04133faeac&quot;,&quot;parentUUID&quot;:&quot;ac557c52-f731-42e3-9d5d-2429b4628df4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e07a3313-ddd4-48c2-9e75-5392c68296bb&quot;,&quot;fb05453b-2787-4f73-9ea4-7e4666dbc43e&quot;,&quot;af253ffb-21fb-4517-9e29-b10cac905546&quot;,&quot;b256e2b1-fdce-41a7-b989-3c04133faeac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;60a9fe89-40ab-4aa4-9917-4dfe8d729bb9&quot;,&quot;title&quot;:&quot;GET /devices/:device_ref&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /devices/:device_ref\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref \&quot;before all\&quot; hook in \&quot;GET /devices/:device_ref\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47fa0d2e-1e4c-47b9-91a0-d580a0e1c094&quot;,&quot;parentUUID&quot;:&quot;60a9fe89-40ab-4aa4-9917-4dfe8d729bb9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds with json&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds with json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/AN001&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e668700-a6d9-4919-aa7f-82d86f27b476&quot;,&quot;parentUUID&quot;:&quot;60a9fe89-40ab-4aa4-9917-4dfe8d729bb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when device reference is invalid&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds error when device reference is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/PASBON&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid device reference\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dbb5ae65-2239-4841-8985-d8bab41ca076&quot;,&quot;parentUUID&quot;:&quot;60a9fe89-40ab-4aa4-9917-4dfe8d729bb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e28a691-9cda-4dc6-9b5f-c94316e18bb6&quot;,&quot;parentUUID&quot;:&quot;60a9fe89-40ab-4aa4-9917-4dfe8d729bb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f0524dd-9758-409d-9766-26697d69a37d&quot;,&quot;parentUUID&quot;:&quot;60a9fe89-40ab-4aa4-9917-4dfe8d729bb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations&quot;,&quot;fullTitle&quot;:&quot;GET /devices/:device_ref responds with correct devices informations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/AN001&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal({\n        ref: \&quot;AN001\&quot;,\n        categoryID: 1,\n        categoryName: \&quot;Téléphones\&quot;,\n        name: \&quot;Samsung Galaxy S1000\&quot;,\n        version: \&quot;1.0\&quot;,\n        photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/30/35/LD0005303584_2.jpg\&quot;,\n        phone: \&quot;0123456789\&quot;,\n        lockDays: [\n            [\&quot;2021-01-05\&quot;, \&quot;2021-01-08\&quot;],\n            [\&quot;2021-01-09\&quot;, \&quot;2021-02-08\&quot;]\n        ]\n    });\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e609410-88bd-43e9-9138-42f641c40629&quot;,&quot;parentUUID&quot;:&quot;60a9fe89-40ab-4aa4-9917-4dfe8d729bb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6e668700-a6d9-4919-aa7f-82d86f27b476&quot;,&quot;dbb5ae65-2239-4841-8985-d8bab41ca076&quot;,&quot;4e28a691-9cda-4dc6-9b5f-c94316e18bb6&quot;,&quot;8f0524dd-9758-409d-9766-26697d69a37d&quot;,&quot;8e609410-88bd-43e9-9138-42f641c40629&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:30,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1d158e80-4ffe-4be5-b17d-77fc64ede95e&quot;,&quot;title&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;...&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /devices/all?filter_name=filter_value&amp;...\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... \&quot;before all\&quot; hook in \&quot;GET /devices/all?filter_name=filter_value&amp;...\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;abf97292-8eca-488d-b8ff-a4ec690eb09f&quot;,&quot;parentUUID&quot;:&quot;1d158e80-4ffe-4be5-b17d-77fc64ede95e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds nothing when device reference is invalid&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds nothing when device reference is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?ref=PABON&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: []\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: []\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83803aa0-296e-4a84-af2b-d6842ff8f5df&quot;,&quot;parentUUID&quot;:&quot;1d158e80-4ffe-4be5-b17d-77fc64ede95e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds nothing when device name is invalid&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds nothing when device name is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?name=PABON&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: []\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: []\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;22d4c491-6d5a-47d0-9f5b-64c20d094a86&quot;,&quot;parentUUID&quot;:&quot;1d158e80-4ffe-4be5-b17d-77fc64ede95e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when device category is invalid&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds error when device category is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?category=PABON&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid category name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8def44db-5374-4b1f-beb9-ea82581179a0&quot;,&quot;parentUUID&quot;:&quot;1d158e80-4ffe-4be5-b17d-77fc64ede95e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1f01218-2f4c-4360-8c7d-8ca4b1ead979&quot;,&quot;parentUUID&quot;:&quot;1d158e80-4ffe-4be5-b17d-77fc64ede95e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0711e915-62e5-4e54-bb88-026440a6c842&quot;,&quot;parentUUID&quot;:&quot;1d158e80-4ffe-4be5-b17d-77fc64ede95e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations with ref only&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds with correct devices informations with ref only&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?ref=AN001&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: [{\n                    ref: \&quot;AN001\&quot;,\n                    categoryID: 1,\n                    categoryName: \&quot;Téléphones\&quot;,\n                    name: \&quot;Samsung Galaxy S1000\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/30/35/LD0005303584_2.jpg\&quot;,\n                    phone: \&quot;0123456789\&quot;,\n                    lockDays: [\n                        [\&quot;2021-01-05\&quot;, \&quot;2021-01-08\&quot;],\n                        [\&quot;2021-01-09\&quot;, \&quot;2021-02-08\&quot;]\n                    ]\n                }]\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: []\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;374b492f-a6fe-419f-8fa1-e8968ecede3a&quot;,&quot;parentUUID&quot;:&quot;1d158e80-4ffe-4be5-b17d-77fc64ede95e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations with name only&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds with correct devices informations with name only&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?name=Samsung Galaxy S1000&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: [{\n                    ref: \&quot;AN001\&quot;,\n                    categoryID: 1,\n                    categoryName: \&quot;Téléphones\&quot;,\n                    name: \&quot;Samsung Galaxy S1000\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://media.ldlc.com/r1600/ld/products/00/05/30/35/LD0005303584_2.jpg\&quot;,\n                    phone: \&quot;0123456789\&quot;,\n                    lockDays: [\n                        [\&quot;2021-01-05\&quot;, \&quot;2021-01-08\&quot;],\n                        [\&quot;2021-01-09\&quot;, \&quot;2021-02-08\&quot;]\n                    ]\n                }]\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: []\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06c2f5c9-f998-4913-a8e8-314a132354ae&quot;,&quot;parentUUID&quot;:&quot;1d158e80-4ffe-4be5-b17d-77fc64ede95e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations with category only&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds with correct devices informations with category only&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?category=Ordinateurs&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: []\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: [{\n                    ref: \&quot;PC001\&quot;,\n                    categoryID: 2,\n                    categoryName: \&quot;Ordinateurs\&quot;,\n                    name: \&quot;Acer Pro Max\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://static.acer.com/up/Resource/Acer/Laptops/Spin_5/Image/20180824/acer-Spin_5_SP513-53N-main.png\&quot;,\n                    phone: \&quot;\&quot;,\n                    lockDays: [[\&quot;2021-01-04\&quot;, \&quot;2021-02-04\&quot;]]\n                }]\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;692a99c8-bd63-4f73-8a73-459c261d05bb&quot;,&quot;parentUUID&quot;:&quot;1d158e80-4ffe-4be5-b17d-77fc64ede95e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct devices informations with all filters&quot;,&quot;fullTitle&quot;:&quot;GET /devices/all?filter_name=filter_value&amp;... responds with correct devices informations with all filters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/devices/all?ref=PC001&amp;name=Acer Pro Max&amp;category=Ordinateurs&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .expect(function (res) {\n    chai_1.expect(res.body).to.deep.equal([{\n            ID: 1,\n            name: \&quot;Téléphones\&quot;,\n            devices: []\n        }, {\n            ID: 2,\n            name: \&quot;Ordinateurs\&quot;,\n            devices: [{\n                    ref: \&quot;PC001\&quot;,\n                    categoryID: 2,\n                    categoryName: \&quot;Ordinateurs\&quot;,\n                    name: \&quot;Acer Pro Max\&quot;,\n                    version: \&quot;1.0\&quot;,\n                    photo: \&quot;https://static.acer.com/up/Resource/Acer/Laptops/Spin_5/Image/20180824/acer-Spin_5_SP513-53N-main.png\&quot;,\n                    phone: \&quot;\&quot;,\n                    lockDays: [[\&quot;2021-01-04\&quot;, \&quot;2021-02-04\&quot;]]\n                }]\n        }, {\n            ID: 3,\n            name: \&quot;Tablettes\&quot;,\n            devices: []\n        }]);\n})\n    .end(done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8e8d26d-ddf0-4ba9-bdbf-e1d0053c6131&quot;,&quot;parentUUID&quot;:&quot;1d158e80-4ffe-4be5-b17d-77fc64ede95e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;83803aa0-296e-4a84-af2b-d6842ff8f5df&quot;,&quot;22d4c491-6d5a-47d0-9f5b-64c20d094a86&quot;,&quot;8def44db-5374-4b1f-beb9-ea82581179a0&quot;,&quot;f1f01218-2f4c-4360-8c7d-8ca4b1ead979&quot;,&quot;0711e915-62e5-4e54-bb88-026440a6c842&quot;,&quot;374b492f-a6fe-419f-8fa1-e8968ecede3a&quot;,&quot;06c2f5c9-f998-4913-a8e8-314a132354ae&quot;,&quot;692a99c8-bd63-4f73-8a73-459c261d05bb&quot;,&quot;d8e8d26d-ddf0-4ba9-bdbf-e1d0053c6131&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:54,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;title&quot;:&quot;POST /devices/borrow/:id_utilisateur&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /devices/borrow/:id_utilisateur\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur \&quot;before each\&quot; hook in \&quot;POST /devices/borrow/:id_utilisateur\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c98b9ea-a404-4bfe-bdc1-b615ea654aaa&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when startDate is after endDate&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when startDate is after endDate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-02-30\&quot;, \&quot;2021-02-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Start date is after end date\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f09d78e-7484-4607-a6d8-07cfb95191d3&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when no commands are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when no commands are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;No commands given\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;792982ba-9807-4276-94e4-78d137ceaa2f&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when no reference are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when no reference are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            loanDays: [\&quot;2021-01-02\&quot;, \&quot;2021-01-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;No reference given\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aeeb3159-d79f-4225-96cc-10a0a0d9216b&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when no loanDays are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when no loanDays are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;No loanDays given\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;989b384c-d21b-4c81-91a7-fd3520e94caf&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when loanDays is not an array&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when loanDays is not an array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: 67\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid loanDays\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;689b7f84-3bf7-413a-a496-ca301d1d7e72&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when less than two loanDays are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when less than two loanDays are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2020-04-12\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid loanDays count\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1fce995-4a56-41cc-b8b7-3041af288be9&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when more than two loanDays are given&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when more than two loanDays are given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2020-04-12\&quot;, \&quot;2020-04-14\&quot;, \&quot;2020-04-16\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid loanDays count\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;106cbace-5b71-4c0c-8c4b-9262356dcf33&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when there already is a reservation in the given period&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when there already is a reservation in the given period&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-01-02\&quot;, \&quot;2021-01-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Reservation already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58a1f830-f65c-47c9-b828-ffef2579834b&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when start date is invalid&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when start date is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;01-s\&quot;, \&quot;2021-01-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid start date\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;611f1ce0-1c99-43b4-8d6b-8c689ef8b008&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when end date is invalid&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error when end date is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-01-20\&quot;, \&quot;20-s\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid end date\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;37874d4c-ba9c-492d-8ff0-6cd06afdd1f5&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a631bb9-4eb2-4e10-9144-181f9cd423bb&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8eb6cd10-4837-4efe-9329-a0a3762f6cdf&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid user ID token&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur responds error with invalid user ID token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, token)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid user\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3de66ed0-2d9e-402f-a2dc-3ccca4bb3630&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;borrow devices works&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur borrow devices works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [{\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-05-05\&quot;, \&quot;2021-05-15\&quot;]\n        }]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f4d4dad-f1e0-4cc1-8634-7f92d8542c8f&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;borrow multiple devices works&quot;,&quot;fullTitle&quot;:&quot;POST /devices/borrow/:id_utilisateur borrow multiple devices works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/devices/borrow/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    commands: [\n        {\n            reference: \&quot;AN001\&quot;,\n            loanDays: [\&quot;2021-05-05\&quot;, \&quot;2021-05-15\&quot;]\n        },\n        {\n            reference: \&quot;AN002\&quot;,\n            loanDays: [\&quot;2021-05-05\&quot;, \&quot;2021-05-15\&quot;]\n        }\n    ]\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc8e5f18-43c8-455a-8eaa-9163011b45b8&quot;,&quot;parentUUID&quot;:&quot;fafa9f82-e733-4461-b7cc-906d58f91775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2f09d78e-7484-4607-a6d8-07cfb95191d3&quot;,&quot;792982ba-9807-4276-94e4-78d137ceaa2f&quot;,&quot;aeeb3159-d79f-4225-96cc-10a0a0d9216b&quot;,&quot;989b384c-d21b-4c81-91a7-fd3520e94caf&quot;,&quot;689b7f84-3bf7-413a-a496-ca301d1d7e72&quot;,&quot;e1fce995-4a56-41cc-b8b7-3041af288be9&quot;,&quot;106cbace-5b71-4c0c-8c4b-9262356dcf33&quot;,&quot;58a1f830-f65c-47c9-b828-ffef2579834b&quot;,&quot;611f1ce0-1c99-43b4-8d6b-8c689ef8b008&quot;,&quot;37874d4c-ba9c-492d-8ff0-6cd06afdd1f5&quot;,&quot;9a631bb9-4eb2-4e10-9144-181f9cd423bb&quot;,&quot;8eb6cd10-4837-4efe-9329-a0a3762f6cdf&quot;,&quot;3de66ed0-2d9e-402f-a2dc-3ccca4bb3630&quot;,&quot;0f4d4dad-f1e0-4cc1-8634-7f92d8542c8f&quot;,&quot;cc8e5f18-43c8-455a-8eaa-9163011b45b8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:92,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cf2f0ccb-4ab5-46c9-9d0d-cdd3443a4eb0&quot;,&quot;title&quot;:&quot;PUT /devices/add/&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;PUT /devices/add/\&quot;&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ \&quot;before each\&quot; hook in \&quot;PUT /devices/add/\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5d58500-3c72-401f-b5d1-95937f4ee992&quot;,&quot;parentUUID&quot;:&quot;cf2f0ccb-4ab5-46c9-9d0d-cdd3443a4eb0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when category name is invalid&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when category name is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;AN003\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;EXISTEPAS\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid category name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57c2be19-2a78-47a6-80cf-c42a267a0ea0&quot;,&quot;parentUUID&quot;:&quot;cf2f0ccb-4ab5-46c9-9d0d-cdd3443a4eb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when reference is invalid&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when reference is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;PASVALIDE\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;Téléphones\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid reference\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c0adf40-7312-4821-99a6-8686e646caf0&quot;,&quot;parentUUID&quot;:&quot;cf2f0ccb-4ab5-46c9-9d0d-cdd3443a4eb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when reference is missing&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when reference is missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;Téléphones\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Missing reference\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97ed37fe-8b85-4d57-b506-d40728128c84&quot;,&quot;parentUUID&quot;:&quot;cf2f0ccb-4ab5-46c9-9d0d-cdd3443a4eb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when category is missing&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when category is missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;AN003\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Missing category name\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1388cc0f-c5dd-4b67-a36e-a0f2423e9a87&quot;,&quot;parentUUID&quot;:&quot;cf2f0ccb-4ab5-46c9-9d0d-cdd3443a4eb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error when reference already exists&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error when reference already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;AN001\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;Téléphones\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(400, {\n    error: true,\n    message: \&quot;Device reference is already used\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10f0fcb6-9148-4c3b-a4bd-98c26d939ff4&quot;,&quot;parentUUID&quot;:&quot;cf2f0ccb-4ab5-46c9-9d0d-cdd3443a4eb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32e9e87c-dcdb-4eb2-b683-5bfc56cb0e6c&quot;,&quot;parentUUID&quot;:&quot;cf2f0ccb-4ab5-46c9-9d0d-cdd3443a4eb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23a3405e-686f-4b93-b6d5-03fe6d551174&quot;,&quot;parentUUID&quot;:&quot;cf2f0ccb-4ab5-46c9-9d0d-cdd3443a4eb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04ed70ea-ab2e-4b8a-b541-64ebe6f7d80e&quot;,&quot;parentUUID&quot;:&quot;cf2f0ccb-4ab5-46c9-9d0d-cdd3443a4eb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;adding device works&quot;,&quot;fullTitle&quot;:&quot;PUT /devices/add/ adding device works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/devices/add&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    ref: \&quot;AN003\&quot;,\n    name: \&quot;Honor 10\&quot;,\n    category: \&quot;Téléphones\&quot;,\n    version: \&quot;1.0\&quot;,\n    photo: \&quot;\&quot;,\n    phone: \&quot;+33606060606\&quot;\n})\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;513dd168-5b12-4148-bd7b-a73a8b4da553&quot;,&quot;parentUUID&quot;:&quot;cf2f0ccb-4ab5-46c9-9d0d-cdd3443a4eb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;57c2be19-2a78-47a6-80cf-c42a267a0ea0&quot;,&quot;2c0adf40-7312-4821-99a6-8686e646caf0&quot;,&quot;97ed37fe-8b85-4d57-b506-d40728128c84&quot;,&quot;1388cc0f-c5dd-4b67-a36e-a0f2423e9a87&quot;,&quot;10f0fcb6-9148-4c3b-a4bd-98c26d939ff4&quot;,&quot;32e9e87c-dcdb-4eb2-b683-5bfc56cb0e6c&quot;,&quot;23a3405e-686f-4b93-b6d5-03fe6d551174&quot;,&quot;04ed70ea-ab2e-4b8a-b541-64ebe6f7d80e&quot;,&quot;513dd168-5b12-4148-bd7b-a73a8b4da553&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:29,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cdb69553-fbcc-4b7f-990e-d358291cff44&quot;,&quot;title&quot;:&quot;DELETE /devices/delete/:device_id&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/device_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/device_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;DELETE /devices/delete/:device_id\&quot;&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id \&quot;before each\&quot; hook in \&quot;DELETE /devices/delete/:device_id\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92d1811d-523e-42ef-b5a2-284ccbe30060&quot;,&quot;parentUUID&quot;:&quot;cdb69553-fbcc-4b7f-990e-d358291cff44&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when device reference is invalid&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id responds error when device reference is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/devices/delete/PASVALID&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid device reference\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65780fe8-1df1-46b2-a7f3-be122f272b9d&quot;,&quot;parentUUID&quot;:&quot;cdb69553-fbcc-4b7f-990e-d358291cff44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02ef311a-d04d-41b9-b09b-31736a9dd4b8&quot;,&quot;parentUUID&quot;:&quot;cdb69553-fbcc-4b7f-990e-d358291cff44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f93a8e69-92ca-457f-8941-ad15c2bf77fb&quot;,&quot;parentUUID&quot;:&quot;cdb69553-fbcc-4b7f-990e-d358291cff44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1cbeb8a-d139-442c-aba2-bed727d4234a&quot;,&quot;parentUUID&quot;:&quot;cdb69553-fbcc-4b7f-990e-d358291cff44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;deleting a device works&quot;,&quot;fullTitle&quot;:&quot;DELETE /devices/delete/:device_id deleting a device works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/devices/delete/AN001&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(201, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e908513-f553-4e95-85ce-ae66942f4b15&quot;,&quot;parentUUID&quot;:&quot;cdb69553-fbcc-4b7f-990e-d358291cff44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;65780fe8-1df1-46b2-a7f3-be122f272b9d&quot;,&quot;02ef311a-d04d-41b9-b09b-31736a9dd4b8&quot;,&quot;f93a8e69-92ca-457f-8941-ad15c2bf77fb&quot;,&quot;e1cbeb8a-d139-442c-aba2-bed727d4234a&quot;,&quot;6e908513-f553-4e95-85ce-ae66942f4b15&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:26,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fd12425f-29e5-46a6-9876-7b4d2c1a86c3&quot;,&quot;title&quot;:&quot;GET /user/all&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /user/all\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /user/all \&quot;before all\&quot; hook in \&quot;GET /user/all\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69001161-b287-4656-a78c-ee3d23bb1da7&quot;,&quot;parentUUID&quot;:&quot;fd12425f-29e5-46a6-9876-7b4d2c1a86c3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f66d8a9-8a40-439d-a52b-6cabd493d2c6&quot;,&quot;parentUUID&quot;:&quot;fd12425f-29e5-46a6-9876-7b4d2c1a86c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf0fb687-25d4-4a26-b405-bdbd56e7f725&quot;,&quot;parentUUID&quot;:&quot;fd12425f-29e5-46a6-9876-7b4d2c1a86c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;293a75be-f15d-4ce6-bc08-f27aa120a09c&quot;,&quot;parentUUID&quot;:&quot;fd12425f-29e5-46a6-9876-7b4d2c1a86c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with json&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds with json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/all&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a950fbe-9bba-42cb-b732-1725a43ace0b&quot;,&quot;parentUUID&quot;:&quot;fd12425f-29e5-46a6-9876-7b4d2c1a86c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct users informations&quot;,&quot;fullTitle&quot;:&quot;GET /user/all responds with correct users informations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/all&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, [{\n        id: \&quot;ABCDEFG\&quot;,\n        firstName: \&quot;Lilian\&quot;,\n        lastName: \&quot;Bethus\&quot;,\n        email: \&quot;lilianb@mail.fr\&quot;,\n        admin: true,\n        temporaryPassword: false\n    },\n    {\n        id: \&quot;HIJKLMN\&quot;,\n        firstName: \&quot;Milan\&quot;,\n        lastName: \&quot;Pasquereau\&quot;,\n        email: \&quot;mpsqr@mail.fr\&quot;,\n        admin: false,\n        temporaryPassword: false\n    }], done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed76e019-0b18-4dcc-82cd-cc9b56c54324&quot;,&quot;parentUUID&quot;:&quot;fd12425f-29e5-46a6-9876-7b4d2c1a86c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8f66d8a9-8a40-439d-a52b-6cabd493d2c6&quot;,&quot;cf0fb687-25d4-4a26-b405-bdbd56e7f725&quot;,&quot;293a75be-f15d-4ce6-bc08-f27aa120a09c&quot;,&quot;3a950fbe-9bba-42cb-b732-1725a43ace0b&quot;,&quot;ed76e019-0b18-4dcc-82cd-cc9b56c54324&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;68bb4624-03a7-4d0f-93c2-b721df03dacd&quot;,&quot;title&quot;:&quot;GET /user/:userId&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GET /user/:userId\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId \&quot;before all\&quot; hook in \&quot;GET /user/:userId\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc641233-2de5-4ab3-a92e-98a037c64cb3&quot;,&quot;parentUUID&quot;:&quot;68bb4624-03a7-4d0f-93c2-b721df03dacd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds with json&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds with json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bb4ceb9-db74-4f23-a5ad-6d3296f7aac5&quot;,&quot;parentUUID&quot;:&quot;68bb4624-03a7-4d0f-93c2-b721df03dacd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds with correct user informations&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds with correct user informations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/ABCDEFG&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, {\n    id: \&quot;ABCDEFG\&quot;,\n    firstName: \&quot;Lilian\&quot;,\n    lastName: \&quot;Bethus\&quot;,\n    email: \&quot;lilianb@mail.fr\&quot;,\n    admin: true,\n    temporaryPassword: false\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;747cd369-a3f7-41b5-829c-4fb48ca86445&quot;,&quot;parentUUID&quot;:&quot;68bb4624-03a7-4d0f-93c2-b721df03dacd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid ID&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds error for invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/invalid&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Cannot find results\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c60ea6eb-5cc7-4631-af67-df3741c93904&quot;,&quot;parentUUID&quot;:&quot;68bb4624-03a7-4d0f-93c2-b721df03dacd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ecfc473f-ccec-469b-aec4-6edd0c263823&quot;,&quot;parentUUID&quot;:&quot;68bb4624-03a7-4d0f-93c2-b721df03dacd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;801fa93f-b561-40ce-a934-27dfa01468eb&quot;,&quot;parentUUID&quot;:&quot;68bb4624-03a7-4d0f-93c2-b721df03dacd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55336681-1c58-411d-8b01-4977b80bf477&quot;,&quot;parentUUID&quot;:&quot;68bb4624-03a7-4d0f-93c2-b721df03dacd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4bb4ceb9-db74-4f23-a5ad-6d3296f7aac5&quot;,&quot;747cd369-a3f7-41b5-829c-4fb48ca86445&quot;,&quot;c60ea6eb-5cc7-4631-af67-df3741c93904&quot;,&quot;ecfc473f-ccec-469b-aec4-6edd0c263823&quot;,&quot;801fa93f-b561-40ce-a934-27dfa01468eb&quot;,&quot;55336681-1c58-411d-8b01-4977b80bf477&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2d66434c-eed3-4085-b486-be2619d5a626&quot;,&quot;title&quot;:&quot;PUT /user/add&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;PUT /user/add\&quot;&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add \&quot;before each\&quot; hook in \&quot;PUT /user/add\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e75abc0-8983-47e3-99fc-ce4137c597ab&quot;,&quot;parentUUID&quot;:&quot;2d66434c-eed3-4085-b486-be2619d5a626&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error when trying to add user with already existing id&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error when trying to add user with already existing id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;ABCDEFG\&quot;,\n    firstName: \&quot;Marche\&quot;,\n    lastName: \&quot;Pas\&quot;,\n    email: \&quot;rien@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this ID already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d87f1d7d-9850-4f64-8b76-d741feb1276f&quot;,&quot;parentUUID&quot;:&quot;2d66434c-eed3-4085-b486-be2619d5a626&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid ID&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error for invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;INVAL\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;jdupont@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid ID\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6698b6e6-3ca9-4930-b1ac-0448f6847766&quot;,&quot;parentUUID&quot;:&quot;2d66434c-eed3-4085-b486-be2619d5a626&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid email&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error for invalid email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;TESTTE1\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;cecinestpasunmail.correct\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;Invalid email\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a4ead47-2283-4a9f-a2f3-5fca015b7b8b&quot;,&quot;parentUUID&quot;:&quot;2d66434c-eed3-4085-b486-be2619d5a626&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid user with already existing email&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error for invalid user with already existing email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;TESTTE2\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;lilianb@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this email already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bd89fa1-be0a-4bff-8f42-fc8b2da4b9ba&quot;,&quot;parentUUID&quot;:&quot;2d66434c-eed3-4085-b486-be2619d5a626&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea61b90d-4876-4d92-b421-bc31a49e6891&quot;,&quot;parentUUID&quot;:&quot;2d66434c-eed3-4085-b486-be2619d5a626&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;757b5f4a-900a-47ec-a06c-140fdf16a5eb&quot;,&quot;parentUUID&quot;:&quot;2d66434c-eed3-4085-b486-be2619d5a626&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;484ee6f4-24be-4b9d-9be6-eeda9e5a0a27&quot;,&quot;parentUUID&quot;:&quot;2d66434c-eed3-4085-b486-be2619d5a626&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;user creation works&quot;,&quot;fullTitle&quot;:&quot;PUT /user/add user creation works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .put(&#x27;/api/users/add&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;TESTTE3\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;jdupont@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, () =&gt; {\n    supertest_1.default(server_1.app)\n        .get(&#x27;/api/users/TESTTE3&#x27;)\n        .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n        .set(\&quot;x-access-token\&quot;, helper.getToken())\n        .expect(&#x27;Content-Type&#x27;, /json/)\n        .expect(200, {\n        id: \&quot;TESTTE3\&quot;,\n        firstName: \&quot;Jean\&quot;,\n        lastName: \&quot;Dupont\&quot;,\n        email: \&quot;jdupont@mail.fr\&quot;,\n        admin: false,\n        temporaryPassword: true\n    }, done);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43751814-a111-45fa-8404-9e23295657a9&quot;,&quot;parentUUID&quot;:&quot;2d66434c-eed3-4085-b486-be2619d5a626&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d87f1d7d-9850-4f64-8b76-d741feb1276f&quot;,&quot;6698b6e6-3ca9-4930-b1ac-0448f6847766&quot;,&quot;3a4ead47-2283-4a9f-a2f3-5fca015b7b8b&quot;,&quot;3bd89fa1-be0a-4bff-8f42-fc8b2da4b9ba&quot;,&quot;ea61b90d-4876-4d92-b421-bc31a49e6891&quot;,&quot;757b5f4a-900a-47ec-a06c-140fdf16a5eb&quot;,&quot;484ee6f4-24be-4b9d-9be6-eeda9e5a0a27&quot;,&quot;43751814-a111-45fa-8404-9e23295657a9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:158,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;13a81132-4558-4cd7-9223-60f7811b11c6&quot;,&quot;title&quot;:&quot;POST /user/modify&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /user/modify\&quot;&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify \&quot;before each\&quot; hook in \&quot;POST /user/modify\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;501fcbbd-53aa-46ad-875b-66232b57cb26&quot;,&quot;parentUUID&quot;:&quot;13a81132-4558-4cd7-9223-60f7811b11c6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error for invalid user ID&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error for invalid user ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/users/modify&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;INVALID\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;jdupont@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this ID doesn&#x27;t exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58e90932-c051-4e2c-893c-9d788fba4783&quot;,&quot;parentUUID&quot;:&quot;13a81132-4558-4cd7-9223-60f7811b11c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error for invalid user with already existing email&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error for invalid user with already existing email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/users/modify&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;HIJKLMN\&quot;,\n    firstName: \&quot;Jean\&quot;,\n    lastName: \&quot;Dupont\&quot;,\n    email: \&quot;lilianb@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this email already exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c68633d0-49c9-4584-aa89-788c920d1402&quot;,&quot;parentUUID&quot;:&quot;13a81132-4558-4cd7-9223-60f7811b11c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88f4a873-f5e8-4915-91df-e33ffc0803d9&quot;,&quot;parentUUID&quot;:&quot;13a81132-4558-4cd7-9223-60f7811b11c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5fb62e96-6c84-495b-9e1a-8e2a8a6877f5&quot;,&quot;parentUUID&quot;:&quot;13a81132-4558-4cd7-9223-60f7811b11c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d23e308-51d4-4b9f-895c-60bcd75bf351&quot;,&quot;parentUUID&quot;:&quot;13a81132-4558-4cd7-9223-60f7811b11c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;user modification works&quot;,&quot;fullTitle&quot;:&quot;POST /user/modify user modification works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .post(&#x27;/api/users/modify&#x27;)\n    .set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .send({\n    id: \&quot;HIJKLMN\&quot;,\n    firstName: \&quot;M\&quot;,\n    lastName: \&quot;P\&quot;,\n    email: \&quot;psqrm@mail.fr\&quot;,\n    admin: false\n})\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, () =&gt; {\n    supertest_1.default(server_1.app)\n        .get(&#x27;/api/users/HIJKLMN&#x27;)\n        .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n        .set(\&quot;x-access-token\&quot;, helper.getToken())\n        .expect(&#x27;Content-Type&#x27;, /json/)\n        .expect(200, {\n        id: \&quot;HIJKLMN\&quot;,\n        firstName: \&quot;M\&quot;,\n        lastName: \&quot;P\&quot;,\n        email: \&quot;psqrm@mail.fr\&quot;,\n        admin: false,\n        temporaryPassword: false\n    }, done);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ce5583f-022a-4212-bc89-5bbf79d9f2e9&quot;,&quot;parentUUID&quot;:&quot;13a81132-4558-4cd7-9223-60f7811b11c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;58e90932-c051-4e2c-893c-9d788fba4783&quot;,&quot;c68633d0-49c9-4584-aa89-788c920d1402&quot;,&quot;88f4a873-f5e8-4915-91df-e33ffc0803d9&quot;,&quot;5fb62e96-6c84-495b-9e1a-8e2a8a6877f5&quot;,&quot;2d23e308-51d4-4b9f-895c-60bcd75bf351&quot;,&quot;7ce5583f-022a-4212-bc89-5bbf79d9f2e9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:44,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;11934487-e289-4f3b-87c4-cf34ca606f5f&quot;,&quot;title&quot;:&quot;DELETE /user/delete/:userId&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;DELETE /user/delete/:userId\&quot;&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId \&quot;before each\&quot; hook in \&quot;DELETE /user/delete/:userId\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d0380ca-65cf-4af3-aaa7-10f8ed6fe7da&quot;,&quot;parentUUID&quot;:&quot;11934487-e289-4f3b-87c4-cf34ca606f5f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error with invalid user id&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId responds error with invalid user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/users/delete/INVALID&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this ID doesn&#x27;t exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9330b985-e76e-40de-88cf-30cbaf8fbe4b&quot;,&quot;parentUUID&quot;:&quot;11934487-e289-4f3b-87c4-cf34ca606f5f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;936485b2-ee87-4e83-99bd-fd7262b89f7f&quot;,&quot;parentUUID&quot;:&quot;11934487-e289-4f3b-87c4-cf34ca606f5f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f10f5ea7-6435-4d1a-97d6-269c93fc7b8b&quot;,&quot;parentUUID&quot;:&quot;11934487-e289-4f3b-87c4-cf34ca606f5f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f80cf4b-6083-4644-ba61-ac8ceac73b4f&quot;,&quot;parentUUID&quot;:&quot;11934487-e289-4f3b-87c4-cf34ca606f5f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;user deletion works&quot;,&quot;fullTitle&quot;:&quot;DELETE /user/delete/:userId user deletion works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .delete(&#x27;/api/users/delete/HIJKLMN&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(201, () =&gt; {\n    supertest_1.default(server_1.app)\n        .get(&#x27;/api/users/HIJKLMN&#x27;)\n        .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n        .set(\&quot;x-access-token\&quot;, helper.getToken())\n        .expect(&#x27;Content-Type&#x27;, /json/)\n        .expect(400, {\n        error: true,\n        message: \&quot;Cannot find results\&quot;\n    }, done);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41ddaacf-7e32-4c51-b69c-32c018325c0a&quot;,&quot;parentUUID&quot;:&quot;11934487-e289-4f3b-87c4-cf34ca606f5f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9330b985-e76e-40de-88cf-30cbaf8fbe4b&quot;,&quot;936485b2-ee87-4e83-99bd-fd7262b89f7f&quot;,&quot;f10f5ea7-6435-4d1a-97d6-269c93fc7b8b&quot;,&quot;5f80cf4b-6083-4644-ba61-ac8ceac73b4f&quot;,&quot;41ddaacf-7e32-4c51-b69c-32c018325c0a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:37,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;81e125b3-4e87-4fdf-8fd3-8a532afd97a0&quot;,&quot;title&quot;:&quot;GET /user/:userId/history&quot;,&quot;fullFile&quot;:&quot;/Users/easycash/Loaner/tests/routestests/user_route_test.ts&quot;,&quot;file&quot;:&quot;/tests/routestests/user_route_test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;GET /user/:userId/history\&quot;&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history \&quot;before each\&quot; hook in \&quot;GET /user/:userId/history\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        yield create_db_1.default();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f3ce9df-5aae-407b-9426-5b44f8ea8324&quot;,&quot;parentUUID&quot;:&quot;81e125b3-4e87-4fdf-8fd3-8a532afd97a0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;responds error with invalid user id&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history responds error with invalid user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/INVALID/history&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(400, {\n    error: true,\n    message: \&quot;User with this ID doesn&#x27;t exists\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d79697fc-f58b-43ee-a9cc-0a6eae4f0122&quot;,&quot;parentUUID&quot;:&quot;81e125b3-4e87-4fdf-8fd3-8a532afd97a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with no token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history responds error with no token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test.set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;No token specified\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f33fa78-5e42-4c11-8fed-e915f027a83c&quot;,&quot;parentUUID&quot;:&quot;81e125b3-4e87-4fdf-8fd3-8a532afd97a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with invalid token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history responds error with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, invalidToken)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;Invalid token\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;413fffa4-4047-4c8d-bfeb-6a5199212741&quot;,&quot;parentUUID&quot;:&quot;81e125b3-4e87-4fdf-8fd3-8a532afd97a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;responds error with not admin privileges token&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history responds error with not admin privileges token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, tokenNoAdmin)\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(401, {\n    error: true,\n    message: \&quot;This endpoint requires admin privileges\&quot;\n}, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ff36d88-6ffc-4c36-b779-f944354ef46b&quot;,&quot;parentUUID&quot;:&quot;81e125b3-4e87-4fdf-8fd3-8a532afd97a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;user history works&quot;,&quot;fullTitle&quot;:&quot;GET /user/:userId/history user history works&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;supertest_1.default(server_1.app)\n    .get(&#x27;/api/users/ABCDEFG/history&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .set(\&quot;x-access-token\&quot;, helper.getToken())\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200, [{\n        ID: 2,\n        endDate: \&quot;2021-01-12\&quot;,\n        idUser: \&quot;ABCDEFG\&quot;,\n        refDevice: \&quot;PC001\&quot;,\n        returnDate: \&quot;2021-02-04\&quot;,\n        startDate: \&quot;2021-01-04\&quot;\n    }], done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3cdc9505-5da9-4c07-ac64-ef0eccc25db5&quot;,&quot;parentUUID&quot;:&quot;81e125b3-4e87-4fdf-8fd3-8a532afd97a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d79697fc-f58b-43ee-a9cc-0a6eae4f0122&quot;,&quot;6f33fa78-5e42-4c11-8fed-e915f027a83c&quot;,&quot;413fffa4-4047-4c8d-bfeb-6a5199212741&quot;,&quot;1ff36d88-6ffc-4c36-b779-f944354ef46b&quot;,&quot;3cdc9505-5da9-4c07-ac64-ef0eccc25db5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;8fadb271-bfd5-4a8a-92be-70a81d9e04e4&quot;,&quot;6d66b891-0d8b-4845-8f6c-0fdabb59da73&quot;,&quot;45e7b87e-e6f1-4d73-81c7-6b49459b2f87&quot;,&quot;c5555752-4a1b-4494-9934-fa85b8c036e4&quot;,&quot;6f9f9bf4-68b9-42a1-9694-7a968cb2b67e&quot;,&quot;f35cf4e8-9bf4-4e4a-bf63-1bd4f9c8f95c&quot;,&quot;865ec80b-ce91-47fd-85f4-63cac56414d6&quot;],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;8.2.1&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.2.1&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Loaner&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/easycash/Loaner/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/Users/easycash/Loaner/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>